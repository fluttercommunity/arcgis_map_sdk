"use strict";(self.webpackChunkarcgis_webpack01=self.webpackChunkarcgis_webpack01||[]).push([[96813],{94140:(t,n,e)=>{e.d(n,{a:()=>i,b:()=>a,l:()=>f,n:()=>u,t:()=>l});var r=e(86875),o=(e(39994),e(13802));function i(t,n,e){l(t.typedBuffer,n.typedBuffer,e,t.typedBufferStride,n.typedBufferStride)}function l(t,n,e,r=4,o=r){if(t.length/r!=n.length/o)return;const i=t.length/r,l=e[0],u=e[1],c=e[2],f=e[3],a=e[4],s=e[5],p=e[6],y=e[7],d=e[8];let g=0,A=0;for(let e=0;e<i;e++){const e=n[g],i=n[g+1],T=n[g+2],m=n[g+3];t[A]=l*e+f*i+p*T,t[A+1]=u*e+a*i+y*T,t[A+2]=c*e+s*i+d*T,t[A+3]=m,g+=o,A+=r}}function u(t,n){const e=Math.min(t.count,n.count),r=t.typedBuffer,o=t.typedBufferStride,i=n.typedBuffer,l=n.typedBufferStride;for(let t=0;t<e;t++){const n=t*o,e=t*l,u=i[e],c=i[e+1],f=i[e+2],a=u*u+c*c+f*f;if(a>0){const t=1/Math.sqrt(a);r[n]=t*u,r[n+1]=t*c,r[n+2]=t*f}}}function c(t,n,e,r=4){const o=Math.min(t.length/r,n.count),i=n.typedBuffer,l=n.typedBufferStride;let u=0,c=0;for(let n=0;n<o;n++)t[c]=e*i[u],t[c+1]=e*i[u+1],t[c+2]=e*i[u+2],t[c+3]=e*i[u+3],u+=l,c+=r}function f(t,n,e,r){a(t.typedBuffer,n,e,r,t.typedBufferStride)}function a(t,n,e,o,i=4){const l=Math.min(t.length/i,n.count),u=n.typedBuffer,c=n.typedBufferStride;let f=0,a=0;const s=1/r.jm;for(let n=0;n<l;n++)t[a]=o*(e*u[f])**s,t[a+1]=o*(e*u[f+1])**s,t[a+2]=o*(e*u[f+2])**s,t[a+3]=o*e*u[f+3],f+=c,a+=i}Object.freeze(Object.defineProperty({__proto__:null,linearToSRGB:a,linearToSRGBView:f,normalize:u,scale:c,scaleView:function(t,n,e){c(t.typedBuffer,n,e,t.typedBufferStride)},transformMat3:l,transformMat3View:i,transformMat4:function(t,n,e,r=4,i=r){if(t.length/r!=n.length/i)return void o.Z.getLogger("esri.views.3d.support.buffer.math").error("source and destination buffers need to have the same number of elements");const l=t.length/r,u=e[0],c=e[1],f=e[2],a=e[3],s=e[4],p=e[5],y=e[6],d=e[7],g=e[8],A=e[9],T=e[10],m=e[11],R=e[12],h=e[13],S=e[14],E=e[15];let w=0,O=0;for(let e=0;e<l;e++){const e=n[w],o=n[w+1],l=n[w+2],M=n[w+3];t[O]=u*e+s*o+g*l+R*M,t[O+1]=c*e+p*o+A*l+h*M,t[O+2]=f*e+y*o+T*l+S*M,t[O+3]=a*e+d*o+m*l+E*M,w+=i,O+=r}},transformMat4View:function(t,n,e){if(t.count!==n.count)return;const r=t.count,o=e[0],i=e[1],l=e[2],u=e[3],c=e[4],f=e[5],a=e[6],s=e[7],p=e[8],y=e[9],d=e[10],g=e[11],A=e[12],T=e[13],m=e[14],R=e[15],h=t.typedBuffer,S=t.typedBufferStride,E=n.typedBuffer,w=n.typedBufferStride;for(let t=0;t<r;t++){const n=t*S,e=t*w,r=E[e],O=E[e+1],M=E[e+2],_=E[e+3];h[n]=o*r+c*O+p*M+A*_,h[n+1]=i*r+f*O+y*M+T*_,h[n+2]=l*r+a*O+d*M+m*_,h[n+3]=u*r+s*O+g*M+R*_}}},Symbol.toStringTag,{value:"Module"}))},96813:(t,n,e)=>{e.r(n),e.d(n,{projectMeshVertexPositions:()=>u});var r=e(22349),o=e(58626),i=e(35925),l=e(59572);function u(t,n){const e=(0,l.qk)(t,o.Z.absolute);if(!e)return null;let u=e.position;return(0,i.fS)(t.spatialReference,n)||(u=new Float64Array(e.position.length),(0,r.projectBuffer)(e.position,t.spatialReference,0,u,n,0))?u:null}},49921:(t,n,e)=>{e.d(n,{$s:()=>B,Gi:()=>m,Iz:()=>h,M2:()=>N,MO:()=>v,Ot:()=>_,To:()=>w,VS:()=>M,XO:()=>E,Yk:()=>S,pn:()=>R,w9:()=>O,wi:()=>F});var r=e(19431),o=e(46332),i=e(3965),l=e(32114),u=e(3308),c=e(86717),f=e(81095),a=e(7845),s=e(22349),p=e(14260),y=e(35925),d=e(39536),g=e(81936),A=e(6766),T=e(94140);const m="Projection may be possible after calling projection.load().";function R(t,n,e,r){t.error(`Failed to project from (wkid:${n.wkid}) to (wkid:${e.wkid}).${r?" ":""}${r}`)}function h(t,n,e,r,o,i){return x(U.TO_PCPF,g.ct.fromTypedArray(t),v.NORMAL,g.fP.fromTypedArray(n),e,g.fP.fromTypedArray(r),o,g.ct.fromTypedArray(i))?i:null}function S(t,n,e,r,o,i){return x(U.FROM_PCPF,g.ct.fromTypedArray(t),v.NORMAL,g.fP.fromTypedArray(n),e,g.fP.fromTypedArray(r),o,g.ct.fromTypedArray(i))?i:null}function E(t,n,e,r){return(0,s.projectBuffer)(t,n,0,e,r,0)?e:null}function w(t,n,e,r){return(0,s.projectBuffer)(t,n,0,e,r,0)?e:null}function O(t,n,e){return(0,o.XL)(k,e),(0,A.b)(n,t,k),(0,r.oc)(k)&&(0,A.n)(n,n),n}function M(t,n,e){return(0,o.xO)(k,e),(0,T.t)(n,t,k),(0,r.oc)(k)&&(0,A.n)(n,n,4),n}function _(t,n,e,o){const i=n===v.NORMAL;return P(t,n,e,((t,n)=>{const e=Math.cos((0,r.Vl)(t));n[0]=i?e:1/e,n[1]=1}),o)}function B(t,n,e,r){const o=n===v.NORMAL;return P(t,n,e,((t,n)=>{const e=Math.cosh(-t/p.sv.radius);n[0]=1,n[1]=o?e:1/e}),r)}function P(t,n,e,r,o){const i=n===v.NORMAL?3:4,l=[0,0];for(let n=0,u=1;n<t.length;n+=i,u+=3){r(e[u],l);const c=t[n]*l[0],f=t[n+1]*l[1],a=t[n+2],s=1/Math.sqrt(c*c+f*f+a*a);o[n]=c*s,o[n+1]=f*s,o[n+2]=a*s,4===i&&(o[n+3]=t[n+3])}return o}function F(t,n,e,r,o,i){if(!x(U.TO_PCPF,g.ct.fromTypedArray(t,4*Float32Array.BYTES_PER_ELEMENT),v.TANGENT,g.fP.fromTypedArray(n),e,g.fP.fromTypedArray(r),o,g.ct.fromTypedArray(i,4*Float32Array.BYTES_PER_ELEMENT)))return null;for(let n=3;n<t.length;n+=4)i[n]=t[n];return i}function N(t,n,e,r,o,i){if(!x(U.FROM_PCPF,g.ct.fromTypedArray(t,16),v.TANGENT,g.fP.fromTypedArray(n),e,g.fP.fromTypedArray(r),o,g.ct.fromTypedArray(i,16)))return null;for(let n=3;n<t.length;n+=4)i[n]=t[n];return i}var v,U,b;function C(t,n,e,r,i){switch((0,a.B)(r,e,L,r),t===U.FROM_PCPF&&(0,l.U_)(L,L),n){case v.NORMAL:return(0,o.XL)(i,L);case v.TANGENT:return(0,o.xO)(i,L)}}function x(t,n,e,r,o,i,l,u){if(!n)return;const f=r.count;if(function(t){return t.isWGS84||(0,y.yW)(t)||(0,y.BZ)(t)||(0,y.V2)(t)}(o))for(let r=0;r<f;r++)i.getVec(r,G),n.getVec(r,V),(0,c.q)(V,V,C(t,e,G,l,k)),u.setVec(r,V);else for(let o=0;o<f;o++){i.getVec(o,G),n.getVec(o,V);const f=(0,d.mZ)(r.get(o,1));let a=Math.cos(f);e===v.TANGENT!=(t===U.TO_PCPF)&&(a=1/a),C(t,e,G,l,k),t===U.TO_PCPF?(k[0]*=a,k[1]*=a,k[2]*=a,k[3]*=a,k[4]*=a,k[5]*=a):(k[0]*=a,k[3]*=a,k[6]*=a,k[1]*=a,k[4]*=a,k[7]*=a),(0,c.q)(V,V,k),(0,c.n)(V,V),u.setVec(o,V)}return u}(b=v||(v={}))[b.NORMAL=0]="NORMAL",b[b.TANGENT=1]="TANGENT",function(t){t[t.TO_PCPF=0]="TO_PCPF",t[t.FROM_PCPF=1]="FROM_PCPF"}(U||(U={}));const G=(0,f.Ue)(),V=(0,f.Ue)(),L=(0,u.Ue)(),k=(0,i.Ue)()},59572:(t,n,e)=>{e.d(n,{qk:()=>S,ur:()=>B,x1:()=>h});var r=e(13802),o=e(19431),i=e(17321),l=e(46332),u=e(3965),c=e(32114),f=e(3308),a=e(86717),s=e(81095),p=e(61170),y=e(7845),d=e(57022),g=e(50442),A=e(35925),T=e(6766),m=e(49921);const R=()=>r.Z.getLogger("esri.geometry.support.meshUtils.vertexSpaceConversion");function h(t,n,{vertexSpace:e,spatialReference:r}){if("georeferenced"===e.type){const o=t;if(!(0,d.K)(n,o,r))return!1;const{origin:i}=e;return(0,a.d)(t,o,i),!0}const o=(0,p.rS)(r),i=t;if(!(0,d.K)(n,i,o))return!1;const{origin:l}=e,u=U;if(!(0,y.B)(r,l,u,o))return!1;const f=(0,c.U_)(U,u);return null!=f&&((0,a.t)(t,i,f),!0)}function S(t,n,e){const{vertexSpace:r,transform:o,vertexAttributes:i}=t,u=(0,g.zZ)(r)?o:null,s=M(t.spatialReference,e,b.SOURCE_AND_TARGET);if((0,g.vI)(r,n)&&(!u||(0,c.I6)(u.localMatrix,f.Wd))&&_(s)){const{position:t,normal:n,tangent:r}=i,o=e?.allowBufferReuse;return{position:o?t:t.slice(),normal:o?n:n?.slice(),tangent:o?r:r?.slice()}}switch(t.vertexSpace.type){case"local":return"local"===n.type?function({vertexAttributes:t,spatialReference:n,transform:e},{origin:r},o,i){const l=E(n,i);if(!(0,y.B)(n,r,P,l))return(0,m.pn)(R(),n,l),null;if(e&&(0,c.Jp)(P,P,e.localMatrix),!(0,y.B)(n,o,F,l))return(0,m.pn)(R(),l,n),null;(0,c.U_)(F,F);const u=(0,c.Jp)(P,F,P);return O(u,n,i,b.SOURCE_AND_TARGET),w(t,u)}(t,t.vertexSpace,n.origin,e):function({spatialReference:t,vertexAttributes:n,transform:e},{origin:r},o,i){const l=E(t,i);if(!(0,y.B)(t,r,P,l))return(0,m.pn)(R(),t,l),null;e&&(0,c.Jp)(P,P,e.localMatrix),O(P,t,i,b.SOURCE);const u=new Float64Array(n.position.length),f=function(t,n,e,r,o){(0,T.t)(r,t,n);const i=new Float64Array(t.length);return(0,m.To)(r,o,i,e)?i:((0,m.pn)(R(),o,e),null)}(n.position,P,t,u,l);if(!f)return null;const s=function(t,n,e,r,o,i){if(null==o)return null;const l=new Float32Array(o.length);return(0,m.w9)(o,l,i),(0,m.Yk)(l,t,n,e,r,l)?l:((0,m.pn)(R(),r,n),null)}(f,t,u,l,n.normal,P);if(n.normal&&!s)return null;const p=function(t,n,e,r,o,i){if(null==o)return null;const l=new Float32Array(o.length);return(0,m.VS)(o,l,i),(0,m.M2)(l,t,n,e,r,l)?l:((0,m.pn)(R(),r,n),null)}(f,t,u,l,n.tangent,P);if(n.tangent&&!p)return null;if(o){const t=(0,a.v)(v,o);(0,T.a)(f,f,t)}return{position:f,normal:s,tangent:p}}(t,t.vertexSpace,n.origin,e);case"georeferenced":return"local"===n.type?function({vertexAttributes:t,spatialReference:n,transform:e},{origin:r},o,i){const u=E(n,i);if(!(0,y.B)(n,o,P,u))return(0,m.pn)(R(),n,u),null;const f=1/M(n,i,b.TARGET);(0,c.bA)(P,P,[f,f,f]);const a=(0,c.U_)(F,P),{position:s,normal:p,tangent:d}=function(t,n,e){if(!n)return t;if(!e){const{position:e,normal:r,tangent:o}=t;return{position:(0,T.a)(new Float64Array(e.length),e,n),tangent:o,normal:r}}const r=w(t,e.localMatrix);return(0,T.a)(r.position,r.position,n),r}(t,r,e),g=new Float64Array(s.length),A=function(t,n,e,r,o){const i=(0,m.XO)(t,n,r,o);if(!i)return(0,m.pn)(R(),n,o),null;const l=new Float64Array(i.length);return(0,T.t)(l,i,e),l}(s,n,a,g,u);if(!A)return null;const h=(0,l.XL)(N,a),S=function(t,n,e,r,o,i,l){if(null==t)return null;const u=l??new Float32Array(t.length);return(0,m.Iz)(t,n,e,r,o,u)?((0,T.b)(u,u,i),u):((0,m.pn)(R(),e,o),null)}(p,s,n,g,u,h,p!==t.normal?p:void 0);if(!S&&p)return null;const O=function(t,n,e,r,o,i,l){if(null==t)return null;const u=l??new Float32Array(t.length);return(0,m.wi)(t,n,e,r,o,u)?((0,T.b)(u,u,i,4),u):((0,m.pn)(R(),e,o),null)}(d,s,n,g,u,h,d!==t.tangent?d:void 0);return!O&&d?null:{position:A,normal:S,tangent:O}}(t,t.vertexSpace,n.origin,e):function({vertexAttributes:t,transform:n,spatialReference:e},{origin:r},o,i){const l=M(e,i,b.SOURCE_AND_TARGET),u=r||!_(l)?(0,c.JG)(P,n?.localMatrix??f.Wd):null;u&&O(u,e,i,b.SOURCE_AND_TARGET);const{position:s,normal:p,tangent:y}=u?w(t,u):t,d=i?.allowBufferReuse,g=d?s:new Float64Array(s.length);let A=s;if(r&&(A=(0,T.a)(g,A,r)),o){const t=(0,a.v)(v,o);A=(0,T.a)(g,A,t)}return{position:A!==t.position||d?A:A.slice(),normal:p!==t.normal||d?p:p?.slice(),tangent:y!==t.tangent||d?y:y?.slice()}}(t,t.vertexSpace,n.origin,e)}}function E(t,n){return n?.useEllipsoid&&(0,A.N$)(t)?p.wY:(0,p.rS)(t)}function w(t,n){const e=new Float64Array(t.position.length);(0,T.t)(e,t.position,n);const r=t.normal?new Float32Array(t.normal.length):null,o=t.tangent?new Float32Array(t.tangent.length):null;return r&&t.normal&&(0,m.w9)(t.normal,r,n),o&&t.tangent&&(0,m.VS)(t.tangent,o,n),{position:e,normal:r,tangent:o}}function O(t,n,e,r){const o=M(n,e,r);_(o)||(0,c.bA)(t,t,[o,o,o])}function M(t,n,e){const r=!!(e&b.SOURCE),o=!!(e&b.TARGET),i=n?.sourceUnit,l=n?.targetUnit;if(!i&&!l)return 1;let u=B(i,t);r||!i||_(u)||(R().warn("source unit conversion not supported"),u=1);let c=1/B(l,t);return o||!l||_(c)||(R().warn("target unit conversion not supported"),c=1),u*c}function _(t){return(0,o.Po)(t,1)}function B(t,n){if(null==t)return 1;const e=(0,i.r6)(n);return 1/(0,i.En)(e,"meters",t)}const P=(0,f.Ue)(),F=(0,f.Ue)(),N=(0,u.Ue)(),v=(0,s.Ue)(),U=(0,f.Ue)();var b,C;(C=b||(b={}))[C.NONE=0]="NONE",C[C.SOURCE=1]="SOURCE",C[C.TARGET=2]="TARGET",C[C.SOURCE_AND_TARGET=3]="SOURCE_AND_TARGET"}}]);