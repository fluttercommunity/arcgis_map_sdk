"use strict";(self.webpackChunkarcgis_webpack01=self.webpackChunkarcgis_webpack01||[]).push([[78746,58340,48427,17700,16233],{58340:(e,t,n)=>{n.d(t,{c:()=>r,g:()=>i});var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}},48427:(e,t,n)=>{n.r(t),n.d(t,{hydratedAdapter:()=>c});var r=n(91772),i=n(74304),s=n(10186),o=n(89542),a=n(90819);const c={convertToGEGeometry:function(e,t){if(null==t)return null;let n="cache"in t?t.cache._geVersion:void 0;return null==n&&(n=e.convertJSONToGeometry(t),"cache"in t&&(t.cache._geVersion=n)),n},exportPoint:function(e,t,n){const r=e.hasZ(t),i=e.hasM(t),o=new s.Z({x:e.getPointX(t),y:e.getPointY(t),spatialReference:n});return r&&(o.z=e.getPointZ(t)),i&&(o.m=e.getPointM(t)),o.cache._geVersion=t,o},exportPolygon:function(e,t,n){const r=new o.Z({rings:e.exportPaths(t),hasZ:e.hasZ(t),hasM:e.hasM(t),spatialReference:n});return r.cache._geVersion=t,r},exportPolyline:function(e,t,n){const r=new a.Z({paths:e.exportPaths(t),hasZ:e.hasZ(t),hasM:e.hasM(t),spatialReference:n});return r.cache._geVersion=t,r},exportMultipoint:function(e,t,n){const r=new i.Z({hasZ:e.hasZ(t),hasM:e.hasM(t),points:e.exportPoints(t),spatialReference:n});return r.cache._geVersion=t,r},exportExtent:function(e,t,n){const i=e.hasZ(t),s=e.hasM(t),o=new r.Z({xmin:e.getXMin(t),ymin:e.getYMin(t),xmax:e.getXMax(t),ymax:e.getYMax(t),spatialReference:n});if(i){const n=e.getZExtent(t);o.zmin=n.vmin,o.zmax=n.vmax}if(s){const n=e.getMExtent(t);o.mmin=n.vmin,o.mmax=n.vmax}return o.cache._geVersion=t,o}}},17700:(e,t,n)=>{n.r(t),n.d(t,{buffer:()=>P,changeDefaultSpatialReferenceTolerance:()=>J,clearDefaultSpatialReferenceTolerance:()=>X,clip:()=>h,contains:()=>u,convexHull:()=>M,crosses:()=>p,cut:()=>l,densify:()=>D,difference:()=>V,disjoint:()=>R,distance:()=>f,equals:()=>g,extendedSpatialReferenceInfo:()=>d,flipHorizontal:()=>q,flipVertical:()=>F,generalize:()=>O,geodesicArea:()=>B,geodesicBuffer:()=>L,geodesicDensify:()=>I,geodesicLength:()=>N,intersect:()=>S,intersectLinesToPoints:()=>U,intersects:()=>x,isSimple:()=>G,nearestCoordinate:()=>j,nearestVertex:()=>b,nearestVertices:()=>k,offset:()=>A,overlaps:()=>w,planarArea:()=>H,planarLength:()=>z,relate:()=>m,rotate:()=>Z,simplify:()=>E,symmetricDifference:()=>_,touches:()=>y,union:()=>T,within:()=>v});var r=n(7283),i=n(93138),s=n(89067),o=n(14685),a=n(48427);function c(e){const t=Array.isArray(e)?e[0].spatialReference:e.spatialReference;return t?(0,r.TJ)(o.Z,t):o.Z.WGS84}function d(e){return s.G.extendedSpatialReferenceInfo(e)}function h(e,t){return(0,i.M)(e),s.G.clip(a.hydratedAdapter,c(e),e,t)}function l(e,t){return(0,i.M)(e),s.G.cut(a.hydratedAdapter,c(e),e,t)}function u(e,t){return(0,i.M)(e),(0,i.M)(t),s.G.contains(a.hydratedAdapter,c(e),e,t)}function p(e,t){return(0,i.M)(e),(0,i.M)(t),s.G.crosses(a.hydratedAdapter,c(e),e,t)}function f(e,t,n){return(0,i.M)(e),(0,i.M)(t),s.G.distance(a.hydratedAdapter,c(e),e,t,n)}function g(e,t){return(0,i.M)(e),(0,i.M)(t),s.G.equals(a.hydratedAdapter,c(e),e,t)}function x(e,t){return(0,i.M)(e),(0,i.M)(t),s.G.intersects(a.hydratedAdapter,c(e),e,t)}function y(e,t){return(0,i.M)(e),(0,i.M)(t),s.G.touches(a.hydratedAdapter,c(e),e,t)}function v(e,t){return(0,i.M)(e),(0,i.M)(t),s.G.within(a.hydratedAdapter,c(e),e,t)}function R(e,t){return(0,i.M)(e),(0,i.M)(t),s.G.disjoint(a.hydratedAdapter,c(e),e,t)}function w(e,t){return(0,i.M)(e),(0,i.M)(t),s.G.overlaps(a.hydratedAdapter,c(e),e,t)}function m(e,t,n){return(0,i.M)(e),(0,i.M)(t),s.G.relate(a.hydratedAdapter,c(e),e,t,n)}function G(e){return(0,i.M)(e),s.G.isSimple(a.hydratedAdapter,c(e),e)}function E(e){return(0,i.M)(e),s.G.simplify(a.hydratedAdapter,c(e),e)}function M(e,t=!1){return s.G.convexHull(a.hydratedAdapter,c(e),e,t)}function V(e,t){return(0,i.M)(t),s.G.difference(a.hydratedAdapter,c(e),e,t)}function _(e,t){return(0,i.M)(t),s.G.symmetricDifference(a.hydratedAdapter,c(e),e,t)}function S(e,t){return(0,i.M)(t),s.G.intersect(a.hydratedAdapter,c(e),e,t)}function T(e){return s.G.union(a.hydratedAdapter,c(e),e)}function A(e,t,n,r,i,o){return s.G.offset(a.hydratedAdapter,c(e),e,t,n,r,i,o)}function P(e,t,n,r=!1){return s.G.buffer(a.hydratedAdapter,c(e),e,t,n,r)}function L(e,t,n,r,i,o){return s.G.geodesicBuffer(a.hydratedAdapter,c(e),e,t,n,r,i,o)}function j(e,t,n=!0){return(0,i.M)(e),s.G.nearestCoordinate(a.hydratedAdapter,c(e),e,t,n)}function b(e,t){return(0,i.M)(e),s.G.nearestVertex(a.hydratedAdapter,c(e),e,t)}function k(e,t,n,r){return(0,i.M)(e),s.G.nearestVertices(a.hydratedAdapter,c(e),e,t,n,r)}function C(e){return"xmin"in e?"center"in e?e.center:null:"x"in e?e:"extent"in e?e.extent?.center??null:null}function Z(e,t,n){if(null==e)throw new Y;const r=e.spatialReference;if(null==(n=n??C(e)))throw new Y;const i=e.constructor.fromJSON(s.G.rotate(e,t,n));return i.spatialReference=r,i}function q(e,t){if(null==e)throw new Y;const n=e.spatialReference;if(null==(t=t??C(e)))throw new Y;const r=e.constructor.fromJSON(s.G.flipHorizontal(e,t));return r.spatialReference=n,r}function F(e,t){if(null==e)throw new Y;const n=e.spatialReference;if(null==(t=t??C(e)))throw new Y;const r=e.constructor.fromJSON(s.G.flipVertical(e,t));return r.spatialReference=n,r}function O(e,t,n,r){return(0,i.M)(e),s.G.generalize(a.hydratedAdapter,c(e),e,t,n,r)}function D(e,t,n){return(0,i.M)(e),s.G.densify(a.hydratedAdapter,c(e),e,t,n)}function I(e,t,n,r=0){return(0,i.M)(e),s.G.geodesicDensify(a.hydratedAdapter,c(e),e,t,n,r)}function H(e,t){return(0,i.M)(e),s.G.planarArea(a.hydratedAdapter,c(e),e,t)}function z(e,t){return(0,i.M)(e),s.G.planarLength(a.hydratedAdapter,c(e),e,t)}function B(e,t,n){return(0,i.M)(e),s.G.geodesicArea(a.hydratedAdapter,c(e),e,t,n)}function N(e,t,n){return(0,i.M)(e),s.G.geodesicLength(a.hydratedAdapter,c(e),e,t,n)}function U(e,t){return s.G.intersectLinesToPoints(a.hydratedAdapter,c(e),e,t)}function J(e,t){s.G.changeDefaultSpatialReferenceTolerance(e,t)}function X(e){s.G.clearDefaultSpatialReferenceTolerance(e)}class Y extends Error{constructor(){super("Illegal Argument Exception")}}},51862:(e,t,n)=>{n.r(t),n.d(t,{SelfSnappingEngine:()=>O});var r=n(36663),i=n(74396),s=n(41831),o=n(81977),a=(n(39994),n(13802),n(4157),n(40266)),c=n(16068),d=n(39405),h=n(81095),l=n(83772),u=n(51633),p=n(17321),f=n(36531),g=n(50639),x=n(22519),y=n(86);class v{constructor(e,t){this.view=e,this.options=t,this.squaredShortLineThreshold=g.c.shortLineThreshold*g.c.shortLineThreshold}snap(e,t){return null!=t.vertexHandle?"vertex"!==t.vertexHandle.type?[]:this.snapExistingVertex(e,t):this.snapNewVertex(e,t)}edgeExceedsShortLineThreshold(e,t){return this.exceedsShortLineThreshold((0,u.j7)(e.leftVertex.pos,this.view,t),(0,u.j7)(e.rightVertex.pos,this.view,t),t)}exceedsShortLineThreshold(e,t,{spatialReference:n}){return 0===this.squaredShortLineThreshold||(0,x.Bb)((0,y.R)(t,n,l.jG,this.view),(0,y.R)(e,n,l.jG,this.view))>this.squaredShortLineThreshold}isVertical(e,t,{spatialReference:n}){const r=(0,p.c9)(n);return(0,f.TE)((0,u.eR)(e),(0,u.eR)(t))*r<g.c.verticalLineThresholdMeters}squaredProximityThreshold(e){return"touch"===e?this._squaredTouchProximityThreshold:this._squaredMouseProximityThreshold}get _squaredMouseProximityThreshold(){return this.options.distance*this.options.distance}get _squaredTouchProximityThreshold(){const{distance:e,touchSensitivityMultiplier:t}=this.options,n=e*t;return n*n}}var R=n(66200),w=n(92772),m=n(956),G=n(6271),E=n(23440);class M extends v{snapNewVertex(e,t){const n=t.editGeometryOperations.data.components[0],r=n.edges.length,i=[];if(r<1)return i;const{spatialReference:s}=t,o=(0,y.R)(e,s,l.jG,this.view),{view:a}=this,c=n.edges[r-1];let d=c;do{if(this.edgeExceedsShortLineThreshold(d,t)){const n=(0,x._j)(d,a,t);this._processCandidateProposal(n.left,n.right,e,o,t,i)}d=d.leftVertex.leftEdge}while(d&&d!==c);return i}snapExistingVertex(e,t){const n=[],r=t.vertexHandle,i=r.component;if(i.edges.length<2)return n;const{view:s}=this,{spatialReference:o}=t,a=(0,y.R)(e,o,l.jG,s),c=r.leftEdge,d=r.rightEdge;c&&d&&this.edgeExceedsShortLineThreshold(c,t)&&this.edgeExceedsShortLineThreshold(d,t)&&this._processCandidateProposal((0,u.j7)(c.leftVertex.pos,s,t),(0,u.j7)(d.rightVertex.pos,s,t),e,a,t,n);const h=i.edges[0];let p=h;do{if(p!==r.leftEdge&&p!==r.rightEdge&&this.edgeExceedsShortLineThreshold(p,t)){const r=(0,x._j)(p,s,t);this._processCandidateProposal(r.left,r.right,e,a,t,n)}p=p.rightVertex.rightEdge}while(p&&p!==h);return n}_processCandidateProposal(e,t,n,r,i,s){const{spatialReference:o,pointer:a}=i,p=(0,h.Ue)();!function(e,t,n,r,i){(function(e,t,n,r,{spatialReference:i}){const s=(0,w.n6)(t,n,i,i);if(null==s)return!1;const o=(0,w.n6)(n,r,i,i);if(null==o)return!1;const a=(0,m.FB)(n,r,i);if(null==a)return!1;const h=Math.abs(c.Q4.shortestSignedDiff(s,o))>Math.PI/2?c.c5.normalize(s+Math.PI):s;return(0,w.LH)(e,n,i,(0,d.mE)(a,"meters"),(0,d.GJ)(h,"radians","geographic"),"geodesic"),e[2]=r[2],!0})(e,t,n,r,i)||function(e,t,n,r){(0,G.ZE)(t,{start:n,end:r,type:E.SP.LINE},e),e[2]=t[2]}(e,r,t,n)}(p,e,t,n,i);const f=(0,u.s)((0,u.uo)(p));(0,x.Bb)(r,(0,y.R)(f,o,l.jG,this.view))<this.squaredProximityThreshold(a)&&s.push(new R.u({lineStart:e,lineEnd:t,targetPoint:f,isDraped:"on-the-ground"===i.elevationInfo?.mode}))}}var V=n(84164),_=n(45924);class S extends v{snapNewVertex(e,t){const n=t.editGeometryOperations.data.components[0],r=n.edges.length,i=n.vertices.length,s=[];if(r<2)return s;const{view:o}=this,a=(0,y.R)(e,t.spatialReference,l.jG,o),c=(0,u.j7)(n.vertices[i-1].pos,o,t),d=(0,u.j7)(n.vertices[0].pos,o,t),h=n.edges[r-1];let p=h;do{if(this.edgeExceedsShortLineThreshold(p,t)){const n=(0,x._j)(p,o,t);this._checkEdgeForParallelLines(n,c,e,a,t,s),this._checkEdgeForParallelLines(n,d,e,a,t,s)}p=p.leftVertex.leftEdge}while(p&&p!==h);return s}snapExistingVertex(e,t){const n=[],r=t.vertexHandle,i=r.component;if(i.edges.length<3)return n;const{view:s}=this,o=(0,y.R)(e,t.spatialReference,l.jG,s),a=r.leftEdge,c=r.rightEdge,d=i.vertices[0],h=(0,u.j7)(d.pos,s,t),p=i.vertices.length,f=i.vertices[p-1],g=(0,u.j7)(f.pos,s,t),v=i.edges[0];let R=v;do{if(R!==a&&R!==c&&this.edgeExceedsShortLineThreshold(R,t)){const i=(0,x._j)(R,s,t);a&&this._checkEdgeForParallelLines(i,(0,u.j7)(a.leftVertex.pos,s,t),e,o,t,n),c&&this._checkEdgeForParallelLines(i,(0,u.j7)(c.rightVertex.pos,s,t),e,o,t,n),r===d?this._checkEdgeForParallelLines(i,g,e,o,t,n):r===f&&this._checkEdgeForParallelLines(i,h,e,o,t,n)}R=R.rightVertex.rightEdge}while(R&&R!==v);return n}_checkEdgeForParallelLines(e,t,n,r,i,s){const o=e.left,a=e.right;if((0,E.k0)(T,(0,u.eR)(t),(0,u.eR)(o),(0,u.eR)(a)),(0,f.bI)(T,(0,u.eR)(t))<g.c.parallelLineThreshold)return;(0,E.k0)(T,(0,u.eR)(n),(0,u.eR)(o),(0,u.eR)(a),(0,u.eR)(t));const{spatialReference:c,pointer:d}=i,h=(0,u.s)((0,u.al)(T[0],T[1],n[2]));if((0,x.Bb)(r,(0,y.R)(h,c,l.jG,this.view))<this.squaredProximityThreshold(d)){if(this.isVertical(h,t,i)||this.isVertical(o,a,i))return;if(function(e,t){const n=e.left,r=e.right;for(const i of t)if((0,E.k0)(T,(0,u.eR)(r),(0,u.eR)(i.constraint.start),(0,u.eR)(i.constraint.end),(0,u.eR)(n)),(0,f.bI)(T,(0,u.eR)(r))<g.c.parallelLineThreshold)return i.addReferenceLine(e),!0;return!1}(e,s))return;s.push(new _.n({referenceLine:e,lineStart:t,targetPoint:h,isDraped:"on-the-ground"===i.elevationInfo?.mode}))}}}const T=(0,V.Ue)();var A=n(86717),P=n(82308),L=n(99182);class j extends v{snapNewVertex(e,t){const n=t.editGeometryOperations.data.components[0],r=[];if(n.vertices.length<2)return r;const{view:i}=this,s=(0,y.R)(e,t.spatialReference,l.jG,i),o=n.vertices.at(-1);this._checkForSnappingCandidate(L.dq.LastVertex,r,o.leftEdge,o,o.leftEdge.leftVertex,e,s,t);const a=n.vertices[0];return this._checkForSnappingCandidate(L.dq.FirstVertex,r,a.rightEdge,a,a.rightEdge.rightVertex,e,s,t),r}snapExistingVertex(e,t){const n=[],r=t.vertexHandle;if(r.component.vertices.length<3)return n;const{view:i}=this,s=(0,y.R)(e,t.spatialReference,l.jG,i),o=r.leftEdge,a=r.rightEdge;if(o?.leftVertex.leftEdge){const r=o.leftVertex.leftEdge;this._checkForSnappingCandidate(L.dq.ExistingEdge,n,r,r.rightVertex,r.leftVertex,e,s,t)}if(a?.rightVertex.rightEdge){const r=a.rightVertex.rightEdge;this._checkForSnappingCandidate(L.dq.ExistingEdge,n,r,r.leftVertex,r.rightVertex,e,s,t)}return n}_checkForSnappingCandidate(e,t,n,r,i,s,o,a){if(!this.edgeExceedsShortLineThreshold(n,a))return;const l=this.view,p=(0,u.j7)(r.pos,l,a),g=(0,u.j7)(i.pos,l,a);(function(e,t,n,r,i){(function(e,t,n,r,{spatialReference:i}){const s=(0,w.n6)(t,n,i,i);if(null==s)return!1;const o=(0,w.n6)(n,r,i,i);if(null==o)return!1;const a=Math.sign(c.c5.shortestSignedDiff(s,o))*Math.PI*.5,l=(0,d.GJ)(s+a,"radians","geographic"),u=(0,h.Ue)(),p=(0,m.FB)(n,r,i);return null!=p&&((0,w.LH)(u,n,i,(0,d.mE)(p,"meters"),l,"geodesic"),(0,A.d)(e,u,n),!0)})(e,t,n,r,i)||function(e,t,n){const r=(0,f.$X)(b,(0,u.eR)(n),(0,u.eR)(t));(0,A.i)(e,r[1],-r[0],0)}(e,t,n)})(k,g,p,s,a),this._checkForSnappingCandidateAlongProjectedRay(e,t,g,p,k,s,o,a)}_checkForSnappingCandidateAlongProjectedRay(e,t,n,r,i,s,o,a){const{spatialReference:c,pointer:d}=a,p=(0,f.$X)(b,(0,u.eR)(s),(0,u.eR)(r)),g=(0,f.AK)(i,p)/(0,f.we)(i),v=(0,f.od)(b,(0,u.eR)(r),i,g),R=(0,u.s)((0,u.al)(v[0],v[1],s[2]));if((0,x.Bb)(o,(0,y.R)(R,c,l.jG,this.view))>this.squaredProximityThreshold(d)||this.isVertical(R,r,a)||this.isVertical(r,n,a))return;const w=(0,A.b)((0,h.Ue)(),r,i,Math.sign(g));t.push(new L.A1({targetPoint:R,constraint:new P.aU(r,(0,u.uo)(w)),previousVertex:n,otherVertex:r,otherVertexType:L.YJ.CENTER,selfSnappingType:e,isDraped:"on-the-ground"===a.elevationInfo?.mode}))}}const b=(0,V.Ue)(),k=(0,h.Ue)();var C=n(16186);class Z extends v{snapNewVertex(e,t){const n=t.editGeometryOperations.data.components[0],r=[],i=n.vertices.length;if("polygon"!==t.editGeometryOperations.data.type||i<2)return r;const{view:s}=this,o=n.vertices[0],a=n.vertices[i-1],c=(0,u.j7)(o.pos,s,t),d=(0,u.j7)(a.pos,s,t);return this._processCandidateProposal(c,d,e,t,r),r}snapExistingVertex(e,t){const n=[],r=t.vertexHandle,i=r.component;if(i.edges.length<2)return n;if("polyline"===t.editGeometryOperations.data.type&&(0===r.index||r.index===i.vertices.length-1))return n;const{view:s}=this,o=(0,u.j7)(r.leftEdge.leftVertex.pos,s,t),a=(0,u.j7)(r.rightEdge.rightVertex.pos,s,t);return this._processCandidateProposal(o,a,e,t,n),n}_processCandidateProposal(e,t,n,r,i){if(!this.exceedsShortLineThreshold(e,t,r))return;const s=(0,f.t7)(q,(0,u.eR)(e),(0,u.eR)(t),.5),o=.5*(0,f.TE)((0,u.eR)(e),(0,u.eR)(t)),a=(0,E.xO)(q,(0,u.eR)(n),s,o),c=(0,u.s)((0,u.al)(a[0],a[1],n[2])),{spatialReference:d,pointer:h}=r,p=(0,y.R)(n,d,l.jG,this.view);if((0,x.Bb)(p,(0,y.R)(c,d,l.jG,this.view))<this.squaredProximityThreshold(h)){if(this.isVertical(e,c,r)||this.isVertical(c,t,r))return;i.push(new C.K({targetPoint:c,point1:e,point2:t,isDraped:"on-the-ground"===r.elevationInfo?.mode}))}}}const q=(0,V.Ue)();var F=n(20999);let O=class extends i.Z{constructor(e){super(e),this.updating=!1,this._snappers=new s.Z,this._domain=F.B.SELF}initialize(){this._snappers.push(new S(this.view,this.options),new M(this.view,this.options),new j(this.view,this.options),new Z(this.view,this.options))}set options(e){this._set("options",e);for(const t of this._snappers)t.options=e}async fetchCandidates(e,t,n){if(!(t&this._domain&&this.options.effectiveSelfEnabled))return[];const r=[];for(const t of this._snappers.items)for(const i of t.snap(e,n))r.push(i);return(0,x.lQ)(e,r),r}};(0,r._)([(0,o.Cb)({readOnly:!0})],O.prototype,"updating",void 0),(0,r._)([(0,o.Cb)({constructOnly:!0})],O.prototype,"view",void 0),(0,r._)([(0,o.Cb)()],O.prototype,"options",null),O=(0,r._)([(0,a.j)("esri.views.interactive.snapping.SelfSnappingEngine")],O)},956:(e,t,n)=>{n.d(t,{FB:()=>l,RT:()=>h,kQ:()=>d});var r=n(39405),i=n(81095),s=n(17700),o=n(85130),a=n(35925),c=n(27493);function d(e){const{spatialReference:t}=e;return(0,c.T5)(t,f,g,e)}function h(e,t){if(!(0,a.fS)(e.spatialReference,t.spatialReference))return null;const{spatialReference:n}=e;return y[0]=e.x,y[1]=e.y,y[2]=e.hasZ?e.z:0,v[0]=t.x,v[1]=t.y,v[2]=t.hasZ?t.z:0,l(y,v,n)}function l(e,t,n){return(0,c.T5)(n,u,p,e,t,n)}function u(e,t,n){return(0,r.yG)((0,o.cA)(x,e,t,n).distance,"meters")}function p(e,t,n){return(0,r.yG)((0,s.geodesicLength)(function(e,t,n){return{type:"polyline",spatialReference:n,paths:[[[...e],[...t]]]}}(e,t,n),"meters"),"meters")}function f(e){return(0,r.yG)((0,o.Jf)([e],"meters")[0],"meters")}function g(e){return(0,r.yG)((0,s.geodesicLength)(e,"meters"),"meters")}const x=new o._q,y=(0,i.Ue)(),v=(0,i.Ue)()},27493:(e,t,n)=>{n.d(t,{T5:()=>o,Yo:()=>a,op:()=>s});var r=n(85130),i=n(35925);function s(e){return(0,r.Gb)(e)||(0,i.sS)(e)}function o(e,t,n,...s){return(0,r.Gb)(e)?t.apply(void 0,s):(0,i.sS)(e)?n.apply(void 0,s):null}const a=1e5}}]);