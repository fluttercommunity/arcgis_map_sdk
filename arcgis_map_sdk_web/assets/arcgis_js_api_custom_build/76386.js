"use strict";(self.webpackChunkarcgis_webpack01=self.webpackChunkarcgis_webpack01||[]).push([[76386,82976],{82976:(e,t,n)=>{n.r(t),n.d(t,{EdgeInputBufferLayout:()=>r,RegularEdgeInstancesLayout:()=>u,SilhouetteEdgeInstancesLayout:()=>l,VertexLayout:()=>i,glVertexLayout:()=>c,vertexAttributeLocations:()=>f});var o=n(95397),s=n(44685),a=n(21414);const r=(0,s.U$)().vec3f(a.T.POSITION).u16(a.T.COMPONENTINDEX).freeze(),i=(0,s.U$)().vec2u8(a.T.SIDENESS).freeze(),c=(0,o.K)(i),u=(0,s.U$)().vec3f(a.T.POSITION0).vec3f(a.T.POSITION1).vec2i16(a.T.NORMALCOMPRESSED).u16(a.T.COMPONENTINDEX).u8(a.T.VARIANTOFFSET,{glNormalized:!0}).u8(a.T.VARIANTSTROKE).u8(a.T.VARIANTEXTENSION,{glNormalized:!0}).freeze(),l=(0,s.U$)().vec3f(a.T.POSITION0).vec3f(a.T.POSITION1).vec2i16(a.T.NORMALCOMPRESSED).vec2i16(a.T.NORMAL2COMPRESSED).u16(a.T.COMPONENTINDEX).u8(a.T.VARIANTOFFSET,{glNormalized:!0}).u8(a.T.VARIANTSTROKE).u8(a.T.VARIANTEXTENSION,{glNormalized:!0}).freeze(),f=new Map([[a.T.POSITION0,0],[a.T.POSITION1,1],[a.T.COMPONENTINDEX,2],[a.T.VARIANTOFFSET,3],[a.T.VARIANTSTROKE,4],[a.T.VARIANTEXTENSION,5],[a.T.NORMALCOMPRESSED,6],[a.T.NORMAL2COMPRESSED,7],[a.T.SIDENESS,8]])},68083:(e,t,n)=>{n.d(t,{D:()=>N,q:()=>T});var o=n(4157),s=n(86717),a=n(81095),r=n(95397),i=n(59633),c=n(82976);class u{updateSettings(e){this.settings=e,this._edgeHashFunction=e.reducedPrecision?h:g}write(e,t,n){S.seed=this._edgeHashFunction(n);const o=S.getIntRange(0,255),s=S.getIntRange(0,this.settings.variants-1),a=S.getFloat(),r=255*(.5*function(e,t){return Math.abs(e)**t*Math.sign(e)}(-(1-Math.min(a/.7,1))+Math.max(0,a-.7)/(1-.7),1.2)+.5);e.position0.setVec(t,n.position0),e.position1.setVec(t,n.position1),e.componentIndex.set(t,n.componentIndex),e.variantOffset.set(t,o),e.variantStroke.set(t,s),e.variantExtension.set(t,r)}}const l=new Float32Array(6),f=new Uint32Array(l.buffer),d=new Uint32Array(1);function g(e){return l[0]=e.position0[0],l[1]=e.position0[1],l[2]=e.position0[2],l[3]=e.position1[0],l[4]=e.position1[1],l[5]=e.position1[2],d[0]=31*(31*(31*(31*(31*(166811+f[0])+f[1])+f[2])+f[3])+f[4])+f[5],d[0]}function h(e){const t=l;t[0]=p(e.position0[0]),t[1]=p(e.position0[1]),t[2]=p(e.position0[2]),t[3]=p(e.position1[0]),t[4]=p(e.position1[1]),t[5]=p(e.position1[2]),d[0]=5381;for(let e=0;e<f.length;e++)d[0]=31*d[0]+f[e];return d[0]}function p(e){return Math.round(1e4*e)/1e4}class N{constructor(){this._commonWriter=new u}updateSettings(e){this._commonWriter.updateSettings(e)}allocate(e){return c.RegularEdgeInstancesLayout.createBuffer(e)}write(e,t,n){this._commonWriter.write(e,t,n),(0,s.g)(I,n.faceNormal0,n.faceNormal1),(0,s.n)(I,I);const{typedBuffer:o,typedBufferStride:a}=e.normalCompressed;(0,i.hd)(o,t,I[0],I[1],I[2],a)}}N.Layout=c.RegularEdgeInstancesLayout,N.glLayout=(0,r.K)(c.RegularEdgeInstancesLayout,1);class T{constructor(){this._commonWriter=new u}updateSettings(e){this._commonWriter.updateSettings(e)}allocate(e){return c.SilhouetteEdgeInstancesLayout.createBuffer(e)}write(e,t,n){this._commonWriter.write(e,t,n);{const{typedBuffer:o,typedBufferStride:s}=e.normalCompressed;(0,i.hd)(o,t,n.faceNormal0[0],n.faceNormal0[1],n.faceNormal0[2],s)}{const{typedBuffer:o,typedBufferStride:s}=e.normal2Compressed;(0,i.hd)(o,t,n.faceNormal1[0],n.faceNormal1[1],n.faceNormal1[2],s)}}}T.Layout=c.SilhouetteEdgeInstancesLayout,T.glLayout=(0,r.K)(c.SilhouetteEdgeInstancesLayout,1);const I=(0,a.Ue)(),S=new o.Z},31511:(e,t,n)=>{n.d(t,{n:()=>i});var o=n(19431),s=n(17135),a=n(86717),r=n(81095);function i(e,t,n){const o=e.vertices.position,s=e.vertices.componentIndex,r=h.position0,i=h.position1,l=h.faceNormal0,d=h.faceNormal1,{edges:g,normals:p}=u(e),N=g.length/4,T=t.allocate(N);let I=0;const S=N,m=n?.allocate(S);let w=0,y=0,v=0;f.length=0;for(let e=0;e<N;++e){const t=4*e;o.getVec(g.data[t],r),o.getVec(g.data[t+1],i);const n=f.pushNew();n.index=4*e,n.length=(0,a.j)(r,i)}f.sort(((e,t)=>t.length-e.length));const L=new Array,R=new Array;f.forAll((({length:e,index:u})=>{const f=g.data[u],N=g.data[u+1],S=g.data[u+2],M=g.data[u+3],V=-1===M;if(o.getVec(f,r),o.getVec(N,i),V){const e=3*S;(0,a.i)(l,p.data[e],p.data[e+1],p.data[e+2]),(0,a.c)(d,l),h.componentIndex=s.get(f),h.cosAngle=(0,a.f)(l,d)}else{let e=3*S;if((0,a.i)(l,p.data[e],p.data[e+1],p.data[e+2]),e=3*M,(0,a.i)(d,p.data[e],p.data[e+1],p.data[e+2]),h.componentIndex=s.get(f),h.cosAngle=(0,a.f)(l,d),function(e,t){return e.cosAngle>t}(h,E))return;h.cosAngle<-.9999&&(0,a.c)(d,l)}y+=e,v++,V||function(e,t){return e.cosAngle<t}(h,A)?(t.write(T,I++,h),L.push(e)):c(h,O)&&(m&&n&&n.write(m,w++,h),R.push(e))}));const M=new Float32Array(L.reverse()),V=new Float32Array(R.reverse()),P=m&&n?{instancesData:m.slice(0,w),lodInfo:{lengths:V}}:void 0;return{regular:{instancesData:T.slice(0,I),lodInfo:{lengths:M}},silhouette:P,averageEdgeLength:y/v}}function c(e,t){const n=(0,o.ZF)(e.cosAngle);return(0,a.o)(N,e.position1,e.position0),n*((0,a.f)((0,a.e)(p,e.faceNormal0,e.faceNormal1),N)>0?-1:1)>t}function u(e){const t=e.faces.length/3,n=e.faces,o=e.neighbors,s=e.vertices.position;d.length=g.length=0;for(let e=0;e<t;e++){const t=3*e,r=o[t],i=o[t+1],c=o[t+2],u=n[t],l=n[t+1],f=n[t+2];s.getVec(u,T),s.getVec(l,I),s.getVec(f,S),(0,a.d)(I,I,T),(0,a.d)(S,S,T),(0,a.e)(T,I,S),(0,a.n)(T,T),g.pushArray(T),(-1===r||u<l)&&(d.push(u),d.push(l),d.push(e),d.push(r)),(-1===i||l<f)&&(d.push(l),d.push(f),d.push(e),d.push(i)),(-1===c||f<u)&&(d.push(f),d.push(u),d.push(e),d.push(c))}return{edges:d,normals:g}}class l{constructor(){this.index=0,this.length=0}}const f=new s.Z({allocator:e=>e||new l,deallocator:null}),d=new s.Z({deallocator:null}),g=new s.Z({deallocator:null}),h=new class{constructor(){this.position0=(0,r.Ue)(),this.position1=(0,r.Ue)(),this.faceNormal0=(0,r.Ue)(),this.faceNormal1=(0,r.Ue)(),this.componentIndex=0,this.cosAngle=0}},p=(0,r.Ue)(),N=(0,r.Ue)(),T=(0,r.Ue)(),I=(0,r.Ue)(),S=(0,r.Ue)(),O=(0,o.Vl)(4),E=Math.cos(O),m=(0,o.Vl)(35),A=Math.cos(m)},76386:(e,t,n)=>{n.r(t),n.d(t,{extract:()=>l,extractComponentsEdgeLocationsLayout:()=>N,extractEdgeInformation:()=>f,extractEdgeLocationsLayout:()=>p});var o=n(67262);function s(e,t,n){const o=t/3,s=new Uint32Array(n+1),a=new Uint32Array(n+1),r=(e,t)=>{e<t?s[e+1]++:a[t+1]++};for(let t=0;t<o;t++){const n=e[3*t],o=e[3*t+1],s=e[3*t+2];r(n,o),r(o,s),r(s,n)}let i=0,c=0;for(let e=0;e<n;e++){const t=s[e+1],n=a[e+1];s[e+1]=i,a[e+1]=c,i+=t,c+=n}const u=new Uint32Array(6*o),l=s[n],f=(e,t,n)=>{if(e<t){const o=s[e+1]++;u[2*o]=t,u[2*o+1]=n}else{const o=a[t+1]++;u[2*l+2*o]=e,u[2*l+2*o+1]=n}};for(let t=0;t<o;t++){const n=e[3*t],o=e[3*t+1],s=e[3*t+2];f(n,o,t),f(o,s,t),f(s,n,t)}const d=(e,t)=>{const n=2*e,o=t-e;for(let e=1;e<o;e++){const t=u[n+2*e],o=u[n+2*e+1];let s=e-1;for(;s>=0&&u[n+2*s]>t;s--)u[n+2*s+2]=u[n+2*s],u[n+2*s+3]=u[n+2*s+1];u[n+2*s+2]=t,u[n+2*s+3]=o}};for(let e=0;e<n;e++)d(s[e],s[e+1]),d(l+a[e],l+a[e+1]);const g=new Int32Array(3*o),h=(t,n)=>t===e[3*n]?0:t===e[3*n+1]?1:t===e[3*n+2]?2:-1,p=(e,t)=>{const n=h(e,t);g[3*t+n]=-1},N=(e,t,n,o)=>{const s=h(e,t);g[3*t+s]=o;const a=h(n,o);g[3*o+a]=t};for(let e=0;e<n;e++){let t=s[e];const n=s[e+1];let o=a[e];const r=a[e+1];for(;t<n&&o<r;){const n=u[2*t],s=u[2*l+2*o];n===s?(N(e,u[2*t+1],s,u[2*l+2*o+1]),t++,o++):n<s?(p(e,u[2*t+1]),t++):(p(s,u[2*l+2*o+1]),o++)}for(;t<n;)p(e,u[2*t+1]),t++;for(;o<r;)p(u[2*l+2*o],u[2*l+2*o+1]),o++}return g}var a=n(44685),r=n(21414),i=n(82976),c=n(68083),u=n(31511);function l(e){const t=f(e.data,e.skipDeduplicate,e.indices,e.indicesLength);return g.updateSettings(e.writerSettings),h.updateSettings(e.writerSettings),(0,u.n)(t,g,h)}function f(e,t,n,a){if(t){const t=s(n,a,e.count);return new d(n,a,t,e)}const r=(0,o.d)(e.buffer,e.stride/4,{originalIndices:n,originalIndicesLength:a}),c=s(r.indices,a,r.uniqueCount);return{faces:r.indices,facesLength:r.indices.length,neighbors:c,vertices:i.EdgeInputBufferLayout.createView(r.buffer)}}class d{constructor(e,t,n,o){this.faces=e,this.facesLength=t,this.neighbors=n,this.vertices=o}}const g=new c.D,h=new c.q,p=(0,a.U$)().vec3f(r.T.POSITION0).vec3f(r.T.POSITION1),N=(0,a.U$)().vec3f(r.T.POSITION0).vec3f(r.T.POSITION1).u16(r.T.COMPONENTINDEX)}}]);