"use strict";(self.webpackChunkarcgis_webpack01=self.webpackChunkarcgis_webpack01||[]).push([[43042,76386,82976],{26691:(e,t,n)=>{n.d(t,{H:()=>s,a:()=>r});var o=n(44685);function s(e,t){return t.push(e.buffer),{buffer:e.buffer,layout:new o.Gw(e.layout)}}function r(e){return new o.pV(e.layout).createView(e.buffer)}},43042:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var o=n(26691),s=n(82976),r=n(31511),a=n(76386);class i{async extract(e){const t=c(e),n=(0,a.extract)(t),o=[t.data.buffer];return{result:u(n,o),transferList:o}}async extractComponentsEdgeLocations(e){const t=c(e),n=(0,a.extractEdgeInformation)(t.data,t.skipDeduplicate,t.indices,t.indicesLength),s=(0,r.n)(n,f),i=[];return{result:(0,o.H)(s.regular.instancesData,i),transferList:i}}async extractEdgeLocations(e){const t=c(e),n=(0,a.extractEdgeInformation)(t.data,t.skipDeduplicate,t.indices,t.indicesLength),s=(0,r.n)(n,l),i=[];return{result:(0,o.H)(s.regular.instancesData,i),transferList:i}}}function c(e){return{data:s.EdgeInputBufferLayout.createView(e.dataBuffer),indices:"Uint32Array"===e.indicesType?new Uint32Array(e.indices):"Uint16Array"===e.indicesType?new Uint16Array(e.indices):e.indices,indicesLength:e.indicesLength,writerSettings:e.writerSettings,skipDeduplicate:e.skipDeduplicate}}function u(e,t){return t.push(e.regular.lodInfo.lengths.buffer),t.push(e.silhouette.lodInfo.lengths.buffer),{regular:{instancesData:(0,o.H)(e.regular.instancesData,t),lodInfo:{lengths:e.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:(0,o.H)(e.silhouette.instancesData,t),lodInfo:{lengths:e.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:e.averageEdgeLength}}const l=new class{allocate(e){return a.extractEdgeLocationsLayout.createBuffer(e)}trim(e,t){return e.slice(0,t)}write(e,t,n){e.position0.setVec(t,n.position0),e.position1.setVec(t,n.position1)}},f=new class{allocate(e){return a.extractComponentsEdgeLocationsLayout.createBuffer(e)}trim(e,t){return e.slice(0,t)}write(e,t,n){e.position0.setVec(t,n.position0),e.position1.setVec(t,n.position1),e.componentIndex.set(t,n.componentIndex)}}},82976:(e,t,n)=>{n.r(t),n.d(t,{EdgeInputBufferLayout:()=>a,RegularEdgeInstancesLayout:()=>u,SilhouetteEdgeInstancesLayout:()=>l,VertexLayout:()=>i,glVertexLayout:()=>c,vertexAttributeLocations:()=>f});var o=n(95397),s=n(44685),r=n(21414);const a=(0,s.U$)().vec3f(r.T.POSITION).u16(r.T.COMPONENTINDEX).freeze(),i=(0,s.U$)().vec2u8(r.T.SIDENESS).freeze(),c=(0,o.K)(i),u=(0,s.U$)().vec3f(r.T.POSITION0).vec3f(r.T.POSITION1).vec2i16(r.T.NORMALCOMPRESSED).u16(r.T.COMPONENTINDEX).u8(r.T.VARIANTOFFSET,{glNormalized:!0}).u8(r.T.VARIANTSTROKE).u8(r.T.VARIANTEXTENSION,{glNormalized:!0}).freeze(),l=(0,s.U$)().vec3f(r.T.POSITION0).vec3f(r.T.POSITION1).vec2i16(r.T.NORMALCOMPRESSED).vec2i16(r.T.NORMAL2COMPRESSED).u16(r.T.COMPONENTINDEX).u8(r.T.VARIANTOFFSET,{glNormalized:!0}).u8(r.T.VARIANTSTROKE).u8(r.T.VARIANTEXTENSION,{glNormalized:!0}).freeze(),f=new Map([[r.T.POSITION0,0],[r.T.POSITION1,1],[r.T.COMPONENTINDEX,2],[r.T.VARIANTOFFSET,3],[r.T.VARIANTSTROKE,4],[r.T.VARIANTEXTENSION,5],[r.T.NORMALCOMPRESSED,6],[r.T.NORMAL2COMPRESSED,7],[r.T.SIDENESS,8]])},68083:(e,t,n)=>{n.d(t,{D:()=>I,q:()=>T});var o=n(4157),s=n(86717),r=n(81095),a=n(95397),i=n(59633),c=n(82976);class u{updateSettings(e){this.settings=e,this._edgeHashFunction=e.reducedPrecision?p:g}write(e,t,n){E.seed=this._edgeHashFunction(n);const o=E.getIntRange(0,255),s=E.getIntRange(0,this.settings.variants-1),r=E.getFloat(),a=255*(.5*function(e,t){return Math.abs(e)**t*Math.sign(e)}(-(1-Math.min(r/.7,1))+Math.max(0,r-.7)/(1-.7),1.2)+.5);e.position0.setVec(t,n.position0),e.position1.setVec(t,n.position1),e.componentIndex.set(t,n.componentIndex),e.variantOffset.set(t,o),e.variantStroke.set(t,s),e.variantExtension.set(t,a)}}const l=new Float32Array(6),f=new Uint32Array(l.buffer),d=new Uint32Array(1);function g(e){return l[0]=e.position0[0],l[1]=e.position0[1],l[2]=e.position0[2],l[3]=e.position1[0],l[4]=e.position1[1],l[5]=e.position1[2],d[0]=31*(31*(31*(31*(31*(166811+f[0])+f[1])+f[2])+f[3])+f[4])+f[5],d[0]}function p(e){const t=l;t[0]=h(e.position0[0]),t[1]=h(e.position0[1]),t[2]=h(e.position0[2]),t[3]=h(e.position1[0]),t[4]=h(e.position1[1]),t[5]=h(e.position1[2]),d[0]=5381;for(let e=0;e<f.length;e++)d[0]=31*d[0]+f[e];return d[0]}function h(e){return Math.round(1e4*e)/1e4}class I{constructor(){this._commonWriter=new u}updateSettings(e){this._commonWriter.updateSettings(e)}allocate(e){return c.RegularEdgeInstancesLayout.createBuffer(e)}write(e,t,n){this._commonWriter.write(e,t,n),(0,s.g)(N,n.faceNormal0,n.faceNormal1),(0,s.n)(N,N);const{typedBuffer:o,typedBufferStride:r}=e.normalCompressed;(0,i.hd)(o,t,N[0],N[1],N[2],r)}}I.Layout=c.RegularEdgeInstancesLayout,I.glLayout=(0,a.K)(c.RegularEdgeInstancesLayout,1);class T{constructor(){this._commonWriter=new u}updateSettings(e){this._commonWriter.updateSettings(e)}allocate(e){return c.SilhouetteEdgeInstancesLayout.createBuffer(e)}write(e,t,n){this._commonWriter.write(e,t,n);{const{typedBuffer:o,typedBufferStride:s}=e.normalCompressed;(0,i.hd)(o,t,n.faceNormal0[0],n.faceNormal0[1],n.faceNormal0[2],s)}{const{typedBuffer:o,typedBufferStride:s}=e.normal2Compressed;(0,i.hd)(o,t,n.faceNormal1[0],n.faceNormal1[1],n.faceNormal1[2],s)}}}T.Layout=c.SilhouetteEdgeInstancesLayout,T.glLayout=(0,a.K)(c.SilhouetteEdgeInstancesLayout,1);const N=(0,r.Ue)(),E=new o.Z},31511:(e,t,n)=>{n.d(t,{n:()=>i});var o=n(19431),s=n(17135),r=n(86717),a=n(81095);function i(e,t,n){const o=e.vertices.position,s=e.vertices.componentIndex,a=p.position0,i=p.position1,l=p.faceNormal0,d=p.faceNormal1,{edges:g,normals:h}=u(e),I=g.length/4,T=t.allocate(I);let N=0;const E=I,O=n?.allocate(E);let y=0,A=0,L=0;f.length=0;for(let e=0;e<I;++e){const t=4*e;o.getVec(g.data[t],a),o.getVec(g.data[t+1],i);const n=f.pushNew();n.index=4*e,n.length=(0,r.j)(a,i)}f.sort(((e,t)=>t.length-e.length));const v=new Array,V=new Array;f.forAll((({length:e,index:u})=>{const f=g.data[u],I=g.data[u+1],E=g.data[u+2],x=g.data[u+3],R=-1===x;if(o.getVec(f,a),o.getVec(I,i),R){const e=3*E;(0,r.i)(l,h.data[e],h.data[e+1],h.data[e+2]),(0,r.c)(d,l),p.componentIndex=s.get(f),p.cosAngle=(0,r.f)(l,d)}else{let e=3*E;if((0,r.i)(l,h.data[e],h.data[e+1],h.data[e+2]),e=3*x,(0,r.i)(d,h.data[e],h.data[e+1],h.data[e+2]),p.componentIndex=s.get(f),p.cosAngle=(0,r.f)(l,d),function(e,t){return e.cosAngle>t}(p,S))return;p.cosAngle<-.9999&&(0,r.c)(d,l)}A+=e,L++,R||function(e,t){return e.cosAngle<t}(p,w)?(t.write(T,N++,p),v.push(e)):c(p,m)&&(O&&n&&n.write(O,y++,p),V.push(e))}));const x=new Float32Array(v.reverse()),R=new Float32Array(V.reverse()),D=O&&n?{instancesData:O.slice(0,y),lodInfo:{lengths:R}}:void 0;return{regular:{instancesData:T.slice(0,N),lodInfo:{lengths:x}},silhouette:D,averageEdgeLength:A/L}}function c(e,t){const n=(0,o.ZF)(e.cosAngle);return(0,r.o)(I,e.position1,e.position0),n*((0,r.f)((0,r.e)(h,e.faceNormal0,e.faceNormal1),I)>0?-1:1)>t}function u(e){const t=e.faces.length/3,n=e.faces,o=e.neighbors,s=e.vertices.position;d.length=g.length=0;for(let e=0;e<t;e++){const t=3*e,a=o[t],i=o[t+1],c=o[t+2],u=n[t],l=n[t+1],f=n[t+2];s.getVec(u,T),s.getVec(l,N),s.getVec(f,E),(0,r.d)(N,N,T),(0,r.d)(E,E,T),(0,r.e)(T,N,E),(0,r.n)(T,T),g.pushArray(T),(-1===a||u<l)&&(d.push(u),d.push(l),d.push(e),d.push(a)),(-1===i||l<f)&&(d.push(l),d.push(f),d.push(e),d.push(i)),(-1===c||f<u)&&(d.push(f),d.push(u),d.push(e),d.push(c))}return{edges:d,normals:g}}class l{constructor(){this.index=0,this.length=0}}const f=new s.Z({allocator:e=>e||new l,deallocator:null}),d=new s.Z({deallocator:null}),g=new s.Z({deallocator:null}),p=new class{constructor(){this.position0=(0,a.Ue)(),this.position1=(0,a.Ue)(),this.faceNormal0=(0,a.Ue)(),this.faceNormal1=(0,a.Ue)(),this.componentIndex=0,this.cosAngle=0}},h=(0,a.Ue)(),I=(0,a.Ue)(),T=(0,a.Ue)(),N=(0,a.Ue)(),E=(0,a.Ue)(),m=(0,o.Vl)(4),S=Math.cos(m),O=(0,o.Vl)(35),w=Math.cos(O)},76386:(e,t,n)=>{n.r(t),n.d(t,{extract:()=>l,extractComponentsEdgeLocationsLayout:()=>I,extractEdgeInformation:()=>f,extractEdgeLocationsLayout:()=>h});var o=n(67262);function s(e,t,n){const o=t/3,s=new Uint32Array(n+1),r=new Uint32Array(n+1),a=(e,t)=>{e<t?s[e+1]++:r[t+1]++};for(let t=0;t<o;t++){const n=e[3*t],o=e[3*t+1],s=e[3*t+2];a(n,o),a(o,s),a(s,n)}let i=0,c=0;for(let e=0;e<n;e++){const t=s[e+1],n=r[e+1];s[e+1]=i,r[e+1]=c,i+=t,c+=n}const u=new Uint32Array(6*o),l=s[n],f=(e,t,n)=>{if(e<t){const o=s[e+1]++;u[2*o]=t,u[2*o+1]=n}else{const o=r[t+1]++;u[2*l+2*o]=e,u[2*l+2*o+1]=n}};for(let t=0;t<o;t++){const n=e[3*t],o=e[3*t+1],s=e[3*t+2];f(n,o,t),f(o,s,t),f(s,n,t)}const d=(e,t)=>{const n=2*e,o=t-e;for(let e=1;e<o;e++){const t=u[n+2*e],o=u[n+2*e+1];let s=e-1;for(;s>=0&&u[n+2*s]>t;s--)u[n+2*s+2]=u[n+2*s],u[n+2*s+3]=u[n+2*s+1];u[n+2*s+2]=t,u[n+2*s+3]=o}};for(let e=0;e<n;e++)d(s[e],s[e+1]),d(l+r[e],l+r[e+1]);const g=new Int32Array(3*o),p=(t,n)=>t===e[3*n]?0:t===e[3*n+1]?1:t===e[3*n+2]?2:-1,h=(e,t)=>{const n=p(e,t);g[3*t+n]=-1},I=(e,t,n,o)=>{const s=p(e,t);g[3*t+s]=o;const r=p(n,o);g[3*o+r]=t};for(let e=0;e<n;e++){let t=s[e];const n=s[e+1];let o=r[e];const a=r[e+1];for(;t<n&&o<a;){const n=u[2*t],s=u[2*l+2*o];n===s?(I(e,u[2*t+1],s,u[2*l+2*o+1]),t++,o++):n<s?(h(e,u[2*t+1]),t++):(h(s,u[2*l+2*o+1]),o++)}for(;t<n;)h(e,u[2*t+1]),t++;for(;o<a;)h(u[2*l+2*o],u[2*l+2*o+1]),o++}return g}var r=n(44685),a=n(21414),i=n(82976),c=n(68083),u=n(31511);function l(e){const t=f(e.data,e.skipDeduplicate,e.indices,e.indicesLength);return g.updateSettings(e.writerSettings),p.updateSettings(e.writerSettings),(0,u.n)(t,g,p)}function f(e,t,n,r){if(t){const t=s(n,r,e.count);return new d(n,r,t,e)}const a=(0,o.d)(e.buffer,e.stride/4,{originalIndices:n,originalIndicesLength:r}),c=s(a.indices,r,a.uniqueCount);return{faces:a.indices,facesLength:a.indices.length,neighbors:c,vertices:i.EdgeInputBufferLayout.createView(a.buffer)}}class d{constructor(e,t,n,o){this.faces=e,this.facesLength=t,this.neighbors=n,this.vertices=o}}const g=new c.D,p=new c.q,h=(0,r.U$)().vec3f(a.T.POSITION0).vec3f(a.T.POSITION1),I=(0,r.U$)().vec3f(a.T.POSITION0).vec3f(a.T.POSITION1).u16(a.T.COMPONENTINDEX)}}]);