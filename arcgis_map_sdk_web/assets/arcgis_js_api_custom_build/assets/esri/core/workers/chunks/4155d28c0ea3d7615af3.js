"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[1056,8256],{45475:(t,e,n)=>{n.d(e,{A:()=>g});var r=n(90237),i=n(69622),s=n(4576),o=n(69540),a=n(4902),l=n(25482),u=n(10107),c=(n(44208),n(53966),n(40608));let d=0,h=class extends(l.A.JSONSupportMixin(o.A.ClonableMixin(a.A.IdentifiableMixin(i.A)))){constructor(t){super(t),this.id=`${Date.now().toString(16)}-analysis-${d++}`,this.title=null}get parent(){return this._get("parent")}set parent(t){const e=this.parent;if(null!=e)switch(e.type){case"line-of-sight":case"dimension":case"viewshed":e.releaseAnalysis(this);break;case"2d":case"3d":e.analyses.includes(this)&&e.analyses.remove(this)}this._set("parent",t)}get isEditable(){return this.requiredPropertiesForEditing.every(s.Ru)}};(0,r._)([(0,u.MZ)({type:String,constructOnly:!0,clonable:!1})],h.prototype,"id",void 0),(0,r._)([(0,u.MZ)({type:String})],h.prototype,"title",void 0),(0,r._)([(0,u.MZ)({clonable:!1,value:null})],h.prototype,"parent",null),(0,r._)([(0,u.MZ)({readOnly:!0})],h.prototype,"isEditable",null),h=(0,r._)([(0,c.$)("esri.analysis.Analysis")],h);const g=h},44612:(t,e,n)=>{n.d(e,{xH:()=>o,N1:()=>l}),n(38954);var r=n(51850),i=n(71351),s=(n(62258),n(58083),n(70328),n(97937),n(65215));function o(t,e){return a(t)===a(e)}function a(t){if(null==t)return null;const e=null!=t.layer?t.layer.id:"";let n=null;return n=null!=t.objectId?t.objectId:null!=t.layer&&"objectIdField"in t.layer&&null!=t.layer.objectIdField&&null!=t.attributes?t.attributes[t.layer.objectIdField]:t.uid,null==n?null:`o-${e}-${n}`}n(86305),s.R6,s.HE,s.R6,s.R6,s.R6,n(87582),(0,r.vt)();const l={json:{write:{writer:function(t,e){null!=t?.layer?.objectIdField&&null!=t.attributes&&(e.feature={layerId:t.layer.id,objectId:t.attributes[t.layer.objectIdField]})},target:{"feature.layerId":{type:[Number,String],isRequired:!0},"feature.objectId":{type:[Number,String],isRequired:!0}}},origins:{"web-scene":{read:function(t){if(null!=t.layerId&&null!=t.objectId)return{uid:null,layer:{id:t.layerId,objectIdField:"ObjectId"},attributes:{ObjectId:t.objectId}}}}}}};(0,i.vt)(),(0,r.vt)()},17352:(t,e,n)=>{n.d(e,{b:()=>$,f:()=>_}),n(44208);var r=n(53966),i=n(34727),s=n(4341),o=n(58083),a=n(9093),l=n(38954),u=n(51850),c=n(19419),d=n(88582),h=n(11964),g=n(27921),f=n(71351),p=n(44280),b=n(32114);const y=()=>r.A.getLogger("esri.views.3d.support.geometryUtils.boundedPlane");function v(t=D){return{plane:(0,g.vt)(t.plane),origin:(0,u.o8)(t.origin),basis1:(0,u.o8)(t.basis1),basis2:(0,u.o8)(t.basis2)}}function m(t,e=v()){return _(t.origin,t.basis1,t.basis2,e)}function _(t,e,n,r=v()){return(0,l.c)(r.origin,t),(0,l.c)(r.basis1,e),(0,l.c)(r.basis2,n),M(r),function(t,e){Math.abs((0,l.f)(t.basis1,t.basis2)/((0,l.l)(t.basis1)*(0,l.l)(t.basis2)))>1e-6&&y().warn(e,"Provided basis vectors are not perpendicular"),Math.abs((0,l.f)(t.basis1,x(t)))>1e-6&&y().warn(e,"Basis vectors and plane normal are not perpendicular"),Math.abs(-(0,l.f)(x(t),t.origin)-t.plane[3])>1e-6&&y().warn(e,"Plane offset is not consistent with plane origin")}(r,"fromValues()"),r}function M(t){(0,g.mR)(t.basis2,t.basis1,t.origin,t.plane)}function A(t,e,n){t!==n&&m(t,n);const r=(0,l.h)(b.rq.get(),x(t),e);return(0,l.g)(n.origin,n.origin,r),n.plane[3]-=e,n}function w(t,e=v()){const n=(t[2]-t[0])/2,r=(t[3]-t[1])/2;return(0,l.i)(e.origin,t[0]+n,t[1]+r,0),(0,l.i)(e.basis1,n,0,0),(0,l.i)(e.basis2,0,r,0),(0,g.fA)(0,0,1,0,e.plane),e}function S(t,e,n){return!!(0,g.Ui)(t.plane,e,n)&&L(t,n)}function E(t,e,n){const r=U.get();R(t,e,r,U.get());let s=Number.POSITIVE_INFINITY;for(const o of F){const a=P(t,o,C.get()),u=b.rq.get();if((0,g.T7)(r,a,u)){const t=(0,l.o)(b.rq.get(),e.origin,u),r=Math.abs((0,i.XM)((0,l.f)(e.direction,t)));r<s&&(s=r,(0,l.c)(n,u))}}return s===Number.POSITIVE_INFINITY?I(t,e,n):n}function I(t,e,n){if(S(t,e,n))return n;const r=U.get(),i=U.get();R(t,e,r,i);let s=Number.POSITIVE_INFINITY;for(const o of F){const a=P(t,o,C.get()),u=b.rq.get();if((0,g.gv)(r,a,u)){const t=(0,f.kb)(e,u);if(!(0,g.Tj)(i,u))continue;t<s&&(s=t,(0,l.c)(n,u))}}return q(t,e.origin)<s&&O(t,e.origin,n),n}function O(t,e,n){const r=(0,g._I)(t.plane,e,b.rq.get()),i=(0,h.H6)(j(t,t.basis1),r,-1,1,b.rq.get()),s=(0,h.H6)(j(t,t.basis2),r,-1,1,b.rq.get());return(0,l.d)(n,(0,l.g)(b.rq.get(),i,s),t.origin),n}function T(t,e,n){const{origin:r,basis1:i,basis2:s}=t,o=(0,l.d)(b.rq.get(),e,r),a=(0,p.gr)(i,o),u=(0,p.gr)(s,o),c=(0,p.gr)(x(t),o);return(0,l.i)(n,a,u,c)}function q(t,e){const n=T(t,e,b.rq.get()),{basis1:r,basis2:i}=t,s=(0,l.l)(r),o=(0,l.l)(i),a=Math.max(Math.abs(n[0])-s,0),u=Math.max(Math.abs(n[1])-o,0),c=n[2];return a*a+u*u+c*c}function N(t,e){const n=-t.plane[3];return(0,p.gr)(x(t),e)-n}function x(t){return(0,g.Qj)(t.plane)}function L(t,e){const n=(0,l.d)(b.rq.get(),e,t.origin),r=(0,l.k)(t.basis1),i=(0,l.k)(t.basis2),s=(0,l.f)(t.basis1,n),o=(0,l.f)(t.basis2,n);return-s-r<0&&s-r<0&&-o-i<0&&o-i<0}function j(t,e){const n=C.get();return(0,l.c)(n.origin,t.origin),(0,l.c)(n.vector,e),n}function P(t,e,n){const{basis1:r,basis2:i,origin:s}=t,o=(0,l.h)(b.rq.get(),r,e.origin[0]),a=(0,l.h)(b.rq.get(),i,e.origin[1]);(0,l.g)(n.origin,o,a),(0,l.g)(n.origin,n.origin,s);const u=(0,l.h)(b.rq.get(),r,e.direction[0]),c=(0,l.h)(b.rq.get(),i,e.direction[1]);return(0,l.h)(n.vector,(0,l.g)(u,u,c),2),n}function R(t,e,n,r){const i=x(t);(0,g.mR)(i,e.direction,e.origin,n),(0,g.mR)((0,g.Qj)(n),i,e.origin,r)}const D={plane:(0,g.vt)(),origin:(0,u.fA)(0,0,0),basis1:(0,u.fA)(1,0,0),basis2:(0,u.fA)(0,1,0)},U=new s.I(g.vt),C=new s.I(h.vt),Z=(0,u.vt)(),V=new s.I((()=>v())),F=[{origin:[-1,-1],direction:[1,0]},{origin:[1,-1],direction:[0,1]},{origin:[1,1],direction:[-1,0]},{origin:[-1,1],direction:[0,-1]}],k=(0,a.vt)(),B=(0,a.vt)(),$=Object.freeze(Object.defineProperty({__proto__:null,BoundedPlaneClass:class{constructor(){this.plane=(0,g.vt)(),this.origin=(0,u.vt)(),this.basis1=(0,u.vt)(),this.basis2=(0,u.vt)()}},altitudeAt:N,axisAt:function(t,e,n,r){return function(t,e,n){switch(e){case d._.X:(0,l.c)(n,t.basis1),(0,l.n)(n,n);break;case d._.Y:(0,l.c)(n,t.basis2),(0,l.n)(n,n);break;case d._.Z:(0,l.c)(n,x(t))}return n}(t,n,r)},cameraFrustumCoverage:function(t,e){return(e-t)/e},closestPoint:I,closestPointOnSilhouette:E,copy:m,copyWithoutVerify:function(t,e){(0,l.c)(e.origin,t.origin),(0,l.c)(e.basis1,t.basis1),(0,l.c)(e.basis2,t.basis2),(0,g.C)(e.plane,t.plane)},create:v,distance:function(t,e){return Math.sqrt(q(t,e))},distance2:q,distanceToSilhouette:function(t,e){let n=Number.NEGATIVE_INFINITY;for(const r of F){const i=P(t,r,C.get()),s=(0,h.kb)(i,e);s>n&&(n=s)}return Math.sqrt(n)},elevate:A,equals:function(t,e){return(0,l.p)(t.basis1,e.basis1)&&(0,l.p)(t.basis2,e.basis2)&&(0,l.p)(t.origin,e.origin)},extrusionContainsPoint:function(t,e){return(0,g.Tj)(t.plane,e)&&L(t,e)},fromAABoundingRect:w,fromValues:_,getExtent:function(t,e){const n=t.basis1[0],r=t.basis2[1],[i,s]=t.origin;return(0,c.fA)(i-n,s-r,i+n,s+r,e)},intersectRay:S,intersectRayClosestSilhouette:function(t,e,n){if(S(t,e,n))return n;const r=E(t,e,b.rq.get());return(0,l.g)(n,e.origin,(0,l.h)(b.rq.get(),e.direction,(0,l.j)(e.origin,r)/(0,l.l)(e.direction))),n},normal:x,projectPoint:O,projectPointLocal:T,rotate:function(t,e,n,r){return t!==r&&m(t,r),(0,o.$0)(B,e,n),(0,l.t)(r.basis1,t.basis1,B),(0,l.t)(r.basis2,t.basis2,B),M(r),r},setAltitudeAt:function(t,e,n,r){const i=N(t,e),s=(0,l.h)(Z,x(t),n-i);return(0,l.g)(r,e,s),r},setExtent:function(t,e,n){return w(e,n),A(n,N(t,t.origin),n),n},transform:function(t,e,n){return t!==n&&m(t,n),(0,o.B8)(k,e),(0,o.mg)(k,k),(0,l.t)(n.basis1,t.basis1,k),(0,l.t)(n.basis2,t.basis2,k),(0,l.t)((0,g.Qj)(n.plane),(0,g.Qj)(t.plane),k),(0,l.t)(n.origin,t.origin,e),(0,g.mP)(n.plane,n.plane,n.origin),n},up:D,updateUnboundedPlane:M,wrap:function(t,e,n){const r=V.get();return r.origin=t,r.basis1=e,r.basis2=n,r.plane=(0,g.LV)(0,0,0,0),M(r),r}},Symbol.toStringTag,{value:"Module"}))},97937:(t,e,n)=>{n.d(e,{a:()=>A,c:()=>b,e:()=>m,f:()=>w,g:()=>M,i:()=>T,o:()=>R,s:()=>C,w:()=>_}),n(44208),n(53966);var r=n(34727),i=n(58083),s=n(38954),o=n(51850),a=n(87317),l=n(91829),u=n(34304),c=n(88582),d=n(71351);function h(t,e){const n=(0,s.l)(t),i=(0,r.YN)(t[2]/n),o=Math.atan2(t[1]/n,t[0]/n);return(0,s.i)(e,n,i,o),e}var g=n(44280),f=n(32114);const p=b();function b(){return(0,l.vt)()}const y=a.e,v=a.e;function m(t,e){return(0,a.c)(e,t)}function _(t){return t}function M(t){return t[3]}function A(t){return t}function w(t,e,n,r){return(0,l.fA)(t,e,n,r)}function S(t,e,n){if(null==e)return!1;if(!I(t,e,E))return!1;let{t0:r,t1:i}=E;if((r<0||i<r&&i>0)&&(r=i),r<0)return!1;if(n){const{origin:t,direction:i}=e;n[0]=t[0]+i[0]*r,n[1]=t[1]+i[1]*r,n[2]=t[2]+i[2]*r}return!0}const E={t0:0,t1:0};function I(t,e,n){const{origin:r,direction:i}=e,s=O;s[0]=r[0]-t[0],s[1]=r[1]-t[1],s[2]=r[2]-t[2];const o=i[0]*i[0]+i[1]*i[1]+i[2]*i[2];if(0===o)return!1;const a=2*(i[0]*s[0]+i[1]*s[1]+i[2]*s[2]),l=a*a-4*o*(s[0]*s[0]+s[1]*s[1]+s[2]*s[2]-t[3]*t[3]);if(l<0)return!1;const u=Math.sqrt(l);return n.t0=(-a-u)/(2*o),n.t1=(-a+u)/(2*o),!0}const O=(0,o.vt)();function T(t,e){return S(t,e,null)}function q(t,e,n){const r=f.rq.get(),o=f.Rc.get();(0,s.e)(r,e.origin,e.direction);const a=M(t);(0,s.e)(n,r,e.origin),(0,s.h)(n,n,1/(0,s.l)(n)*a);const l=x(t,e.origin),u=(0,g.g7)(e.origin,n);return(0,i.$0)(o,u+l,r),(0,s.t)(n,n,o),n}function N(t,e,n){const r=(0,s.d)(f.rq.get(),e,t),i=(0,s.h)(f.rq.get(),r,t[3]/(0,s.l)(r));return(0,s.g)(n,i,t)}function x(t,e){const n=(0,s.d)(f.rq.get(),e,t),i=(0,s.l)(n),o=M(t),a=o+Math.abs(o-i);return(0,r.XM)(o/a)}const L=(0,o.vt)();function j(t,e,n,r){const i=(0,s.d)(L,e,t);switch(n){case c._.X:{const t=h(i,L)[2];return(0,s.i)(r,-Math.sin(t),Math.cos(t),0)}case c._.Y:{const t=h(i,L),e=t[1],n=t[2],o=Math.sin(e);return(0,s.i)(r,-o*Math.cos(n),-o*Math.sin(n),Math.cos(e))}case c._.Z:return(0,s.n)(r,i);default:return}}function P(t,e){const n=(0,s.d)(D,e,t);return(0,s.l)(n)-t[3]}function R(t,e){const n=(0,s.s)(t,e),r=M(t);return n<=r*r}const D=(0,o.vt)(),U=b(),C=Object.freeze(Object.defineProperty({__proto__:null,NullSphere:p,altitudeAt:P,angleToSilhouette:x,axisAt:j,cameraFrustumCoverage:function(t,e,n,r){const i=M(t),s=i*i,o=e+.5*Math.PI,a=n*n+s-2*Math.cos(o)*n*i,l=Math.sqrt(a),u=a-s;if(u<=0)return.5;const c=Math.sqrt(u),d=Math.acos(c/l)-Math.asin(i/(l/Math.sin(o)));return Math.min(1,(d+.5*r)/r)},clear:function(t){t[0]=t[1]=t[2]=t[3]=0},closestPoint:function(t,e,n){return S(t,e,n)?n:((0,d.oC)(e,t,n),N(t,n,n))},closestPointOnSilhouette:q,containsPoint:R,copy:m,create:b,distanceToSilhouette:function(t,e){const n=(0,s.d)(f.rq.get(),e,t),r=(0,s.k)(n),i=t[3]*t[3];return Math.sqrt(Math.abs(r-i))},elevate:function(t,e,n){return t!==n&&(n[0]=t[0],n[1]=t[1],n[2]=t[2]),n[3]=t[3]+e,n},equals:v,exactEquals:y,fromCenterAndRadius:function(t,e){return(0,l.fA)(t[0],t[1],t[2],e)},fromRadius:function(t,e){return t[0]=t[1]=t[2]=0,t[3]=e,t},fromValues:w,getCenter:A,getExtent:function(t,e){return e},getRadius:M,intersectLine:function(t,e,n){const r=(0,d.Cr)(e,n);if(!I(t,r,E))return[];const{origin:i,direction:a}=r,{t0:l,t1:c}=E,h=e=>{const n=(0,o.vt)();return(0,s.b)(n,i,a,e),N(t,n,n)};return Math.abs(l-c)<(0,u.FD)()?[h(l)]:[h(l),h(c)]},intersectRay:S,intersectRayClosestSilhouette:function(t,e,n){if(S(t,e,n))return n;const r=q(t,e,f.rq.get());return(0,s.g)(n,e.origin,(0,s.h)(f.rq.get(),e.direction,(0,s.j)(e.origin,r)/(0,s.l)(e.direction))),n},intersectsRay:T,projectPoint:N,setAltitudeAt:function(t,e,n,r){const i=P(t,e),o=j(t,e,c._.Z,D),a=(0,s.h)(D,o,n-i);return(0,s.g)(r,e,a)},setExtent:function(t,e,n){return t!==n&&m(t,n),n},tmpSphere:U,union:function(t,e,n=(0,l.vt)()){const r=(0,s.j)(t,e),i=t[3],o=e[3];return r+o<i?((0,a.c)(n,t),n):r+i<o?((0,a.c)(n,e),n):((0,s.m)(n,t,e,(r+o-i)/(2*r)),n[3]=(r+i+o)/2,n)},wrap:_},Symbol.toStringTag,{value:"Module"}))},69540:(t,e,n)=>{n.d(e,{A:()=>h});var r=n(90237),i=n(69622),s=(n(44208),n(4718)),o=(n(53966),n(97768)),a=n(35666),l=n(88620),u=n(40608);const c=t=>{let e=class extends t{clone(){const t=(0,l.oY)(this);(0,o.Lw)(t,"unable to clone instance of non-accessor class");const e=t.metadata,n=t.store,r={},i=new Map;for(const t in e){const o=e[t],l=n?.originOf(t),u=o.clonable;if(o.readOnly||!1===u||l!==a.Gr.USER&&l!==a.Gr.DEFAULTS&&l!==a.Gr.WEB_MAP&&l!==a.Gr.WEB_SCENE)continue;const c=this[t];let d=null;d="function"==typeof u?u(c):"reference"===u?c:(0,s.TU)(c),null!=c&&null==d||(l===a.Gr.DEFAULTS?i.set(t,d):r[t]=d)}const u=new(0,Object.getPrototypeOf(this).constructor)(r);if(i.size){const t=(0,l.oY)(u)?.store;if(t)for(const[e,n]of i)t.set(e,n,a.Gr.DEFAULTS)}return u}};return e=(0,r._)([(0,u.$)("esri.core.Clonable")],e),e};let d=class extends(c(i.A)){};d=(0,r._)([(0,u.$)("esri.core.Clonable")],d),(d||(d={})).ClonableMixin=c;const h=d},4902:(t,e,n)=>{n.d(e,{A:()=>u});var r=n(90237),i=n(40608);let s=0;const o=t=>{let e=class extends t{constructor(...t){super(...t),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+s++})}};return e=(0,r._)([(0,i.$)("esri.core.Identifiable")],e),e};let a=class extends(o(class{})){};var l;a=(0,r._)([(0,i.$)("esri.core.Identifiable")],a),(l=a||(a={})).IdentifiableMixin=o,l.NumericIdentifiableMixin=t=>{let e=class extends t{constructor(...t){super(...t),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:s++})}};return e=(0,r._)([(0,i.$)("esri.core.Identifiable.NumericIdentifiable")],e),e};const u=a},92071:(t,e,n)=>{n.d(e,{P:()=>m,L:()=>_});var r=n(90237),i=n(69622),s=n(76953),o=n(4718),a=n(35666);class l{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(a.AU),this._values=new Map,this.multipleOriginsSupported=!0}clone(t){const e=new l,n=this._originStores[a.Gr.DEFAULTS];n&&n.forEach(((t,n)=>{e.set(n,(0,o.o8)(t),a.Gr.DEFAULTS)}));for(let n=a.Gr.SERVICE;n<a.AU;n++){const r=this._originStores[n];r&&r.forEach(((r,i)=>{t&&t.has(i)||e.set(i,(0,o.o8)(r),n)}))}return e}get(t,e){const n=void 0===e?this._values:this._originStores[e];return n?n.get(t):void 0}keys(t){const e=null==t?this._values:this._originStores[t];return e?[...e.keys()]:[]}set(t,e,n=a.Gr.USER){let r=this._originStores[n];if(r||(r=new Map,this._originStores[n]=r),r.set(t,e),!this._values.has(t)||this._propertyOriginMap.get(t)<=n){const r=this._values.get(t);return this._values.set(t,e),this._propertyOriginMap.set(t,n),r!==e}return!1}delete(t,e=a.Gr.USER){const n=this._originStores[e];if(!n)return;const r=n.get(t);if(n.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===e){this._values.delete(t);for(let n=e-1;n>=0;n--){const e=this._originStores[n];if(e&&e.has(t)){this._values.set(t,e.get(t)),this._propertyOriginMap.set(t,n);break}}}return r}has(t,e){const n=void 0===e?this._values:this._originStores[e];return!!n&&n.has(t)}revert(t,e){for(;e>0&&!this.has(t,e);)--e;const n=this._originStores[e]?.get(t),r=this._values.get(t);return this._values.set(t,n),this._propertyOriginMap.set(t,e),r!==n}originOf(t){return this._propertyOriginMap.get(t)||a.Gr.DEFAULTS}forEach(t){this._values.forEach(t)}}var u=n(45917),c=n(88620),d=n(40608);const h=t=>{let e=class extends t{constructor(...t){super(...t);const e=(0,c.oY)(this),n=e.store,r=new l;e.store=r,(0,s.k)(e,n,r)}read(t,e){(0,u.L)(this,t,e)}getAtOrigin(t,e){const n=g(this),r=(0,a.aB)(e);if("string"==typeof t)return n.get(t,r);const i={};return t.forEach((t=>{i[t]=n.get(t,r)})),i}originOf(t){return(0,a.OL)(this.originIdOf(t))}originIdOf(t){return g(this).originOf(t)}revert(t,e){const n=g(this),r=(0,a.aB)(e),i=(0,c.oY)(this);let s;s="string"==typeof t?"*"===t?n.keys(r):[t]:t,s.forEach((t=>{i.invalidate(t),n.revert(t,r),i.commit(t)}))}};return e=(0,r._)([(0,d.$)("esri.core.ReadOnlyMultiOriginJSONSupport")],e),e};function g(t){return(0,c.oY)(t).store}let f=class extends(h(i.A)){};f=(0,r._)([(0,d.$)("esri.core.ReadOnlyMultiOriginJSONSupport")],f);var p=n(16649),b=n(49422);const y=t=>{let e=class extends t{constructor(...t){super(...t)}clear(t,e="user"){return v(this).delete(t,(0,a.aB)(e))}write(t,e){return(0,b.M)(this,t=t||{},e),t}setAtOrigin(t,e,n){(0,c.oY)(this).setAtOrigin(t,e,(0,a.aB)(n))}removeOrigin(t){const e=v(this),n=(0,a.aB)(t),r=e.keys(n);for(const t of r)e.originOf(t)===n&&e.set(t,e.get(t,n),a.Gr.USER)}updateOrigin(t,e){const n=v(this),r=(0,a.aB)(e),i=(0,p.Jt)(this,t);for(let e=r+1;e<a.AU;++e)n.delete(t,e);n.set(t,i,r)}toJSON(t){return this.write({},t)}};return e=(0,r._)([(0,d.$)("esri.core.MultiOriginJSONSupport.WriteableMultiOriginJSONSupport")],e),e.prototype.toJSON.isDefaultToJSON=!0,e};function v(t){return(0,c.oY)(t).store}const m=t=>{let e=class extends(y(h(t))){constructor(...t){super(...t)}};return e=(0,r._)([(0,d.$)("esri.core.MultiOriginJSONSupport")],e),e};let _=class extends(m(i.A)){};_=(0,r._)([(0,d.$)("esri.core.MultiOriginJSONSupport")],_)},4341:(t,e,n)=>{n.d(e,{I:()=>i});var r=n(26390);class i{constructor(t){this._allocator=t,this._items=[],this._itemsPtr=0,this._grow()}get(){return 0===this._itemsPtr&&(0,r.d)((()=>this._reset())),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}_reset(){const t=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*s);this._items.length=Math.min(t,this._items.length),this._itemsPtr=0}_grow(){for(let t=0;t<Math.max(8,Math.min(this._items.length,s));t++)this._items.push(this._allocator())}}const s=1024},62885:(t,e,n)=>{n.d(e,{H:()=>s,V:()=>i});var r=n(5503);function i(t,e,n=r.A){return e||(e=new n),e===t||(e.removeAll(),(i=t)&&(Array.isArray(i)||"items"in i&&Array.isArray(i.items))?e.addMany(t):t&&e.add(t)),e;var i}function s(t){return t}},36708:(t,e,n)=>{n.d(e,{C_:()=>h,OH:()=>p,Vh:()=>b,on:()=>d,pc:()=>y,wB:()=>l,z7:()=>u}),n(60999),n(5503);var r=n(37955),i=n(36563),s=n(97768),o=n(74887),a=n(14012);function l(t,e,n={}){return c(t,e,n,g)}function u(t,e,n={}){return c(t,e,n,f)}function c(t,e,n={},r){let i=null;const o=n.once?(t,n)=>{r(t)&&((0,s.xt)(i),e(t,n))}:(t,n)=>{r(t)&&e(t,n)};if(i=(0,a.Cn)(t,o,n.sync,n.equals),n.initial){const e=t();o(e,e)}return i}function d(t,e,n,o={}){let a=null,u=null,c=null;function d(){a&&u&&(u.remove(),o.onListenerRemove?.(a),a=null,u=null)}function h(t){o.once&&o.once&&(0,s.xt)(c),n(t)}const g=l(t,((t,n)=>{d(),(0,r.wb)(t)&&(a=t,u=(0,r.on)(t,e,h),o.onListenerAdd?.(t))}),{sync:o.sync,initial:!0});return c=(0,i.hA)((()=>{g.remove(),d()})),c}function h(t,e){return function(t,e,n){if((0,o.G4)(n))return Promise.reject((0,o.NK)());const r=t();if(e?.(r))return Promise.resolve(r);let a=null;function l(){a=(0,s.xt)(a)}return new Promise(((r,s)=>{a=(0,i.vE)([(0,o.u7)(n,(()=>{l(),s((0,o.NK)())})),c(t,(t=>{l(),r(t)}),{sync:!1,once:!0},e??g)])}))}(t,f,e)}function g(t){return!0}function f(t){return!!t}n(80559);const p={sync:!0},b={initial:!0},y={sync:!0,initial:!0}},11964:(t,e,n)=>{n.d(e,{Cr:()=>u,H6:()=>h,_I:()=>d,kb:()=>c,vt:()=>l});var r=n(34727),i=n(4341),s=n(38954),o=n(51850),a=n(32114);function l(t){return t?{origin:(0,o.o8)(t.origin),vector:(0,o.o8)(t.vector)}:{origin:(0,o.vt)(),vector:(0,o.vt)()}}function u(t,e,n=l()){return(0,s.c)(n.origin,t),(0,s.d)(n.vector,e,t),n}function c(t,e){const n=(0,s.d)(a.rq.get(),e,t.origin),i=(0,s.f)(t.vector,n),o=(0,s.f)(t.vector,t.vector),l=(0,r.qE)(i/o,0,1),u=(0,s.d)(a.rq.get(),(0,s.h)(a.rq.get(),t.vector,l),n);return(0,s.f)(u,u)}function d(t,e,n){return h(t,e,0,1,n)}function h(t,e,n,i,o){const{vector:l,origin:u}=t,c=(0,s.d)(a.rq.get(),e,u),d=(0,s.f)(l,c)/(0,s.k)(l);return(0,s.h)(o,l,(0,r.qE)(d,n,i)),(0,s.g)(o,o,t.origin)}(0,o.vt)(),(0,o.vt)(),new i.I((()=>l()))},71351:(t,e,n)=>{n.d(e,{C:()=>d,Cr:()=>h,LV:()=>c,kb:()=>g,oC:()=>f,vt:()=>l}),n(4576);var r=n(4341),i=(n(77690),n(29242)),s=n(38954),o=n(51850),a=n(32114);function l(t){return t?u((0,o.o8)(t.origin),(0,o.o8)(t.direction)):u((0,o.vt)(),(0,o.vt)())}function u(t,e){return{origin:t,direction:e}}function c(t,e){const n=p.get();return n.origin=t,n.direction=e,n}function d(t,e=l()){return function(t,e,n=l()){return(0,s.c)(n.origin,t),(0,s.c)(n.direction,e),n}(t.origin,t.direction,e)}function h(t,e,n=l()){return(0,s.c)(n.origin,t),(0,s.d)(n.direction,e,t),n}function g(t,e){const n=(0,s.e)(a.rq.get(),(0,s.n)(a.rq.get(),t.direction),(0,s.d)(a.rq.get(),e,t.origin));return(0,s.f)(n,n)}function f(t,e,n){const r=(0,s.f)(t.direction,(0,s.d)(n,e,t.origin));return(0,s.g)(n,t.origin,(0,s.h)(n,t.direction,r)),n}const p=new r.I((()=>l()));(0,o.vt)(),(0,o.vt)(),(0,o.vt)(),(0,i.vt)()},4146:(t,e,n)=>{n.d(e,{A:()=>_});var r=n(90237),i=n(78888),s=n(49186),o=n(65529),a=n(4902),l=n(92474),u=n(53966),c=n(74887),d=n(84952),h=n(10107),g=(n(44208),n(87811),n(40608)),f=n(5443),p=n(16930),b=n(92602),y=n(79677);let v=0,m=class extends(o.A.EventedMixin(a.A.IdentifiableMixin(l.A))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new f.A(-180,-90,180,90,p.A.WGS84),this.id=Date.now().toString(16)+"-layer-"+v++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=p.A.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(t){const e="string"==typeof t?{url:t}:t;return(await n.e(7982).then(n.bind(n,27982))).fromUrl(e)}static fromPortalItem(t){return async function(t){const e="portalItem"in t?t:{portalItem:t},{fromItem:r}=await n.e(5613).then(n.bind(n,45613));try{return await r(e)}catch(t){const n=e?.portalItem,r=n?.id||"unset",i=n?.portal?.url||b.A.portalUrl;throw u.A.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+i+"', id: '"+r+"')",t),t}}(t)}initialize(){this.when().catch((t=>{(0,c.zf)(t)||u.A.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:t})}))}destroy(){const t=this.parent;if(t){const e=this;"layers"in t&&t.layers.includes(e)?t.layers.remove(e):"tables"in t&&t.tables.includes(e)?t.tables.remove(e):"baseLayers"in t&&t.baseLayers.includes(e)?t.baseLayers.remove(e):"referenceLayers"in t&&t.referenceLayers.includes(e)&&t.referenceLayers.remove(e),this._set("parent",null)}}get effectiveVisible(){let t=this.visible;const e=this.parent;return t&&e&&"effectiveVisible"in e&&(t&&=e.effectiveVisible),t}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){return(0,d.An)(this.url)}createLayerView(t,e){return Promise.reject(new s.A("layer:create-layer-view","Layer does not support creating a layer view"))}async fetchAttributionData(){const t=this.attributionDataUrl;if(this.hasAttributionData&&t)return(await(0,i.A)(t,{query:{f:"json"},responseType:"json"})).data;throw new s.A("layer:no-attribution-data","Layer does not have attribution data")}};(0,r._)([(0,h.MZ)({type:String})],m.prototype,"attributionDataUrl",void 0),(0,r._)([(0,h.MZ)({readOnly:!0})],m.prototype,"effectiveVisible",null),(0,r._)([(0,h.MZ)({type:f.A})],m.prototype,"fullExtent",void 0),(0,r._)([(0,h.MZ)({readOnly:!0})],m.prototype,"hasAttributionData",null),(0,r._)([(0,h.MZ)({type:String,clonable:!1})],m.prototype,"id",void 0),(0,r._)([(0,h.MZ)({type:Boolean,nonNullable:!0})],m.prototype,"legendEnabled",void 0),(0,r._)([(0,h.MZ)({type:["show","hide","hide-children"]})],m.prototype,"listMode",void 0),(0,r._)([(0,h.MZ)({type:Number,range:{min:0,max:1},nonNullable:!0})],m.prototype,"opacity",void 0),(0,r._)([(0,h.MZ)({clonable:!1})],m.prototype,"parent",void 0),(0,r._)([(0,h.MZ)({readOnly:!0})],m.prototype,"parsedUrl",null),(0,r._)([(0,h.MZ)({type:Boolean,readOnly:!0})],m.prototype,"persistenceEnabled",void 0),(0,r._)([(0,h.MZ)({type:Boolean})],m.prototype,"popupEnabled",void 0),(0,r._)([(0,h.MZ)({type:Boolean})],m.prototype,"attributionVisible",void 0),(0,r._)([(0,h.MZ)({type:p.A})],m.prototype,"spatialReference",void 0),(0,r._)([(0,h.MZ)({type:String})],m.prototype,"title",void 0),(0,r._)([(0,h.MZ)({readOnly:!0,json:{read:!1}})],m.prototype,"type",void 0),(0,r._)([(0,h.MZ)()],m.prototype,"url",void 0),(0,r._)([(0,h.MZ)({type:y.A})],m.prototype,"visibilityTimeExtent",void 0),(0,r._)([(0,h.MZ)({type:Boolean,nonNullable:!0})],m.prototype,"visible",void 0),m=(0,r._)([(0,g.$)("esri.layers.Layer")],m);const _=m},79677:(t,e,n)=>{n.d(e,{A:()=>g});var r,i=n(90237),s=n(25482),o=n(88930),a=n(10107),l=(n(44208),n(53966),n(87811),n(36005)),u=n(40608),c=n(43937),d=n(98623);let h=r=class extends s.A{static get allTime(){return f}static get empty(){return p}static fromArray(t){return new r({start:null!=t[0]?new Date(t[0]):t[0],end:null!=t[1]?new Date(t[1]):t[1]})}constructor(t){super(t),this.end=null,this.start=null}readEnd(t,e){return null!=e.end?new Date(e.end):null}writeEnd(t,e){e.end=t?.getTime()??null}get isAllTime(){return this.equals(r.allTime)}get isEmpty(){return this.equals(r.empty)}readStart(t,e){return null!=e.start?new Date(e.start):null}writeStart(t,e){e.start=t?.getTime()??null}clone(){return new r({end:this.end,start:this.start})}equals(t){if(!t)return!1;const e=this.start?.getTime()??this.start,n=this.end?.getTime()??this.end,r=t.start?.getTime()??t.start,i=t.end?.getTime()??t.end;return e===r&&n===i}expandTo(t,e=d.qU){if(this.isEmpty||this.isAllTime)return this.clone();let n=this.start;n&&(n=(0,o.lL)(n,t,e));let i=this.end;if(i){const n=(0,o.lL)(i,t,e);i=i.getTime()===n.getTime()?n:(0,o.S1)(n,1,t,e)}return new r({start:n,end:i})}intersection(t){if(!t)return this.clone();if(this.isEmpty||t.isEmpty)return r.empty;if(this.isAllTime)return t.clone();if(t.isAllTime)return this.clone();const e=this.start?.getTime()??-1/0,n=this.end?.getTime()??1/0,i=t.start?.getTime()??-1/0,s=t.end?.getTime()??1/0;let o,a;return i>=e&&i<=n?o=i:e>=i&&e<=s&&(o=e),n>=i&&n<=s?a=n:s>=e&&s<=n&&(a=s),null==o||null==a||isNaN(o)||isNaN(a)?r.empty:new r({start:o===-1/0?null:new Date(o),end:a===1/0?null:new Date(a)})}offset(t,e,n=d.qU){if(this.isEmpty||this.isAllTime)return this.clone();const i=new r,{start:s,end:a}=this;return null!=s&&(i.start=(0,o.S1)(s,t,e,n)),null!=a&&(i.end=(0,o.S1)(a,t,e,n)),i}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(t){if(!t||t.isEmpty)return this.clone();if(this.isEmpty)return t.clone();if(this.isAllTime||t.isAllTime)return f.clone();const e=null!=this.start&&null!=t.start?new Date(Math.min(this.start.getTime(),t.start.getTime())):null,n=null!=this.end&&null!=t.end?new Date(Math.max(this.end.getTime(),t.end.getTime())):null;return new r({start:e,end:n})}};(0,i._)([(0,a.MZ)({type:Date,json:{write:{allowNull:!0}}})],h.prototype,"end",void 0),(0,i._)([(0,l.w)("end")],h.prototype,"readEnd",null),(0,i._)([(0,c.K)("end")],h.prototype,"writeEnd",null),(0,i._)([(0,a.MZ)({readOnly:!0,json:{read:!1}})],h.prototype,"isAllTime",null),(0,i._)([(0,a.MZ)({readOnly:!0,json:{read:!1}})],h.prototype,"isEmpty",null),(0,i._)([(0,a.MZ)({type:Date,json:{write:{allowNull:!0}}})],h.prototype,"start",void 0),(0,i._)([(0,l.w)("start")],h.prototype,"readStart",null),(0,i._)([(0,c.K)("start")],h.prototype,"writeStart",null),h=r=(0,i._)([(0,u.$)("esri.time.TimeExtent")],h);const g=h,f=new h,p=new h({start:void 0,end:void 0})},62258:(t,e,n)=>{var r,i;n.d(e,{dz:()=>r,oH:()=>i}),function(t){t[t.OBJECT=0]="OBJECT",t[t.HUD=1]="HUD",t[t.TERRAIN=2]="TERRAIN",t[t.OVERLAY=3]="OVERLAY",t[t.I3S=4]="I3S",t[t.PCL=5]="PCL",t[t.LOD=6]="LOD",t[t.VOXEL=7]="VOXEL",t[t.TILES3D=8]="TILES3D"}(r||(r={})),function(t){t[t.MIN=0]="MIN",t[t.MINMAX=1]="MINMAX",t[t.ALL=2]="ALL"}(i||(i={}))},65215:(t,e,n)=>{n.d(e,{HE:()=>r,R6:()=>i}),n(51850);class r{constructor(t){this.layerUid=t}}class i extends r{constructor(t,e){super(t),this.graphicUid=e}}},86305:(t,e,n)=>{n.d(e,{i3:()=>i}),n(38954);var r=n(51850);function i(t){return null!=t?.dist}n(17352),n(62258),(0,r.vt)()},87582:(t,e,n)=>{n.d(e,{h:()=>i}),n(62258);var r=n(65215);n(86305);class i extends r.R6{constructor(t,e,n,r,i){super(t,e),this.layerUid=t,this.graphicUid=e,this.triangleNr=n,this.baseBoundingSphere=r,this.numLodLevels=i}}},78553:(t,e,n)=>{n.d(e,{D:()=>s,p:()=>i});var r=n(56507);function i(t){const e=(0,r.Vr)(100*(1-t));return Math.max(0,Math.min(e,100))}function s(t){const e=1-t/100;return Math.max(0,Math.min(e,1))}}}]);