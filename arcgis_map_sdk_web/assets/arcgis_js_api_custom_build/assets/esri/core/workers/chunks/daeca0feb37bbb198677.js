"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[4118],{60999:(e,t,n)=>{n.d(t,{DZ:()=>y,Ke:()=>h,Tj:()=>c,UT:()=>g,jJ:()=>a});var r=n(90237),s=n(69622),o=n(97768),i=n(74887),l=n(10107),u=n(40608);function a(e,t,n){return(0,i.Lx)(e.map(((e,r)=>t.apply(n,[e,r]))))}async function c(e,t,n){return(await(0,i.Lx)(e.map(((e,r)=>t.apply(n,[e,r]))))).map((e=>e.value))}function f(e){return{ok:!0,value:e}}function p(e){return{ok:!1,error:e}}async function h(e){if(null==e)return{ok:!1,error:new Error("no promise provided")};try{return f(await e)}catch(e){return p(e)}}async function y(e){try{return f(await e)}catch(e){return(0,i.QP)(e),p(e)}}function g(e,t){return new m(e,t)}let m=class extends s.A{get value(){return null!=(e=this._result)&&!0===e.ok?e.value:null;var e}get error(){return null!=(e=this._result)&&!1===e.ok?e.error:null;var e}get finished(){return null!=this._result}constructor(e,t){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=(0,o.DC)(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:n}=this._abortController;this.promise=e(n),this.promise.then((e=>{this._result=f(e),this._cleanup()}),(e=>{this._result=p(e),this._cleanup()})),this._abortHandle=(0,i.u7)(t,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=(0,o.xt)(this._abortHandle),this._abortController=null}};(0,r._)([(0,l.MZ)()],m.prototype,"value",null),(0,r._)([(0,l.MZ)()],m.prototype,"error",null),(0,r._)([(0,l.MZ)()],m.prototype,"finished",null),(0,r._)([(0,l.MZ)()],m.prototype,"promise",void 0),(0,r._)([(0,l.MZ)()],m.prototype,"_result",void 0),m=(0,r._)([(0,u.$)("esri.core.asyncUtils.ReactiveTask")],m)},17136:(e,t,n)=>{n.d(t,{O7:()=>k,el:()=>x});var r=n(92602),s=n(49186),o=n(53966),i=n(39829),l=n(82799),u=n(80754),a=n(21325),c=n(28735),f=n(78888),p=n(65864),h=n(2272),y=n(84952),g=n(92300);const m=()=>o.A.getLogger("esri.geometry.support.normalizeUtils");function d(e){return"polygon"===e[0].type}function b(e){return"polyline"===e[0].type}function A(e,t,n){if(t){const t=function(e,t){if(!(e instanceof l.A||e instanceof i.A)){const e="straightLineDensify: the input geometry is neither polyline nor polygon";throw m().error(e),new s.A(e)}const n=(0,u.r8)(e),r=[];for(const e of n){const n=[];r.push(n),n.push([e[0][0],e[0][1]]);for(let r=0;r<e.length-1;r++){const s=e[r][0],o=e[r][1],i=e[r+1][0],l=e[r+1][1],u=Math.sqrt((i-s)*(i-s)+(l-o)*(l-o)),a=(l-o)/u,c=(i-s)/u,f=u/t;if(f>1){for(let e=1;e<=f-1;e++){const r=e*t,i=c*r+s,l=a*r+o;n.push([i,l])}const e=(u+Math.floor(f-1)*t)/2,r=c*e+s,i=a*e+o;n.push([r,i])}n.push([i,l])}}return function(e){return"polygon"===e.type}(e)?new i.A({rings:r,spatialReference:e.spatialReference}):new l.A({paths:r,spatialReference:e.spatialReference})}(e,1e6);e=(0,c.ci)(t,!0)}return n&&(e=(0,u.kS)(e,n)),e}function _(e,t,n){if(Array.isArray(e)){const r=e[0];if(r>t){const n=(0,u.kd)(r,t);e[0]=r+n*(-2*t)}else if(r<n){const t=(0,u.kd)(r,n);e[0]=r+t*(-2*n)}}else{const r=e.x;if(r>t){const n=(0,u.kd)(r,t);e=e.clone().offset(n*(-2*t),0)}else if(r<n){const t=(0,u.kd)(r,n);e=e.clone().offset(t*(-2*n),0)}}return e}function w(e,t){let n=-1;for(let r=0;r<t.cutIndexes.length;r++){const s=t.cutIndexes[r],o=t.geometries[r],i=(0,u.r8)(o);for(let e=0;e<i.length;e++){const t=i[e];t.some((n=>{if(n[0]<180)return!0;{let n=0;for(let e=0;e<t.length;e++){const r=t[e][0];n=r>n?r:n}n=Number(n.toFixed(9));const r=-360*(0,u.kd)(n,180);for(let n=0;n<t.length;n++){const t=o.getPoint(e,n);o.setPoint(e,n,t.clone().offset(r,0))}return!0}}))}if(s===n){if(d(e))for(const t of(0,u.r8)(o))e[s]=e[s].addRing(t);else if(b(e))for(const t of(0,u.r8)(o))e[s]=e[s].addPath(t)}else n=s,e[s]=o}return e}async function x(e,t,n){if(!Array.isArray(e))return x([e],t);t&&"string"!=typeof t&&m().warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const s="string"==typeof t?t:t?.url??r.A.geometryServiceUrl;let o,d,b,k,M,v,R,C,j=0;const L=[],S=[];for(const t of e)if(null!=t)if(o||(o=t.spatialReference,d=(0,a.Vp)(o),b=o.isWebMercator,v=b?102100:4326,k=u.j7[v].maxX,M=u.j7[v].minX,R=u.j7[v].plus180Line,C=u.j7[v].minus180Line),d)if("mesh"===t.type)S.push(t);else if("point"===t.type)S.push(_(t.clone(),k,M));else if("multipoint"===t.type){const e=t.clone();e.points=e.points.map((e=>_(e,k,M))),S.push(e)}else if("extent"===t.type){const e=t.clone()._normalize(!1,!1,d);S.push(e.rings?new i.A(e):e)}else if(t.extent){const e=t.extent,n=(0,u.kd)(e.xmin,M)*(2*k);let r=0===n?t.clone():(0,u.kS)(t.clone(),n);e.offset(n,0);let{xmin:s,xmax:o}=e;s=Number(s.toFixed(9)),o=Number(o.toFixed(9)),e.intersects(R)&&o!==k?(j=o>j?o:j,r=A(r,b),L.push(r),S.push("cut")):e.intersects(C)&&s!==M?(j=o*(2*k)>j?o*(2*k):j,r=A(r,b,360),L.push(r),S.push("cut")):S.push(r)}else S.push(t.clone());else S.push(t);else S.push(t);let X=(0,u.kd)(j,k),N=-90;const T=X,Z=new l.A;for(;X>0;){const e=360*X-180;Z.addPath([[e,N],[e,-1*N]]),N*=-1,X--}if(L.length>0&&T>0){const t=w(L,await async function(e,t,n,r){const s=(0,h.Dl)(e),o=t[0].spatialReference,i={...r,responseType:"json",query:{...s.query,f:"json",sr:(0,a.YX)(o),target:JSON.stringify({geometryType:(0,p.$B)(t[0]),geometries:t}),cutter:JSON.stringify(n)}},l=await(0,f.A)(s.path+"/cut",i),{cutIndexes:u,geometries:c=[]}=l.data;return{cutIndexes:u,geometries:c.map((e=>{const t=(0,p.rS)(e);return t.spatialReference=o,t}))}}(s,L,Z,n)),r=[],o=[];for(let n=0;n<S.length;n++){const s=S[n];if("cut"!==s)o.push(s);else{const s=t.shift(),i=e[n];null!=i&&"polygon"===i.type&&i.rings&&i.rings.length>1&&s.rings.length>=i.rings.length?(r.push(s),o.push("simplify")):o.push(b?(0,c.Gh)(s):s)}}if(!r.length)return o;const i=await async function(e,t,n){const r="string"==typeof e?(0,y.An)(e):e,s=t[0].spatialReference,o=(0,p.$B)(t[0]),i={...n,query:{...r.query,f:"json",sr:(0,a.YX)(s),geometries:JSON.stringify((0,g.X)(t))}},{data:l}=await(0,f.A)(r.path+"/simplify",i);return(0,g.V)(l.geometries,o,s)}(s,r,n),l=[];for(let e=0;e<o.length;e++){const t=o[e];"simplify"!==t?l.push(t):l.push(b?(0,c.Gh)(i.shift()):i.shift())}return l}const q=[];for(let e=0;e<S.length;e++){const t=S[e];if("cut"!==t)q.push(t);else{const e=L.shift();q.push(!0===b?(0,c.Gh)(e):e)}}return q}function k(e,t,n){const r=(0,a.Vp)(n);if(null==r)return e;const[s,o]=r.valid,i=2*o;let l=0,u=0;t>o?l=Math.ceil(Math.abs(t-o)/i):t<s&&(l=-Math.ceil(Math.abs(t-s)/i)),e>o?u=Math.ceil(Math.abs(e-o)/i):e<s&&(u=-Math.ceil(Math.abs(e-s)/i));let c=e+(l-u)*i;const f=c-t;return f>o?c-=i:f<s&&(c+=i),c}},80754:(e,t,n)=>{n.d(t,{j7:()=>i,kS:()=>u,kd:()=>l,r8:()=>a});var r=n(82799),s=n(16930),o=n(65864);const i={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new r.A({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:s.A.WebMercator}),minus180Line:new r.A({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:s.A.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new r.A({paths:[[[180,-180],[180,180]]],spatialReference:s.A.WGS84}),minus180Line:new r.A({paths:[[[-180,-180],[-180,180]]],spatialReference:s.A.WGS84})}};function l(e,t){return Math.ceil((e-t)/(2*t))}function u(e,t){const n=a(e);for(const e of n)for(const n of e)n[0]+=t;return e}function a(e){return(0,o.Bi)(e)?e.rings:e.paths}}}]);