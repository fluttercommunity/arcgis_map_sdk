"use strict";(self.webpackChunkarcgis_webpack01=self.webpackChunkarcgis_webpack01||[]).push([[78306,8060,90834],{6415:(e,t,i)=>{i.d(t,{I:()=>_,a:()=>m,b:()=>v});var r=i(35031),n=i(5885),s=i(4731),a=i(78950),o=i(94880),l=i(32394),h=i(84614),d=i(24603),u=i(20200),c=i(15176),p=i(21414),g=i(82050),f=i(86765),y=i(9229);class m extends f.K{}function v(e){const t=new y.kG,{vertex:i,fragment:f}=t,{output:m,perspectiveInterpolation:v}=e;return(0,h.Sv)(i,e),t.include(s.w,e),t.include(o.H,e),t.fragment.include(n.f5,e),t.include(a.R,e),t.include(g.j,e),t.attributes.add(p.T.POSITION,"vec3"),t.attributes.add(p.T.UV0,"vec2"),v&&t.attributes.add(p.T.PERSPECTIVEDIVIDE,"float"),i.main.add(u.H`
    vpos = position;
    forwardViewPosDepth((view * vec4(vpos, 1.0)).xyz);
    vTexCoord = uv0;
    gl_Position = transformPosition(proj, view, vpos);
    ${(0,u.If)(v,"gl_Position *= perspectiveDivide;")}`),t.varyings.add("vpos","vec3"),t.varyings.add("vTexCoord","vec2"),f.include(l.Y),f.uniforms.add(new d.p("opacity",(e=>e.opacity)),new c.A("tex",(e=>e.texture))).main.add(u.H`
    discardBySlice(vpos);
    discardByTerrainDepth();
    ${(0,u.If)(m===r.H_.ObjectAndLayerIdColor,"fragColor = vec4(0, 0, 0, 1); return;")}
    vec4 finalColor = texture(tex, vTexCoord) * opacity;
    outputColorHighlightOID(finalColor, vpos);`),t}const _=Object.freeze(Object.defineProperty({__proto__:null,ImageMaterialPassParameters:m,build:v},Symbol.toStringTag,{value:"Module"}))},8060:(e,t,i)=>{i.r(t),i.d(t,{getGeometryServiceURL:()=>l,projectGeometry:()=>h});var r=i(51366),n=i(70375),s=i(93968),a=i(94466),o=i(41268);async function l(e=null,t){if(r.Z.geometryServiceUrl)return r.Z.geometryServiceUrl;if(!e)throw new n.Z("internal:geometry-service-url-not-configured");let i;i="portal"in e?e.portal||s.Z.getDefault():e,await i.load({signal:t});const a=i.helperServices?.geometry?.url;if(!a)throw new n.Z("internal:geometry-service-url-not-configured");return a}async function h(e,t,i=null,r){const s=await l(i,r),h=new o.Z({geometries:[e],outSpatialReference:t}),d=await(0,a.i)(s,h,{signal:r});if(d&&Array.isArray(d)&&1===d.length)return d[0];throw new n.Z("internal:geometry-service-projection-failed")}},94466:(e,t,i)=>{i.d(t,{i:()=>d});var r=i(66341),n=i(7283),s=i(53736),a=i(84238),o=i(5167),l=i(41268);const h=(0,n.se)(l.Z);async function d(e,t,i){t=h(t);const n=(0,a.en)(e),l={...n.query,f:"json",...t.toJSON()},d=t.outSpatialReference,u=(0,s.Ji)(t.geometries[0]),c=(0,a.lA)(l,i);return(0,r.Z)(n.path+"/project",c).then((({data:{geometries:e}})=>(0,o.o)(e,u,d)))}},41268:(e,t,i)=>{i.d(t,{Z:()=>u});var r=i(36663),n=i(82064),s=i(81977),a=(i(39994),i(13802),i(4157),i(40266)),o=i(14685),l=i(53736),h=i(35925);let d=class extends n.Z{constructor(e){super(e),this.geometries=[],this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const e=this.geometries.map((e=>e.toJSON())),t=this.geometries[0],i={};return i.outSR=(0,h.B9)(this.outSpatialReference),i.inSR=(0,h.B9)(t.spatialReference),i.geometries=JSON.stringify({geometryType:(0,l.Ji)(t),geometries:e}),this.transformation&&(i.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(i.transformForward=this.transformForward),i}};(0,r._)([(0,s.Cb)()],d.prototype,"geometries",void 0),(0,r._)([(0,s.Cb)({type:o.Z,json:{read:{source:"outSR"}}})],d.prototype,"outSpatialReference",void 0),(0,r._)([(0,s.Cb)()],d.prototype,"transformation",void 0),(0,r._)([(0,s.Cb)()],d.prototype,"transformForward",void 0),d=(0,r._)([(0,a.j)("esri.rest.support.ProjectParameters")],d);const u=d},78306:(e,t,i)=>{i.d(t,{Z:()=>j});var r=i(36663),n=i(67979),s=i(23148),a=i(13802),o=i(61681),l=i(78668),h=i(76868),d=i(81977),u=(i(39994),i(4157),i(40266)),c=i(91772),p=i(24568),g=i(43977),f=i(28800),y=i(92570),m=i(31725),v=i(85799),_=i(63885),w=i(6087),b=i(21414);function x(e,t){return(0,w.g7)(e,[[t[0],t[1],-1],[t[2],t[1],-1],[t[2],t[3],-1],[t[0],t[3],-1]])}function I(e,t,i){if(!(0,p.kK)(t,i))return x(e,i);const r=[t[1]-i[1],Math.min(t[3],i[3])-Math.max(t[1],i[1]),i[3]-t[3],123456],n=[t[0]-i[0],Math.min(t[2],i[2])-Math.max(t[0],i[0]),i[2]-t[2],123456],s=i[2]-i[0],a=i[3]-i[1],o=n[0]>0&&n[2]>0?3:2,l=r[0]>0&&r[2]>0?3:2,h=(l+1)*(o+1),d=(0,y.bg)(3*h),u=(0,m.xx)(2*h),c=new Array(6*(l*o-1));let g=0,f=0,w=0,I=0,T=0;for(let e=0;e<4;e++){const t=r[e];if(t<=0)continue;let l=0;for(let t=0;t<4;t++){const r=n[t];r<=0||(d[f++]=i[0]+l,d[f++]=i[1]+g,d[f++]=-1,u[w++]=l/s,u[w++]=g/a,t<3&&e<3&&(1!==t||1!==e)&&(c[T++]=I,c[T++]=I+1,c[T++]=I+o+1,c[T++]=I+1,c[T++]=I+o+2,c[T++]=I+o+1),I++,l+=r)}g+=t}const C=new Array(c.length);return new _.Z(e,[[b.T.POSITION,new v.a(d,c,3,!0)],[b.T.NORMAL,new v.a(S,C,3,!0)],[b.T.UV0,new v.a(u,c,2,!0)]])}const S=[0,0,1];var T=i(53986),C=i(3289),E=i(9812),R=i(79341),O=i(13304),P=i(44101),A=i(53448),D=i(90834),M=i(26216),L=i(55068),N=i(42780),Z=i(91907);let V=class extends((0,L.Z)((0,f.A)(M.Z))){constructor(){super(...arguments),this.drapeSourceType=g.Lw.RasterImage,this.updatePolicy=A.j.SYNC,this.fullExtentInLocalViewSpatialReference=null,this.maximumDataResolution=null,this._images=new Array,this._extents=new Array,this._overlays=new Array,this.updateWhenStationary=!0,this._drapeSourceRenderer=null,this.refreshDebounced=(0,l.Ds)((async e=>{this.destroyed||await this._doRefresh(e).catch((e=>{(0,l.D_)(e)||a.Z.getLogger(this).error(e)}))}),2e3)}get visibleAtCurrentScale(){const e=this.layer,t="effectiveScaleRange"in e?e.effectiveScaleRange:null;return(0,N.GB)(t,this.view.scale)}initialize(){this._drapeSourceRenderer=this.view.basemapTerrain.overlayManager.registerGeometryDrapeSource(this),this.addHandles((0,s.kB)((()=>this.view.basemapTerrain.overlayManager.unregisterDrapeSource(this)))),this.addResolvingPromise((0,T.E)(this).then((e=>this._set("fullExtentInLocalViewSpatialReference",e)))),this._updatingHandles.add((()=>this.suspended),(()=>this._suspendedChangeHandler()))}destroy(){this.clear()}setDrapingExtent(e,t){this._spatialReference=t,e.forEach(((e,t)=>{this._overlays[t]=e,this._updateImageExtent(e,t)}))}_updateImageExtent(e,t){const i=this._clippedExtent(e.extent,G);if(null==i)return;const r=function(e,t,i){const r=(0,p.d_)(e)/(0,p.Cb)(e),n={width:i,height:i};return r>1.0001?n.height=i/r:r<.9999&&(n.width=i*r),n.width=Math.round(n.width/((0,p.d_)(e)/(0,p.d_)(t))),n.height=Math.round(n.height/((0,p.Cb)(e)/(0,p.Cb)(t))),n}(e.extent,i,e.resolution);let n=e.pixelRatio*this.view.state.pixelRatio;const{layer:s}=this;if("imageMaxWidth"in s&&null!=s.imageMaxWidth||"imageMaxHeight"in s&&null!=s.imageMaxHeight){const e=s.imageMaxWidth,t=s.imageMaxHeight;if(r.width>e){const t=e/r.width;r.height=Math.floor(r.height*t),r.width=e,n*=t}if(r.height>t){const e=t/r.height;r.width=Math.floor(r.width*e),r.height=t,n*=e}}const o=this._extents[t];o&&(0,p.fS)(o.extent,i)&&this._imageSizeEquals(i,o.imageSize,r)||(this._extents[t]={extent:(0,p.Ue)(i),imageSize:r,pixelRatio:n},this.suspended||this._fetch(t).catch((e=>{(0,l.D_)(e)||a.Z.getLogger(this).error(e)})))}clear(){for(let e=0;e<this._images.length;e++)this._clearImage(e)}async doRefresh(){return this._doRefresh()}async _doRefresh(e){if(this.suspended)return;const t=[];for(let i=0;i<this._extents.length;i++)this._extents[i]&&t.push(this._fetch(i,e));await Promise.allSettled(t)}async processResult(e,t,i){(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement)&&(e.image=t)}findExtentInfoAt(e){for(const t of this._extents){const i=t.extent;if(new c.Z(i[0],i[1],i[2],i[3],this._spatialReference).contains(e))return t}return null}getFetchOptions(){}async redraw(e,t){await(0,n.Ed)(this._images,(async(i,r)=>{i&&(await e(i,t),await this._createStageObjects(r,i.image,t))}))}_imageSizeEquals(e,t,i){if(!this.maximumDataResolution)return!1;const r=(0,p.d_)(e)/this.maximumDataResolution.x,n=(0,p.Cb)(e)/this.maximumDataResolution.y,s=r/t.width,a=n/t.height,o=r/i.width,l=n/i.height,h=Math.abs(s-o),d=Math.abs(a-l),u=C.h.TESTS_DISABLE_OPTIMIZATIONS?0:1.5;return h<=u&&d<=u}async _fetch(e,t){if(this.suspended)return;const i=this._extents[e],r=i.extent;this._images[e]||(this._images[e]={texture:null,material:null,renderGeometry:null,loadingPromise:null,loadingAbortController:null,image:null,pixelData:null,renderExtent:(0,p.Ue)(r)});const n=this._images[e];n.loadingAbortController=(0,o.IM)(n.loadingAbortController);const s=new c.Z(r[0],r[1],r[2],r[3],this._spatialReference);if(0===s.width||0===s.height)return void this._clearImage(e);const h=new AbortController;n.loadingAbortController=h,(0,l.fu)(t,(()=>h.abort()));const d=h.signal,u=this._waitFetchReady(d).then((async()=>{const t={requestAsImageElement:!0,pixelRatio:this._overlays[e].pixelRatio,...this.getFetchOptions(),signal:d},{height:r,width:n}=i.imageSize;return this.layer.fetchImage(s,n,r,t)})).then((e=>{if((0,l.Hc)(d))throw a.Z.getLogger(this).warnOnce("A call to fetchImage resolved even though the request was aborted. fetchImage should not resolve if options.signal.aborted is true."),(0,l.zE)();return this.processResult(n,e)})).then((()=>{(0,p.JG)(n.renderExtent,r)}));n.loadingPromise=u,await this._updatingHandles.addPromise(u.then((async()=>{(0,l.k_)(d),await this._createStageObjects(e,n.image,d)})).catch((e=>{throw e&&!(0,l.D_)(e)&&a.Z.getLogger(this).error(e),e})).finally((()=>{u===n.loadingPromise&&(n.loadingPromise=null,n.loadingAbortController=null)})))}_clearImage(e){const t=this._images[e];if(t){null!=t.renderGeometry&&(this._drapeSourceRenderer.removeGeometries([t.renderGeometry],R.T.UPDATE),t.renderGeometry=null);const e=this.view._stage,i=t.texture;i?.unload(),e.remove(i),t.texture=null,e.remove(t.material),t.material=null,t.loadingAbortController=(0,o.IM)(t.loadingAbortController),t.loadingPromise=null,t.image=null,t.pixelData=null}}async _createStageObjects(e,t,i){const r=this.view._stage,s=this._images[e],a=()=>{s.texture?.unload(),r.remove(s.texture),s.texture=null,s.renderGeometry&&(this._drapeSourceRenderer.removeGeometries([s.renderGeometry],R.T.UPDATE),s.renderGeometry=null)};if(t){const o=new P.x(t,{width:t.width,height:t.height,preMultiplyAlpha:!0,wrap:{s:Z.e8.CLAMP_TO_EDGE,t:Z.e8.CLAMP_TO_EDGE}});let h;if(await(0,n.q6)(this._images[e===E.fu.INNER?E.fu.OUTER:E.fu.INNER].loadingPromise),(0,l.k_)(i),a(),await r.schedule((()=>o.load(r.renderView.renderingContext)),i),r.add(o),s.texture=o,null==s.material?(s.material=new D.j({textureId:o.id}),r.add(s.material)):s.material.setParameters({textureId:o.id}),e===E.fu.INNER)h=x(s.material,s.renderExtent);else{const e=this._images[0].renderExtent;if(!e)return void a();h=I(s.material,e,s.renderExtent)}s.renderGeometry=new O.z(h),s.renderGeometry.localOrigin=this._overlays[e].renderLocalOrigin,this._drapeSourceRenderer.addGeometries([s.renderGeometry],R.T.UPDATE)}else a(),r.remove(s.material),s.material=null}_clippedExtent(e,t){if("local"!==this.view.viewingMode)return(0,p.JG)(t,e);const i=this.view.basemapTerrain;return i.ready?(0,p.jV)(e,i.extent,t):(0,p.JG)(t,e)}_suspendedChangeHandler(){this.suspended?this.clear():this.refreshDebounced()}async _waitFetchReady(e){await(0,h.whenOnce)((()=>this.view.stationary),e),(0,l.k_)(e)}};(0,r._)([(0,d.Cb)()],V.prototype,"layer",void 0),(0,r._)([(0,d.Cb)()],V.prototype,"suspended",void 0),(0,r._)([(0,d.Cb)({readOnly:!0})],V.prototype,"fullExtentInLocalViewSpatialReference",void 0),(0,r._)([(0,d.Cb)({readOnly:!0})],V.prototype,"visibleAtCurrentScale",null),(0,r._)([(0,d.Cb)()],V.prototype,"updating",void 0),V=(0,r._)([(0,u.j)("esri.views.3d.layers.DynamicLayerView3D")],V);const j=V,G=(0,p.Ue)()},28800:(e,t,i)=>{i.d(t,{A:()=>d});var r=i(36663),n=i(23148),s=i(78668),a=i(76868),o=i(81977),l=(i(39994),i(13802),i(4157),i(40266)),h=i(64862);const d=e=>{let t=class extends e{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(){super.postscript(),(0,h.qC)(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const e=new AbortController,t=e.signal;this.addHandles((0,n.kB)((()=>e.abort()))),await(0,a.whenOnce)((()=>this.view.defaultsFromMap?.heightModelInfoReady),t),(0,s.k_)(t);const i=(0,h.Wt)(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}};return(0,r._)([(0,o.Cb)()],t.prototype,"view",void 0),(0,r._)([(0,o.Cb)()],t.prototype,"slicePlaneEnabled",void 0),t=(0,r._)([(0,l.j)("esri.views.3d.layers.LayerView3D")],t),t}},53986:(e,t,i)=>{i.d(t,{E:()=>s});var r=i(39536),n=i(8060);async function s(e){const t=e.view.spatialReference,i=e.layer.fullExtent,s=null!=i&&i.spatialReference;if(null==i||!s)return null;if(s.equals(t))return i.clone();const a=(0,r.iV)(i,t);if(null!=a)return a;if(e.view.state.isLocal)try{const r=await(0,n.projectGeometry)(i,t,e.layer.portalItem);return e.destroyed||null==r?null:r}catch{return null}return null}},85266:(e,t,i)=>{i.d(t,{IM:()=>o,W1:()=>a,lV:()=>l,wp:()=>s});var r=i(44685),n=i(21414);const s=(0,r.U$)().vec3f(n.T.POSITION),a=(0,r.U$)().vec3f(n.T.POSITION).vec2f(n.T.UV0),o=(0,r.U$)().vec3f(n.T.POSITION).vec4u8(n.T.COLOR),l=(0,r.U$)().vec3f(n.T.POSITION).vec2f(n.T.UV0).vec4u8(n.T.OBJECTANDLAYERIDCOLOR)},90834:(e,t,i)=>{i.d(t,{j:()=>P});var r=i(81936),n=i(35031),s=i(70984),a=i(80776),o=i(7358),l=i(12045),h=i(46378),d=i(15095),u=i(21414),c=i(79601),p=i(85266),g=i(10056),f=i(21123),y=i(9969),m=i(62575),v=i(97994),_=i(79040),w=i(6415),b=i(17346);class x extends m.A{constructor(e,t){super(e,t,new y.J(w.I,(()=>i.e(47204).then(i.bind(i,47204)))),I)}_getPipelineState(e,t){const{oitPass:i,output:r,hasOccludees:s,enableOffset:a,cullFace:o}=e,h=i===v.M.NONE,d=i===v.M.FrontFace;return(0,b.sm)({blending:(0,n.c1)(r)?h?b.xW:(0,l.j7)(i):null,culling:(0,b.zp)(o),depthTest:{func:(0,l.Bh)(i)},depthWrite:(0,l.W$)(e),drawBuffers:(0,l.u_)(i,r),colorWrite:b.gf,stencilWrite:s?_.s3:null,stencilTest:s?t?_.eD:_.RY:null,polygonOffset:h||d?null:(0,l.je)(a)})}initializePipeline(e){return this._occludeePipeline=this._getPipelineState(e,!0),this._getPipelineState(e,!1)}getPipeline(e){return e?this._occludeePipeline:super.getPipeline()}}const I=new Map([[u.T.POSITION,0],[u.T.UV0,2],[u.T.PERSPECTIVEDIVIDE,3]]);var S=i(36663),T=i(82082),C=i(57583),E=i(12907),R=i(22957);class O extends R.W{constructor(){super(...arguments),this.cullFace=s.Vr.None,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.perspectiveInterpolation=!0,this.textureCoordinateType=T.I.None,this.emissionSource=C.jo.None,this.discardInvisibleFragments=!0,this.occlusionPass=!1,this.objectAndLayerIdColorInstanced=!1}}(0,S._)([(0,E.o)({count:s.Vr.COUNT})],O.prototype,"cullFace",void 0),(0,S._)([(0,E.o)()],O.prototype,"enableOffset",void 0),(0,S._)([(0,E.o)()],O.prototype,"writeDepth",void 0),(0,S._)([(0,E.o)()],O.prototype,"hasOccludees",void 0),(0,S._)([(0,E.o)()],O.prototype,"terrainDepthTest",void 0),(0,S._)([(0,E.o)()],O.prototype,"cullAboveTerrain",void 0),(0,S._)([(0,E.o)()],O.prototype,"perspectiveInterpolation",void 0);class P extends g.c{constructor(e){super(e,M),this._configuration=new O,this.vertexAttributeLocations=I,this.supportsEdges=!0,this.produces=new Map([[h.r.OPAQUE_MATERIAL,e=>(0,n.Gy)(e)],[h.r.TRANSPARENT_MATERIAL,e=>(0,n.D5)(e)&&this.parameters.writeDepth],[h.r.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,e=>(0,n.D5)(e)&&!this.parameters.writeDepth],[h.r.DRAPED_MATERIAL,e=>(0,n.D5)(e)||(0,n.Gy)(e)]])}getConfiguration(e,t){return this._configuration.output=e,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=t.hasOccludees,this._configuration.oitPass=t.oitPass,this._configuration.enableOffset=t.camera.relativeElevation<l.ve,this._configuration.terrainDepthTest=t.terrainDepthTest,this._configuration.cullAboveTerrain=t.cullAboveTerrain,this._configuration.perspectiveInterpolation=this.parameters.perspectiveInterpolation,this._configuration}get visible(){return!0}createGLMaterial(e){return new A(e)}createBufferWriter(){const e=p.W1.clone();return this.parameters.perspectiveInterpolation&&e.f32(u.T.PERSPECTIVEDIVIDE),new D(e)}}class A extends a.Fj{constructor(e){super({...e,...e.material.parameters})}beginSlot(e){return this.updateTexture(this._material.parameters.textureId),this._material.setParameters(this.textureBindParameters),this.getTechnique(x,e)}}class D extends c.G{write(e,t,i,n,s,a){for(const n of this.vertexBufferLayout.fields.keys()){const o=i.get(n);if(o)if(n===u.T.PERSPECTIVEDIVIDE){(0,d.hu)(1===o.size);const e=s.getField(n,r.ly);e&&(0,f.XW)(o,e,a)}else(0,f.i9)(n,o,e,t,s,a)}}}class M extends o.Mt{constructor(e){super(),this.textureId=e,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=s.Vr.None,this.opacity=1,this.perspectiveInterpolation=!1}}},10056:(e,t,i)=>{i.d(t,{c:()=>s});var r=i(7358),n=i(85906);class s extends r.F5{intersect(e,t,i,r,s,a){return(0,n.Bw)(e,i,r,s,void 0,a)}}},26216:(e,t,i)=>{i.d(t,{Z:()=>f});var r=i(36663),n=i(74396),s=i(31355),a=i(86618),o=i(13802),l=i(61681),h=i(64189),d=i(81977),u=(i(39994),i(4157),i(40266)),c=i(98940),p=i(42780);let g=class extends(a.Z.IdentifiableMixin(h.Z.EsriPromiseMixin(s.Z.EventedMixin(n.Z)))){get spatialReferenceSupported(){return!0}constructor(e){super(e),this._updatingHandles=new c.R,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if("layerview:create-error"!==e.name){const t=this.layer&&this.layer.id||"no id",i=this.layer?.title||"no title";o.Z.getLogger(this).error("#resolve()",`Failed to resolve layer view (layer title: '${i}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=(0,l.SC)(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome("visible",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){const e=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&this.parent&&!this.parent.suspended&&this.view?.ready&&(0,p.Cy)(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{};this.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);const t=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return(0,p.Cy)(t)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};(0,r._)([(0,d.Cb)({readOnly:!0})],g.prototype,"spatialReferenceSupported",null),(0,r._)([(0,d.Cb)()],g.prototype,"view",void 0),(0,r._)([(0,d.Cb)()],g.prototype,"fullOpacity",null),(0,r._)([(0,d.Cb)()],g.prototype,"layer",void 0),(0,r._)([(0,d.Cb)()],g.prototype,"parent",void 0),(0,r._)([(0,d.Cb)({readOnly:!0})],g.prototype,"suspended",null),(0,r._)([(0,d.Cb)({readOnly:!0})],g.prototype,"suspendInfo",null),(0,r._)([(0,d.Cb)({readOnly:!0})],g.prototype,"legendEnabled",null),(0,r._)([(0,d.Cb)({type:Boolean,readOnly:!0})],g.prototype,"updating",null),(0,r._)([(0,d.Cb)({readOnly:!0})],g.prototype,"updatingProgress",null),(0,r._)([(0,d.Cb)()],g.prototype,"updateSuspended",null),(0,r._)([(0,d.Cb)()],g.prototype,"visible",null),(0,r._)([(0,d.Cb)({readOnly:!0})],g.prototype,"visibleAtCurrentScale",null),(0,r._)([(0,d.Cb)({readOnly:!0})],g.prototype,"visibleAtCurrentTimeExtent",null),g=(0,r._)([(0,u.j)("esri.views.layers.LayerView")],g);const f=g},55068:(e,t,i)=>{i.d(t,{Z:()=>l});var r=i(36663),n=i(13802),s=i(78668),a=i(76868),o=(i(39994),i(4157),i(70375),i(40266));const l=e=>{let t=class extends e{initialize(){this.addHandles((0,a.on)((()=>this.layer),"refresh",(e=>{this.doRefresh(e.dataChanged).catch((e=>{(0,s.D_)(e)||n.Z.getLogger(this).error(e)}))})),"RefreshableLayerView")}};return t=(0,r._)([(0,o.j)("esri.views.layers.RefreshableLayerView")],t),t}}}]);