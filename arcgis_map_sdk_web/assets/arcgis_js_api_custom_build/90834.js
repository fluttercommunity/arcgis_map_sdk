"use strict";(self.webpackChunkarcgis_webpack01=self.webpackChunkarcgis_webpack01||[]).push([[90834],{6415:(e,t,i)=>{i.d(t,{I:()=>P,a:()=>I,b:()=>g});var r=i(35031),s=i(5885),o=i(4731),n=i(78950),a=i(94880),c=i(32394),l=i(84614),p=i(24603),u=i(20200),d=i(15176),h=i(21414),v=i(82050),f=i(86765),T=i(9229);class I extends f.K{}function g(e){const t=new T.kG,{vertex:i,fragment:f}=t,{output:I,perspectiveInterpolation:g}=e;return(0,l.Sv)(i,e),t.include(o.w,e),t.include(a.H,e),t.fragment.include(s.f5,e),t.include(n.R,e),t.include(v.j,e),t.attributes.add(h.T.POSITION,"vec3"),t.attributes.add(h.T.UV0,"vec2"),g&&t.attributes.add(h.T.PERSPECTIVEDIVIDE,"float"),i.main.add(u.H`
    vpos = position;
    forwardViewPosDepth((view * vec4(vpos, 1.0)).xyz);
    vTexCoord = uv0;
    gl_Position = transformPosition(proj, view, vpos);
    ${(0,u.If)(g,"gl_Position *= perspectiveDivide;")}`),t.varyings.add("vpos","vec3"),t.varyings.add("vTexCoord","vec2"),f.include(c.Y),f.uniforms.add(new p.p("opacity",(e=>e.opacity)),new d.A("tex",(e=>e.texture))).main.add(u.H`
    discardBySlice(vpos);
    discardByTerrainDepth();
    ${(0,u.If)(I===r.H_.ObjectAndLayerIdColor,"fragColor = vec4(0, 0, 0, 1); return;")}
    vec4 finalColor = texture(tex, vTexCoord) * opacity;
    outputColorHighlightOID(finalColor, vpos);`),t}const P=Object.freeze(Object.defineProperty({__proto__:null,ImageMaterialPassParameters:I,build:g},Symbol.toStringTag,{value:"Module"}))},85266:(e,t,i)=>{i.d(t,{IM:()=>a,W1:()=>n,lV:()=>c,wp:()=>o});var r=i(44685),s=i(21414);const o=(0,r.U$)().vec3f(s.T.POSITION),n=(0,r.U$)().vec3f(s.T.POSITION).vec2f(s.T.UV0),a=(0,r.U$)().vec3f(s.T.POSITION).vec4u8(s.T.COLOR),c=(0,r.U$)().vec3f(s.T.POSITION).vec2f(s.T.UV0).vec4u8(s.T.OBJECTANDLAYERIDCOLOR)},90834:(e,t,i)=>{i.d(t,{j:()=>S});var r=i(81936),s=i(35031),o=i(70984),n=i(80776),a=i(7358),c=i(12045),l=i(46378),p=i(15095),u=i(21414),d=i(79601),h=i(85266),v=i(10056),f=i(21123),T=i(9969),I=i(62575),g=i(97994),P=i(79040),_=i(6415),O=i(17346);class D extends I.A{constructor(e,t){super(e,t,new T.J(_.I,(()=>i.e(47204).then(i.bind(i,47204)))),E)}_getPipelineState(e,t){const{oitPass:i,output:r,hasOccludees:o,enableOffset:n,cullFace:a}=e,l=i===g.M.NONE,p=i===g.M.FrontFace;return(0,O.sm)({blending:(0,s.c1)(r)?l?O.xW:(0,c.j7)(i):null,culling:(0,O.zp)(a),depthTest:{func:(0,c.Bh)(i)},depthWrite:(0,c.W$)(e),drawBuffers:(0,c.u_)(i,r),colorWrite:O.gf,stencilWrite:o?P.s3:null,stencilTest:o?t?P.eD:P.RY:null,polygonOffset:l||p?null:(0,c.je)(n)})}initializePipeline(e){return this._occludeePipeline=this._getPipelineState(e,!0),this._getPipelineState(e,!1)}getPipeline(e){return e?this._occludeePipeline:super.getPipeline()}}const E=new Map([[u.T.POSITION,0],[u.T.UV0,2],[u.T.PERSPECTIVEDIVIDE,3]]);var w=i(36663),b=i(82082),m=i(57583),y=i(12907),x=i(22957);class A extends x.W{constructor(){super(...arguments),this.cullFace=o.Vr.None,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.perspectiveInterpolation=!0,this.textureCoordinateType=b.I.None,this.emissionSource=m.jo.None,this.discardInvisibleFragments=!0,this.occlusionPass=!1,this.objectAndLayerIdColorInstanced=!1}}(0,w._)([(0,y.o)({count:o.Vr.COUNT})],A.prototype,"cullFace",void 0),(0,w._)([(0,y.o)()],A.prototype,"enableOffset",void 0),(0,w._)([(0,y.o)()],A.prototype,"writeDepth",void 0),(0,w._)([(0,y.o)()],A.prototype,"hasOccludees",void 0),(0,w._)([(0,y.o)()],A.prototype,"terrainDepthTest",void 0),(0,w._)([(0,y.o)()],A.prototype,"cullAboveTerrain",void 0),(0,w._)([(0,y.o)()],A.prototype,"perspectiveInterpolation",void 0);class S extends v.c{constructor(e){super(e,R),this._configuration=new A,this.vertexAttributeLocations=E,this.supportsEdges=!0,this.produces=new Map([[l.r.OPAQUE_MATERIAL,e=>(0,s.Gy)(e)],[l.r.TRANSPARENT_MATERIAL,e=>(0,s.D5)(e)&&this.parameters.writeDepth],[l.r.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,e=>(0,s.D5)(e)&&!this.parameters.writeDepth],[l.r.DRAPED_MATERIAL,e=>(0,s.D5)(e)||(0,s.Gy)(e)]])}getConfiguration(e,t){return this._configuration.output=e,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=t.hasOccludees,this._configuration.oitPass=t.oitPass,this._configuration.enableOffset=t.camera.relativeElevation<c.ve,this._configuration.terrainDepthTest=t.terrainDepthTest,this._configuration.cullAboveTerrain=t.cullAboveTerrain,this._configuration.perspectiveInterpolation=this.parameters.perspectiveInterpolation,this._configuration}get visible(){return!0}createGLMaterial(e){return new C(e)}createBufferWriter(){const e=h.W1.clone();return this.parameters.perspectiveInterpolation&&e.f32(u.T.PERSPECTIVEDIVIDE),new N(e)}}class C extends n.Fj{constructor(e){super({...e,...e.material.parameters})}beginSlot(e){return this.updateTexture(this._material.parameters.textureId),this._material.setParameters(this.textureBindParameters),this.getTechnique(D,e)}}class N extends d.G{write(e,t,i,s,o,n){for(const s of this.vertexBufferLayout.fields.keys()){const a=i.get(s);if(a)if(s===u.T.PERSPECTIVEDIVIDE){(0,p.hu)(1===a.size);const e=o.getField(s,r.ly);e&&(0,f.XW)(a,e,n)}else(0,f.i9)(s,a,e,t,o,n)}}}class R extends a.Mt{constructor(e){super(),this.textureId=e,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=o.Vr.None,this.opacity=1,this.perspectiveInterpolation=!1}}},10056:(e,t,i)=>{i.d(t,{c:()=>o});var r=i(7358),s=i(85906);class o extends r.F5{intersect(e,t,i,r,o,n){return(0,s.Bw)(e,i,r,o,void 0,n)}}}}]);