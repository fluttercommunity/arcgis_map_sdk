"use strict";(self.webpackChunkarcgis_webpack01=self.webpackChunkarcgis_webpack01||[]).push([[81655],{81655:(e,t,r)=>{r.r(t),r.d(t,{default:()=>V});var o=r(36663),i=r(80020),s=r(15842),n=r(78668),l=r(3466),a=r(81977),p=r(39994),u=r(13802),d=(r(4157),r(40266)),c=r(91772),y=r(14685),h=r(59659),m=r(38481),f=r(70375),b=r(68309),g=r(62517),v=r(89542),_=r(40400),w=r(51211);let C=class extends b.Z{constructor(){super(...arguments),this.type="geojson",this.refresh=(0,n.Ds)((async e=>{await this.load();const{extent:t,timeExtent:r}=await this._connection.invoke("refresh",e);return this.sourceJSON.extent=t,r&&(this.sourceJSON.timeInfo.timeExtent=[r.start,r.end]),{dataChanged:!0,updates:{extent:this.sourceJSON.extent,timeInfo:this.sourceJSON.timeInfo}}}))}load(e){const t=null!=e?e.signal:null;return this.addResolvingPromise(this._startWorker(t)),Promise.resolve(this)}destroy(){this._connection?.close(),this._connection=null}applyEdits(e){return this.load().then((()=>this._applyEdits(e)))}openPorts(){return this.load().then((()=>this._connection.openPorts()))}queryFeatures(e,t={}){return this.load(t).then((()=>this._connection.invoke("queryFeatures",e?e.toJSON():null,t))).then((e=>w.Z.fromJSON(e)))}queryFeaturesJSON(e,t={}){return this.load(t).then((()=>this._connection.invoke("queryFeatures",e?e.toJSON():null,t)))}queryFeatureCount(e,t={}){return this.load(t).then((()=>this._connection.invoke("queryFeatureCount",e?e.toJSON():null,t)))}queryObjectIds(e,t={}){return this.load(t).then((()=>this._connection.invoke("queryObjectIds",e?e.toJSON():null,t)))}queryExtent(e,t={}){return this.load(t).then((()=>this._connection.invoke("queryExtent",e?e.toJSON():null,t))).then((e=>({count:e.count,extent:c.Z.fromJSON(e.extent)})))}querySnapping(e,t={}){return this.load(t).then((()=>this._connection.invoke("querySnapping",e,t)))}async queryAttributeBins(e,t={}){return await this.load(),this._connection.invoke("queryAttributeBins",e?.toJSON(),t)}_applyEdits(e){if(!this._connection)throw new f.Z("geojson-layer-source:edit-failure","Memory source not loaded");const t=this.layer.objectIdField,r=[],o=[],i=[];if(e.addFeatures)for(const t of e.addFeatures)r.push(this._serializeFeature(t));if(e.deleteFeatures)for(const r of e.deleteFeatures)"objectId"in r&&null!=r.objectId?o.push(r.objectId):"attributes"in r&&null!=r.attributes[t]&&o.push(r.attributes[t]);if(e.updateFeatures)for(const t of e.updateFeatures)i.push(this._serializeFeature(t));return this._connection.invoke("applyEdits",{adds:r,updates:i,deletes:o}).then((({extent:e,timeExtent:t,featureEditResults:r})=>(this.sourceJSON.extent=e,t&&(this.sourceJSON.timeInfo.timeExtent=[t.start,t.end]),this._createEditsResult(r))))}_createEditsResult(e){return{addFeatureResults:e.addResults?e.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:e.updateResults?e.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:e.deleteResults?e.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(e){const t=!0===e.success?null:e.error||{code:void 0,description:void 0};return{objectId:e.objectId,globalId:e.globalId,error:t?new f.Z("geojson-layer-source:edit-failure",t.description,{code:t.code}):null}}_serializeFeature(e){const{attributes:t}=e,r=this._geometryForSerialization(e);return r?{geometry:r.toJSON(),attributes:t}:{attributes:t}}_geometryForSerialization(e){const{geometry:t}=e;return null==t?null:"mesh"===t.type||"extent"===t.type?v.Z.fromExtent(t.extent):t}async _startWorker(e){this._connection=await(0,g.bA)("GeoJSONSourceWorker",{strategy:(0,p.Z)("feature-layers-workers")?"dedicated":"local",signal:e,registryTarget:this});const{fields:t,spatialReference:r,hasZ:o,geometryType:i,objectIdField:s,url:n,timeInfo:l,customParameters:a}=this.layer,d="defaults"===this.layer.originOf("spatialReference"),c={url:n,customParameters:a,fields:t&&t.map((e=>e.toJSON())),geometryType:h.Mk.toJSON(i),hasZ:o,objectIdField:s,timeInfo:l?l.toJSON():null,spatialReference:d?null:r&&r.toJSON()},y=await this._connection.invoke("load",c,{signal:e});for(const e of y.warnings)u.Z.getLogger(this.layer).warn("#load()",`${e.message} (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{warning:e});y.featureErrors.length&&u.Z.getLogger(this.layer).warn("#load()",`Encountered ${y.featureErrors.length} validation errors while loading features. (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{errors:y.featureErrors}),this.sourceJSON=y.layerDefinition,this.capabilities=(0,_.MS)(this.sourceJSON.hasZ,!0)}};(0,o._)([(0,a.Cb)()],C.prototype,"capabilities",void 0),(0,o._)([(0,a.Cb)()],C.prototype,"type",void 0),(0,o._)([(0,a.Cb)({constructOnly:!0})],C.prototype,"layer",void 0),(0,o._)([(0,a.Cb)()],C.prototype,"sourceJSON",void 0),C=(0,o._)([(0,d.j)("esri.layers.graphics.sources.GeoJSONSource")],C);var F=r(27668),x=r(63989),S=r(45865),T=r(22368),j=r(53268),I=r(43330),O=r(91610),E=r(18241),N=r(12478),R=r(95874),Z=r(2030),P=r(65585),q=r(23072),J=r(60822),D=r(12512),A=r(89076),M=r(14845),B=r(7923),k=r(49341),G=r(88623),z=r(14626),Q=r(10171),L=r(72559);const U=(0,A.v)();let $=class extends((0,O.c_)((0,S.tM)((0,x.N)((0,j.M)((0,T.b)((0,F.h7)((0,Z.n)((0,P._)((0,R.M)((0,N.Q)((0,I.q)((0,E.I)((0,s.R)(m.Z)))))))))))))){constructor(e){super(e),this.attributeTableTemplate=null,this.copyright=null,this.dateFieldsTimeZone=null,this.definitionExpression=null,this.displayField=null,this.editingEnabled=!1,this.elevationInfo=null,this.fields=null,this.fieldsIndex=null,this.fullExtent=null,this.geometryType=null,this.hasZ=void 0,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.operationalLayerType="GeoJSON",this.outFields=null,this.popupEnabled=!0,this.popupTemplate=null,this.screenSizePerspectiveEnabled=!0,this.source=new C({layer:this}),this.spatialReference=y.Z.WGS84,this.templates=null,this.title="GeoJSON",this.type="geojson"}destroy(){this.source?.destroy()}load(e){const t=this.loadFromPortal({supportedTypes:["GeoJson"],supportsData:!1},e).catch(n.r9).then((()=>this.source.load(e))).then((()=>{this.read(this.source.sourceJSON,{origin:"service",url:this.parsedUrl}),this.revert(["objectIdField","fields","timeInfo"],"service"),(0,M.YN)(this.renderer,this.fieldsIndex),(0,M.UF)(this.timeInfo,this.fieldsIndex)}));return this.addResolvingPromise(t),Promise.resolve(this)}get capabilities(){return this.source?this.source.capabilities:null}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("capabilities"),(this._get("createQueryVersion")||0)+1}get defaultPopupTemplate(){return this.createPopupTemplate()}get isTable(){return this.loaded&&null==this.geometryType}get parsedUrl(){return this.url?(0,l.mN)(this.url):null}set renderer(e){(0,M.YN)(e,this.fieldsIndex),this._set("renderer",e)}set url(e){if(!e)return void this._set("url",e);const t=(0,l.mN)(e);this._set("url",t.path),t.query&&(this.customParameters={...this.customParameters,...t.query})}async applyEdits(e,t){const{applyEdits:o}=await r.e(23261).then(r.bind(r,23261));await this.load();const i=await o(this,this.source,e,t);return this.read({extent:this.source.sourceJSON.extent,timeInfo:this.source.sourceJSON.timeInfo},{origin:"service",ignoreDefaults:!0}),i}on(e,t){return super.on(e,t)}createPopupTemplate(e){return(0,Q.eZ)(this,e)}createQuery(){const e=new z.Z,t=this.capabilities?.data;e.returnGeometry=!0,t&&t.supportsZ&&(e.returnZ=!0),e.outFields=["*"],e.where=this.definitionExpression||"1=1";const{timeOffset:r,timeExtent:o}=this;return e.timeExtent=null!=r&&null!=o?o.offset(-r.value,r.unit):o||null,e}getFieldDomain(e,t){return this.getField(e)?.domain}getField(e){return this.fieldsIndex.get(e)}queryFeatures(e,t){return this.load().then((()=>this.source.queryFeatures(z.Z.from(e)||this.createQuery(),t))).then((e=>{if(e?.features)for(const t of e.features)t.layer=t.sourceLayer=this;return e}))}queryObjectIds(e,t){return this.load().then((()=>this.source.queryObjectIds(z.Z.from(e)||this.createQuery(),t)))}queryFeatureCount(e,t){return this.load().then((()=>this.source.queryFeatureCount(z.Z.from(e)||this.createQuery(),t)))}queryExtent(e,t){return this.load().then((()=>this.source.queryExtent(z.Z.from(e)||this.createQuery(),t)))}async hasDataChanged(){try{const{dataChanged:e,updates:t}=await this.source.refresh(this.customParameters);return null!=t&&this.read(t,{origin:"service",url:this.parsedUrl,ignoreDefaults:!0}),e}catch{}return!1}};(0,o._)([(0,a.Cb)(q.t4)],$.prototype,"attributeTableTemplate",void 0),(0,o._)([(0,a.Cb)({readOnly:!0,json:{read:!1,write:!1}})],$.prototype,"capabilities",null),(0,o._)([(0,a.Cb)({type:String})],$.prototype,"copyright",void 0),(0,o._)([(0,a.Cb)({readOnly:!0})],$.prototype,"createQueryVersion",null),(0,o._)([(0,a.Cb)((0,L.mi)("dateFieldsTimeReference"))],$.prototype,"dateFieldsTimeZone",void 0),(0,o._)([(0,a.Cb)({readOnly:!0})],$.prototype,"defaultPopupTemplate",null),(0,o._)([(0,a.Cb)({type:String,json:{name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],$.prototype,"definitionExpression",void 0),(0,o._)([(0,a.Cb)({type:String})],$.prototype,"displayField",void 0),(0,o._)([(0,a.Cb)({type:Boolean})],$.prototype,"editingEnabled",void 0),(0,o._)([(0,a.Cb)(q.PV)],$.prototype,"elevationInfo",void 0),(0,o._)([(0,a.Cb)({type:[D.Z],json:{name:"layerDefinition.fields",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"fields"}}}})],$.prototype,"fields",void 0),(0,o._)([(0,a.Cb)(U.fieldsIndex)],$.prototype,"fieldsIndex",void 0),(0,o._)([(0,a.Cb)({type:c.Z,json:{name:"extent"}})],$.prototype,"fullExtent",void 0),(0,o._)([(0,a.Cb)({type:["point","polygon","polyline","multipoint"],json:{read:{reader:h.Mk.read}}})],$.prototype,"geometryType",void 0),(0,o._)([(0,a.Cb)({type:Boolean})],$.prototype,"hasZ",void 0),(0,o._)([(0,a.Cb)(q.id)],$.prototype,"id",void 0),(0,o._)([(0,a.Cb)({type:Boolean,readOnly:!0})],$.prototype,"isTable",null),(0,o._)([(0,a.Cb)(q.iR)],$.prototype,"labelsVisible",void 0),(0,o._)([(0,a.Cb)({type:[B.Z],json:{name:"layerDefinition.drawingInfo.labelingInfo",read:{reader:k.r},write:!0}})],$.prototype,"labelingInfo",void 0),(0,o._)([(0,a.Cb)(q.rn)],$.prototype,"legendEnabled",void 0),(0,o._)([(0,a.Cb)({type:["show","hide"]})],$.prototype,"listMode",void 0),(0,o._)([(0,a.Cb)({type:String,json:{name:"layerDefinition.objectIdField",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"objectIdField"}}}})],$.prototype,"objectIdField",void 0),(0,o._)([(0,a.Cb)(q.Oh)],$.prototype,"opacity",void 0),(0,o._)([(0,a.Cb)({type:["GeoJSON"]})],$.prototype,"operationalLayerType",void 0),(0,o._)([(0,a.Cb)(U.outFields)],$.prototype,"outFields",void 0),(0,o._)([(0,a.Cb)({readOnly:!0})],$.prototype,"parsedUrl",null),(0,o._)([(0,a.Cb)(q.C_)],$.prototype,"popupEnabled",void 0),(0,o._)([(0,a.Cb)({type:i.Z,json:{name:"popupInfo",write:!0}})],$.prototype,"popupTemplate",void 0),(0,o._)([(0,a.Cb)({types:G.Av,json:{name:"layerDefinition.drawingInfo.renderer",write:!0,origins:{service:{name:"drawingInfo.renderer"},"web-scene":{types:G.o}}}})],$.prototype,"renderer",null),(0,o._)([(0,a.Cb)(q.YI)],$.prototype,"screenSizePerspectiveEnabled",void 0),(0,o._)([(0,a.Cb)({readOnly:!0})],$.prototype,"source",void 0),(0,o._)([(0,a.Cb)({type:y.Z})],$.prototype,"spatialReference",void 0),(0,o._)([(0,a.Cb)({type:[J.Z]})],$.prototype,"templates",void 0),(0,o._)([(0,a.Cb)()],$.prototype,"title",void 0),(0,o._)([(0,a.Cb)({json:{read:!1},readOnly:!0})],$.prototype,"type",void 0),(0,o._)([(0,a.Cb)(q.HQ)],$.prototype,"url",null),$=(0,o._)([(0,d.j)("esri.layers.GeoJSONLayer")],$);const V=$},10287:(e,t,r)=>{r.d(t,{e:()=>i,g:()=>o});const o={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!0,supportsCurrentUser:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!0,supportsReturnMesh:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByAnonymous:!0,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0,supportsTrueCurve:!1},i={supportsDate:!0,supportsFixedInterval:!0,supportsAutoInterval:!0,supportsFixedBoundaries:!0,supportsStackBy:!0,supportsSplitBy:!0,supportsSnapToData:!1,supportsReturnFullIntervalBin:!1,supportsFirstDayOfWeek:!1,supportsNormalization:!0,supportedStatistics:{count:!0,sum:!0,avg:!0,var:!0,stddev:!0,min:!0,max:!0,percentileContinuous:!0,percentileDiscrete:!0,envelope:!0,centroid:!0,convexHull:!0},supportedNormalizationTypes:{field:!0,log:!0,naturalLog:!0,percentOfTotal:!0,squareRoot:!0}}},40400:(e,t,r)=>{r.d(t,{Dm:()=>u,Hq:()=>c,MS:()=>y,bU:()=>l});var o=r(39994),i=r(67134),s=r(10287),n=r(86094);function l(e){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===e||"esriGeometryMultipoint"===e?n.I4:"esriGeometryPolyline"===e?n.ET:n.lF}}}const a=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let p=1;function u(e,t){if((0,o.Z)("esri-csp-restrictions"))return()=>({[t]:null,...e});try{let r=`this${d(t)} = null;`;for(const t in e)r+=`this${d(t)} = ${JSON.stringify(e[t])};`;const o=new Function(`\n      return class AttributesClass$${p++} {\n        constructor() {\n          ${r};\n        }\n      }\n    `)();return()=>new o}catch(r){return()=>({[t]:null,...e})}}function d(e){return a.test(e)?`.${e}`:`["${e}"]`}function c(e={}){return[{name:"New Feature",description:"",prototype:{attributes:(0,i.d9)(e)}}]}function y(e,t){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,isBranchVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:e},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:t,supportsDelete:t,supportsEditing:t,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryBins:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:t,supportsExceedsLimitStatistics:!0,supportsAsyncConvert3D:!1},query:s.g,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},queryAttributeBins:s.e,editing:{supportsGeometryUpdate:t,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1,zDefault:void 0}}}},45865:(e,t,r)=>{r.d(t,{tM:()=>_,jp:()=>w,ey:()=>C});var o=r(36663),i=r(86745),s=r(81977),n=(r(39994),r(13802),r(4157),r(40266)),l=r(47216),a=r(41151),p=r(41831),u=r(82064),d=r(39835),c=r(68577),y=r(12173);const h={write:{overridePolicy:(e,t,r)=>({enabled:!r||"scale"===r.filterMode})}};let m=class extends(a.Z.ClonableMixin(u.Z)){constructor(e){super(e),this.id=(0,y.DO)(),this.maxScale=0,this.minScale=0,this.title="",this.where=null}};(0,o._)([(0,s.Cb)({type:String,json:{write:!0}})],m.prototype,"id",void 0),(0,o._)([(0,s.Cb)({type:Number,json:h})],m.prototype,"maxScale",void 0),(0,o._)([(0,s.Cb)({type:Number,json:h})],m.prototype,"minScale",void 0),(0,o._)([(0,s.Cb)({type:String,json:{write:!0}})],m.prototype,"title",void 0),(0,o._)([(0,s.Cb)({type:String,json:{write:!0}})],m.prototype,"where",void 0),m=(0,o._)([(0,n.j)("esri.layers.support.DisplayFilter")],m);const f=m;var b=r(19654);let g=class extends(a.Z.ClonableMixin(u.Z)){constructor(e){super(e),this.activeFilterId=null,this.filters=new(p.Z.ofType(f)),this.mode="manual"}writeFilters(e,t,r,o){const i=e.toArray();"scale"===this.mode&&i.sort(((e,t)=>{const r=(0,c.Nf)(t.minScale,e.minScale),o=e.maxScale-t.maxScale;return 0===r?o:r})),t[r]=i.map((e=>e.toJSON(o)))}write(e,t){return super.write(e,(0,b.Ee)(this,t))}};(0,o._)([(0,s.Cb)({type:String,json:{write:{overridePolicy:(e,t,r)=>({enabled:"manual"===r.filterMode,isRequired:!0})}}})],g.prototype,"activeFilterId",void 0),(0,o._)([(0,s.Cb)({type:p.Z.ofType(f),nonNullable:!0,json:{write:!0}})],g.prototype,"filters",void 0),(0,o._)([(0,d.c)("filters")],g.prototype,"writeFilters",null),(0,o._)([(0,s.Cb)({type:["manual","scale"],nonNullable:!0,json:{name:"filterMode",write:!0}})],g.prototype,"mode",void 0),g=(0,o._)([(0,n.j)("esri.layers.support.DisplayFilterInfo")],g);const v=g,_=e=>{let t=class extends e{constructor(){super(...arguments),this.displayFilterEnabled=!0,this.displayFilterInfo=null}};return(0,o._)([(0,s.Cb)(w)],t.prototype,"displayFilterEnabled",void 0),(0,o._)([(0,s.Cb)(C)],t.prototype,"displayFilterInfo",void 0),t=(0,o._)([(0,n.j)("esri.layers.mixins.DisplayFilteredLayer")],t),t},w={type:Boolean,json:{name:"layerDefinition.disableDisplayFilter",read:{reader:e=>!e},write:{layerContainerTypes:l.C,writer(e,t,r){(0,i.RB)(r,!e,t)}},origins:{"web-scene":{write:!1,read:!1}}}},C={type:v,json:{name:"layerDefinition.displayFilterInfo",write:{enabled:!0,allowNull:!0,layerContainerTypes:l.C},origins:{"web-scene":{write:!1,read:!1}}}}},91610:(e,t,r)=>{r.d(t,{Ax:()=>a,c_:()=>u,lD:()=>p});var o=r(36663),i=r(86745),s=r(81977),n=(r(39994),r(13802),r(4157),r(40266)),l=r(94451);function a(e,t,r){if(!e)return null;const o=e.find((e=>!!e.field));if(!o)return null;const i=new l.Z;return i.read(o,r),[i]}const p={type:[l.Z],json:{origins:{"web-scene":{write:!1,read:!1}},name:"layerDefinition.orderBy",read:{reader:a},write:{writer:function(e,t,r,o){const s=e.find((e=>!!e.field));s&&(0,i.RB)(r,[s.toJSON()],t)}}}},u=e=>{let t=class extends e{constructor(){super(...arguments),this.orderBy=null}};return(0,o._)([(0,s.Cb)(p)],t.prototype,"orderBy",void 0),t=(0,o._)([(0,n.j)("esri.layers.mixins.OrderedLayer")],t),t}},65585:(e,t,r)=>{r.d(t,{_:()=>C});var o=r(36663),i=r(81977),s=(r(39994),r(13802),r(4157),r(40266)),n=r(80020),l=r(41151),a=r(82064),p=r(86745),u=r(39835),d=r(26973),c=r(23072),y=r(7923),h=r(88623);let m=class extends(l.Z.ClonableMixin(a.Z)){constructor(e){super(e),this.labelingInfo=null,this.labelsVisible=!0,this.renderer=null,this.visible=!0}};(0,o._)([(0,i.Cb)({type:[y.Z],json:{write:!0}})],m.prototype,"labelingInfo",void 0),(0,o._)([(0,i.Cb)(c.iR)],m.prototype,"labelsVisible",void 0),(0,o._)([(0,i.Cb)({types:h.Av,json:{write:!0}})],m.prototype,"renderer",void 0),(0,o._)([(0,i.Cb)({type:Boolean,json:{write:!0}})],m.prototype,"visible",void 0),m=(0,o._)([(0,s.j)("esri.layers.support.TrackPartInfo")],m);const f=m;var b=r(50172),g=r(5310),v=r(52193);let _=class extends(l.Z.ClonableMixin(a.Z)){constructor(e){super(e),this.enabled=!0,this.fields=[],this.latestObservations=new f({renderer:new b.Z({symbol:g.xA.clone()})}),this.maxDisplayDuration=null,this.maxDisplayObservationsPerTrack=0,this.popupEnabled=!0,this.popupTemplate=null,this.previousObservations=new f({renderer:new b.Z({symbol:g.xA.clone()})}),this.trackLines=new f({renderer:new b.Z({symbol:g.CJ.clone()})}),this.timeField="startTimeField"}writeFields(e,t,r){const o=e.filter((e=>"avg_angle"!==e.statisticType)).map((e=>e.toJSON()));(0,p.RB)(r,o,t)}};(0,o._)([(0,i.Cb)({type:Boolean,json:{write:!0}})],_.prototype,"enabled",void 0),(0,o._)([(0,i.Cb)({type:[d.Z],json:{write:!0}})],_.prototype,"fields",void 0),(0,o._)([(0,u.c)("fields")],_.prototype,"writeFields",null),(0,o._)([(0,i.Cb)({type:f,json:{write:!0}})],_.prototype,"latestObservations",void 0),(0,o._)([(0,i.Cb)({type:v.Z,json:{write:!0}})],_.prototype,"maxDisplayDuration",void 0),(0,o._)([(0,i.Cb)({type:Number,json:{write:!0}})],_.prototype,"maxDisplayObservationsPerTrack",void 0),(0,o._)([(0,i.Cb)(c.C_)],_.prototype,"popupEnabled",void 0),(0,o._)([(0,i.Cb)({type:n.Z,json:{name:"popupInfo",write:!0}})],_.prototype,"popupTemplate",void 0),(0,o._)([(0,i.Cb)({type:f,json:{write:!0}})],_.prototype,"previousObservations",void 0),(0,o._)([(0,i.Cb)({type:f,json:{write:!0}})],_.prototype,"trackLines",void 0),(0,o._)([(0,i.Cb)({type:["timeReceived","startTimeField","endTimeField"],json:{read:!0,write:!0}})],_.prototype,"timeField",void 0),_=(0,o._)([(0,s.j)("esri.layers.support.TrackInfo")],_);const w=_,C=e=>{let t=class extends e{constructor(){super(...arguments),this.trackInfo=null}};return(0,o._)([(0,i.Cb)({type:w})],t.prototype,"trackInfo",void 0),t=(0,o._)([(0,s.j)("esri.layers.mixins.TrackableLayer")],t),t}},60822:(e,t,r)=>{r.d(t,{Z:()=>d});var o=r(36663),i=r(41151),s=r(25709),n=r(82064),l=r(81977),a=(r(39994),r(13802),r(4157),r(40266));const p=new s.X({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let u=class extends(i.Z.ClonableMixin(n.Z)){constructor(e){super(e),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};(0,o._)([(0,l.Cb)({json:{write:!0}})],u.prototype,"name",void 0),(0,o._)([(0,l.Cb)({json:{write:!0}})],u.prototype,"description",void 0),(0,o._)([(0,l.Cb)({json:{read:p.read,write:p.write}})],u.prototype,"drawingTool",void 0),(0,o._)([(0,l.Cb)({json:{write:!0}})],u.prototype,"prototype",void 0),(0,o._)([(0,l.Cb)({json:{write:!0}})],u.prototype,"thumbnail",void 0),u=(0,o._)([(0,a.j)("esri.layers.support.FeatureTemplate")],u);const d=u},94451:(e,t,r)=>{r.d(t,{Z:()=>d});var o,i=r(36663),s=r(25709),n=r(82064),l=r(81977),a=(r(39994),r(13802),r(4157),r(40266));const p=new s.X({asc:"ascending",desc:"descending"});let u=o=class extends n.Z{constructor(e){super(e),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new o({field:this.field,valueExpression:this.valueExpression,order:this.order})}};(0,i._)([(0,l.Cb)({type:String,json:{write:!0}})],u.prototype,"field",void 0),(0,i._)([(0,l.Cb)({type:String,json:{write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],u.prototype,"valueExpression",void 0),(0,i._)([(0,l.Cb)({type:p.apiValues,json:{type:p.jsonValues,read:p.read,write:p.write}})],u.prototype,"order",void 0),u=o=(0,i._)([(0,a.j)("esri.layers.support.OrderByInfo")],u);const d=u},19654:(e,t,r)=>{r.d(t,{Ee:()=>s,Gr:()=>l,UO:()=>n});var o=r(19431),i=r(84684);function s(e,t){return{...t,filterMode:e.mode}}function n(e,t){return a(e,t).next().value??null}function l(e,t,r){const s=function(e){if("manual"===u(e))return null;const t=[Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY];for(const{minScale:r,maxScale:o}of e.filters)t[0]=Math.max(t[0],d(r)),t[1]=Math.min(t[1],c(o));return t}(e);if(s&&((0,o.nB)(t,s[0])||(0,o.pt)(r,s[1])))return"";const n=Array.from(a(e,t,r)),l=function(e,t,r){if(0===e.length)return!0;const i=d(e.at(0)?.minScale),s=c(e.at(-1)?.maxScale);if((0,o.pt)(i,t)||(0,o.nB)(s,r))return!0;for(let t=0;t<e.length-1;t++){const r=e[t],i=e[t+1];if((0,o.pt)(d(i.minScale),c(r.maxScale)))return!0}return!1}(n,t,r)?"1=1":n.map((e=>e.where||"1=1")).reduce(((e,t)=>(0,i.D3)(e,t)),"");return l&&"1=1"!==l?l:""}function*a(e,t,r){if("manual"===u(e)){const t=e.filters.find((t=>t.id===e.activeFilterId));t&&(yield t)}else{"object"==typeof t&&(t=t.scale);for(const o of e.filters)p(o.minScale,o.maxScale,t,r)&&(yield o)}}function p(e,t,r,i){return e=d(e),r=d(r),t=c(t),!(!(0,o.W8)(r,e)&&(i??r)>e||(0,o.aR)(t,r)||void 0!==i&&(0,o.W8)(i,e))}function u(e){return"mode"in e?e.mode:e.filterMode}function d(e){return e||Number.POSITIVE_INFINITY}function c(e){return e||0}},51211:(e,t,r)=>{r.d(t,{Z:()=>v});var o,i=r(36663),s=r(80085),n=r(25709),l=r(82064),a=r(67134),p=r(81977),u=(r(39994),r(13802),r(34248)),d=r(40266),c=r(39835),y=r(14685),h=r(53736),m=r(59659),f=r(12512);const b=new n.X({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let g=o=class extends l.Z{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){return this.readFeaturesWithClass(e,t,s.Z)}writeGeometryType(e,t,r,o){if(e)return void b.write(e,t,r,o);const{features:i}=this;if(i)for(const e of i)if(null!=e?.geometry)return void b.write(e.geometry.type,t,r,o)}readQueryGeometry(e,t){if(!e)return null;const r=!!e.spatialReference,o=(0,h.im)(e);return o&&!r&&t.spatialReference&&(o.spatialReference=y.Z.fromJSON(t.spatialReference)),o}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:r}=this;if(r)for(const e of r)if(e&&null!=e.geometry&&e.geometry.spatialReference)return void(t.spatialReference=e.geometry.spatialReference.toJSON())}clone(){return new o(this.cloneProperties())}cloneProperties(){return(0,a.d9)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(e){const t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(let r=0;r<t.features.length;r++){const o=t.features[r];if(o.geometry){const t=e?.[r];o.geometry=t?.toJSON()||o.geometry}}return t}quantize(e){const{scale:[t,r],translate:[o,i]}=e,s=this.features,n=this._getQuantizationFunction(this.geometryType,(e=>Math.round((e-o)/t)),(e=>Math.round((i-e)/r)));for(let e=0,t=s.length;e<t;e++)n?.(s[e].geometry)||(s.splice(e,1),e--,t--);return this.transform=e,this}unquantize(){const{geometryType:e,features:t,transform:r}=this;if(!r)return this;const{translate:[o,i],scale:[s,n]}=r;let l=null,a=null;if(this.hasZ&&null!=r?.scale?.[2]){const{translate:[,,e],scale:[,,t]}=r;l=r=>r*t+e}if(this.hasM&&null!=r?.scale?.[3]){const{translate:[,,,e],scale:[,,,t]}=r;a=r=>null==r?r:r*t+e}const p=this._getHydrationFunction(e,(e=>e*s+o),(e=>i-e*n),l,a);for(const{geometry:e}of t)null!=e&&p&&p(e);return this.transform=null,this}readFeaturesWithClass(e,t,r){const o=y.Z.fromJSON(t.spatialReference),i=[];for(let t=0;t<e.length;t++){const s=e[t],n=r.fromJSON(s),l=s.geometry?.spatialReference;null==n.geometry||l||(n.geometry.spatialReference=o);const a=s.aggregateGeometries,p=n.aggregateGeometries;if(a&&null!=p)for(const e in p){const t=p[e],r=a[e]?.spatialReference;null==t||r||(t.spatialReference=o)}i.push(n)}return i}_quantizePoints(e,t,r){let o,i;const s=[];for(let n=0,l=e.length;n<l;n++){const l=e[n];if(n>0){const e=t(l[0]),n=r(l[1]);e===o&&n===i||(s.push([e-o,n-i]),o=e,i=n)}else o=t(l[0]),i=r(l[1]),s.push([o,i])}return s.length>0?s:null}_getQuantizationFunction(e,t,r){return"point"===e?e=>(e.x=t(e.x),e.y=r(e.y),e):"polyline"===e||"polygon"===e?e=>{const o=(0,h.oU)(e)?e.rings:e.paths,i=[];for(let e=0,s=o.length;e<s;e++){const s=o[e],n=this._quantizePoints(s,t,r);n&&i.push(n)}return i.length>0?((0,h.oU)(e)?e.rings=i:e.paths=i,e):null}:"multipoint"===e?e=>{const o=this._quantizePoints(e.points,t,r);return o&&o.length>0?(e.points=o,e):null}:"extent"===e?e=>e:null}_getHydrationFunction(e,t,r,o,i){return"point"===e?e=>{e.x=t(e.x),e.y=r(e.y),o&&(e.z=o(e.z))}:"polyline"===e||"polygon"===e?e=>{const s=(0,h.oU)(e)?e.rings:e.paths;let n,l;for(let e=0,o=s.length;e<o;e++){const o=s[e];for(let e=0,i=o.length;e<i;e++){const i=o[e];e>0?(n+=i[0],l+=i[1]):(n=i[0],l=i[1]),i[0]=t(n),i[1]=r(l)}}if(o&&i)for(let e=0,t=s.length;e<t;e++){const t=s[e];for(let e=0,r=t.length;e<r;e++){const r=t[e];r[2]=o(r[2]),r[3]=i(r[3])}}else if(o)for(let e=0,t=s.length;e<t;e++){const t=s[e];for(let e=0,r=t.length;e<r;e++){const r=t[e];r[2]=o(r[2])}}else if(i)for(let e=0,t=s.length;e<t;e++){const t=s[e];for(let e=0,r=t.length;e<r;e++){const r=t[e];r[2]=i(r[2])}}}:"extent"===e?e=>{e.xmin=t(e.xmin),e.ymin=r(e.ymin),e.xmax=t(e.xmax),e.ymax=r(e.ymax),o&&null!=e.zmax&&null!=e.zmin&&(e.zmax=o(e.zmax),e.zmin=o(e.zmin)),i&&null!=e.mmax&&null!=e.mmin&&(e.mmax=i(e.mmax),e.mmin=i(e.mmin))}:"multipoint"===e?e=>{const s=e.points;let n,l;for(let e=0,o=s.length;e<o;e++){const o=s[e];e>0?(n+=o[0],l+=o[1]):(n=o[0],l=o[1]),o[0]=t(n),o[1]=r(l)}if(o&&i)for(let e=0,t=s.length;e<t;e++){const t=s[e];t[2]=o(t[2]),t[3]=i(t[3])}else if(o)for(let e=0,t=s.length;e<t;e++){const t=s[e];t[2]=o(t[2])}else if(i)for(let e=0,t=s.length;e<t;e++){const t=s[e];t[2]=i(t[2])}}:null}};(0,i._)([(0,p.Cb)({type:String,json:{write:!0}})],g.prototype,"displayFieldName",void 0),(0,i._)([(0,p.Cb)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],g.prototype,"exceededTransferLimit",void 0),(0,i._)([(0,p.Cb)({type:[s.Z],json:{write:!0}})],g.prototype,"features",void 0),(0,i._)([(0,u.r)("features")],g.prototype,"readFeatures",null),(0,i._)([(0,p.Cb)({type:[f.Z],json:{write:!0}})],g.prototype,"fields",void 0),(0,i._)([(0,p.Cb)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:b.read}}})],g.prototype,"geometryType",void 0),(0,i._)([(0,c.c)("geometryType")],g.prototype,"writeGeometryType",null),(0,i._)([(0,p.Cb)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],g.prototype,"hasM",void 0),(0,i._)([(0,p.Cb)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],g.prototype,"hasZ",void 0),(0,i._)([(0,p.Cb)({types:m.qM,json:{write:!0}})],g.prototype,"queryGeometry",void 0),(0,i._)([(0,u.r)("queryGeometry")],g.prototype,"readQueryGeometry",null),(0,i._)([(0,p.Cb)({type:y.Z,json:{write:!0}})],g.prototype,"spatialReference",void 0),(0,i._)([(0,c.c)("spatialReference")],g.prototype,"writeSpatialReference",null),(0,i._)([(0,p.Cb)({json:{write:!0}})],g.prototype,"transform",void 0),g=o=(0,i._)([(0,d.j)("esri.rest.support.FeatureSet")],g),g.prototype.toJSON.isDefaultToJSON=!0;const v=g}}]);