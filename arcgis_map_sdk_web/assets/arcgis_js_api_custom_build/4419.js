"use strict";(self.webpackChunkarcgis_webpack01=self.webpackChunkarcgis_webpack01||[]).push([[4419],{50152:(e,t,i)=>{i.d(t,{C:()=>v,b:()=>m});var r=i(5885),s=i(4731),o=i(78950),n=i(6502),a=i(94880),l=i(12664),c=i(32394),h=i(84614),d=i(63371),u=i(20200),p=i(21414),_=i(82050),g=i(9229);function m(e){const t=new g.kG,{vertex:i,fragment:m,attributes:v,varyings:y}=t,{vvColor:b,hasVertexColors:f}=e;return(0,h.Sv)(i,e),t.include(s.w,e),t.include(n.c,e),t.include(l.k,e),t.include(o.R,e),m.include(r.f5,e),t.include(_.j,e),t.include(a.H,e),v.add(p.T.POSITION,"vec3"),b&&v.add(p.T.COLORFEATUREATTRIBUTE,"float"),f||y.add("vColor","vec4"),y.add("vpos","vec3"),i.uniforms.add(new d.N("uColor",(e=>e.color))),i.main.add(u.H`
      vpos = position;
      forwardNormalizedVertexColor();
      forwardObjectAndLayerIdColor();

      ${f?"vColor *= uColor;":b?"vColor = uColor * interpolateVVColor(colorFeatureAttribute);":"vColor = uColor;"}
      forwardViewPosDepth((view * vec4(vpos, 1.0)).xyz);
      gl_Position = transformPosition(proj, view, vpos);`),m.include(c.Y),m.main.add(u.H`discardBySlice(vpos);
discardByTerrainDepth();
outputColorHighlightOID(vColor, vpos);`),t}const v=Object.freeze(Object.defineProperty({__proto__:null,build:m},Symbol.toStringTag,{value:"Module"}))},51027:(e,t,i)=>{i.d(t,{M:()=>d,b:()=>h});var r=i(84614),s=i(63371),o=i(24603),n=i(20200),a=i(21414),l=i(9229),c=i(5226);function h(e){const t=new l.kG,{vertex:i,fragment:h}=t;(0,r.Sv)(i,e),i.uniforms.add(new o.p("width",(e=>e.width))),t.attributes.add(a.T.POSITION,"vec3"),t.attributes.add(a.T.NORMAL,"vec3"),t.attributes.add(a.T.UV0,"vec2"),t.attributes.add(a.T.LENGTH,"float"),t.varyings.add("vtc","vec2"),t.varyings.add("vlength","float"),t.varyings.add("vradius","float"),i.main.add(n.H`vec3 bitangent = normal;
vtc = uv0;
vlength = length;
vradius = 0.5 * width;
vec4 pos = view * vec4(position + vradius * bitangent * uv0.y, 1.0);
gl_Position = proj * pos;`),h.uniforms.add(new o.p("outlineSize",(e=>e.outlineSize)),new s.N("outlineColor",(e=>e.outlineColor)),new o.p("stripeLength",(e=>e.stripeLength)),new s.N("stripeEvenColor",(e=>e.stripeEvenColor)),new s.N("stripeOddColor",(e=>e.stripeOddColor)));const d=1/Math.sqrt(2);return h.code.add(n.H`
    const float INV_SQRT2 = ${n.H.float(d)};

    vec4 arrowColor(vec2 tc, float len) {
      float d = INV_SQRT2 * (tc.x - abs(tc.y));
      d = min(d, INV_SQRT2 * (len - tc.x - abs(tc.y)));
      d = min(d, 1.0 - abs(tc.y));

      if (d < 0.0) {
        return vec4(0.0);
      }
      if (d < outlineSize) {
        return outlineColor;
      }
      return fract(0.5 / stripeLength * tc.x * vradius) >= 0.5 ? stripeOddColor : stripeEvenColor;
    }`),h.main.add(n.H`
    vec2 ntc = vec2(vtc.x / vradius, vtc.y);
    vec4 color = arrowColor(ntc, vlength / vradius);
    if (color.a < ${n.H.float(c.e)}) {
      discard;
    }
    fragColor = color;`),t}const d=Object.freeze(Object.defineProperty({__proto__:null,build:h},Symbol.toStringTag,{value:"Module"}))},23569:(e,t,i)=>{i.d(t,{h:()=>o});let r=e=>({vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}),s=(e,t,i)=>{for(let o=0,n=t.length;o<n;o++){let n=t[o];Array.isArray(n)?s(e,n,i):null!=n&&!1!==n&&("string"==typeof n&&(n=r(n)),i.push(n))}};function o(e,t,i){if(Array.isArray(t))i=t,t=void 0;else if(t&&("string"==typeof t||t.hasOwnProperty("vnodeSelector"))||i&&("string"==typeof i||i.hasOwnProperty("vnodeSelector")))throw new Error("h called with invalid arguments");let r,o;return i&&1===i.length&&"string"==typeof i[0]?r=i[0]:i&&(o=[],s(e,i,o),0===o.length&&(o=void 0)),{vnodeSelector:e,properties:t,children:o,text:""===r?void 0:r,domNode:null}}},40288:(e,t,i)=>{i.r(t),i.d(t,{default:()=>De});var r=i(36663),s=i(74396),o=(i(39994),i(61681)),n=i(81977),a=i(13802),l=(i(4157),i(40266)),c=i(71197),h=i(60573),d=i(76545),u=i(39405),p=i(76868),_=i(17321),g=i(28376),m=i(92810),v=i(956);let y=class extends s.Z{constructor(e){super(e)}initialize(){this.addHandles([(0,p.watch)((()=>({viewData:this.viewData,startPoint:this.analysis.startPoint})),(({viewData:e,startPoint:t})=>{e.elevationAlignedStartPoint=this._applyProjectionAndElevationAlignment(t)}),p.syncAndInitial),(0,p.watch)((()=>({viewData:this.viewData,endPoint:this.analysis.endPoint})),(({viewData:e,endPoint:t})=>{e.elevationAlignedEndPoint=this._applyProjectionAndElevationAlignment(t)}),p.syncAndInitial),(0,p.watch)((()=>({result:this._computedResult,viewData:this.viewData})),(({result:e,viewData:t})=>{t.result=e}),p.syncAndInitial)])}_applyProjectionAndElevationAlignment(e){if(null==e)return e;const{spatialReference:t,elevationProvider:i}=this.view;return(0,g.G)(e,t,i)??((0,g.e)(this.analysis,e.spatialReference,a.Z.getLogger(this)),null)}get _computedResult(){const{elevationAlignedStartPoint:e,elevationAlignedEndPoint:t,measurementMode:i,unit:r}=this.viewData;if(null==e||null==t)return null;const s=(0,m.Uy)(e,t),o=(0,v.RT)(e,t);if(null==s)return null;let n,a;switch(i){case d.e.Auto:a=null!=o?"geodesic":"euclidean",n=o??s.horizontal;break;case d.e.Geodesic:if(null==o)return null;a="geodesic",n=o;break;case d.e.Euclidean:a="euclidean",n=s.horizontal}let l=s.direct,c=s.vertical;const h=(0,_.wd)(l.value,l.unit,r),p=(0,_.wd)(n.value,n.unit,r),g=(0,_.yv)(c.value,c.unit,r);return l=(0,u.nn)(l,h),n=(0,u.nn)(n,p),c=(0,u.nn)(c,g),{mode:a,directDistance:l,horizontalDistance:n,verticalDistance:c}}};(0,r._)([(0,n.Cb)()],y.prototype,"view",void 0),(0,r._)([(0,n.Cb)()],y.prototype,"analysis",void 0),(0,r._)([(0,n.Cb)()],y.prototype,"viewData",void 0),(0,r._)([(0,n.Cb)()],y.prototype,"_computedResult",null),y=(0,r._)([(0,l.j)("esri.views.3d.analysis.DirectLineMeasurement.DirectLineMeasurementController")],y);i(87090);var b,f,w=i(39043),C=i(19431),O=i(10145),S=i(95550),R=i(36531),x=i(86717),T=i(81095);!function(e){e[e.None=0]="None",e[e.Direct=1]="Direct",e[e.Triangle=2]="Triangle",e[e.ProjectedGeodesic=3]="ProjectedGeodesic"}(b||(b={})),function(e){e[e.Auto=0]="Auto",e[e.AboveSegment=1]="AboveSegment",e[e.BelowSegment=2]="BelowSegment"}(f||(f={}));var A=i(6533),P=i(21961),E=i(37926),D=i(44584),M=i(3308),L=i(56999),z=i(52721),G=i(68817),V=i(10449),j=i(28521),U=i(20101),I=i(6087),F=i(7358),H=i(44685),N=i(35031),k=i(5079),W=i(46378),B=i(21414),q=i(9969),Z=i(62575),Q=i(12045),$=i(51027),Y=i(91907),J=i(17346);class K extends Z.A{constructor(e,t){super(e,t,new q.J($.M,(()=>i.e(20827).then(i.bind(i,20827)))),X),this.primitiveType=Y.MX.TRIANGLE_STRIP}initializePipeline(e){return(0,J.sm)({blending:e.transparent?(0,Q.Wo)(e.oitPass):null,polygonOffset:e.polygonOffsetEnabled?{factor:0,units:-4}:null,depthTest:{func:Y.wb.LESS},depthWrite:J.ck,colorWrite:J.gf})}}const X=new Map([[B.T.POSITION,0],[B.T.NORMAL,1],[B.T.UV0,2],[B.T.LENGTH,3]]);var ee=i(12907),te=i(22957);class ie extends te.W{constructor(){super(...arguments),this.polygonOffsetEnabled=!1,this.transparent=!1}}(0,r._)([(0,ee.o)()],ie.prototype,"polygonOffsetEnabled",void 0),(0,r._)([(0,ee.o)()],ie.prototype,"transparent",void 0);var re=i(5226);class se extends F.F5{constructor(e){super(e,ne),this._configuration=new ie,this.vertexAttributeLocations=X,this.produces=new Map([[W.r.OPAQUE_MATERIAL,e=>!this._transparent&&(0,N.c1)(e)],[W.r.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,e=>this._transparent&&(0,N.c1)(e)]])}getConfiguration(e,t){return this._configuration.polygonOffsetEnabled=this.parameters.polygonOffset,this._configuration.transparent=this._transparent,this._configuration.oitPass=t.oitPass,this._configuration}get visible(){const{outlineColor:e,stripeEvenColor:t,stripeOddColor:i}=this.parameters;return e[3]>=re.e||t[3]>=re.e||i[3]>=re.e}intersect(){}createGLMaterial(e){return new oe(e)}createBufferWriter(){return new pe}get _transparent(){const{parameters:e}=this;return e.outlineColor[3]<1||e.stripeEvenColor[3]<1||e.stripeOddColor[3]<1}}class oe extends k.Z{beginSlot(e){return this.getTechnique(K,e)}}class ne extends F.Mt{constructor(){super(...arguments),this.width=32,this.outlineSize=.2,this.outlineColor=(0,z.al)(1,.5,0,1),this.stripeEvenColor=(0,z.al)(1,1,1,1),this.stripeOddColor=(0,z.al)(1,.5,0,1),this.stripeLength=1,this.polygonOffset=!1}}const ae=(0,H.U$)().vec3f(B.T.POSITION).vec3f(B.T.NORMAL).vec2f(B.T.UV0).f32(B.T.LENGTH),le=(0,T.Ue)(),ce=(0,T.Ue)(),he=(0,T.Ue)(),de=(0,T.Ue)(),ue=(0,T.Ue)();class pe{constructor(){this.vertexBufferLayout=ae}elementCount(e){return 2*(e.get(B.T.POSITION).indices.length/2+1)}write(e,t,i,r,s,o){const{data:n,indices:a}=i.get(B.T.POSITION),l=i.get(B.T.NORMAL).data,c=n.length/3;a&&a.length!==2*(c-1)&&console.warn("MeasurementArrowMaterial does not support indices");const h=le,d=ce,u=he,p=de,_=ue,g=s.position,m=s.normal,v=s.uv0;let y=0;for(let i=0;i<c;++i){const r=3*i;if((0,x.i)(h,n[r],n[r+1],n[r+2]),i<c-1){const e=3*(i+1);(0,x.i)(d,n[e],n[e+1],n[e+2]),(0,x.i)(_,l[e],l[e+1],l[e+2]),(0,x.n)(_,_),(0,x.d)(u,d,h),(0,x.n)(u,u),(0,x.e)(p,_,u),(0,x.n)(p,p)}const s=(0,x.j)(h,d);e&&t&&((0,x.t)(h,h,e),(0,x.t)(d,d,e),(0,x.t)(p,p,t));const a=o+2*i,b=a+1;g.setVec(a,h),g.setVec(b,h),m.setVec(a,p),m.setVec(b,p),v.set(a,0,y),v.set(a,1,-1),v.set(b,0,y),v.set(b,1,1),i<c-1&&(y+=s)}const b=s.length;for(let e=0;e<2*c;++e)b.set(o+e,y)}}class _e extends V._{constructor(e){super(e),this._arrowWidth=16,this._arrowSubdivisions=128,this._origin=(0,T.Ue)(),this._originTransform=(0,M.Ue)(),this._arrowCenter=(0,T.Ue)(),this._renderOccluded=F.yD.OccludeAndTransparent,this._geometry=null,this._stripeLength=1,this._stripesEnabled=!0,this._color=(0,z.Ue)(),this._contrastColor=(0,z.Ue)(),this.applyProperties(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._arrowMaterial?.setParameters({renderOccluded:e}))}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this._geometryChanged()}get stripeLength(){return this._stripeLength}set stripeLength(e){this._stripeLength=e,this.attached&&this._arrowMaterial.setParameters({stripeLength:this._stripeLength})}get stripesEnabled(){return this._stripesEnabled}set stripesEnabled(e){if(this._stripesEnabled=e,this.attached){const e=this._stripesEnabled?this._contrastColor:this._color;this._arrowMaterial.setParameters({stripeEvenColor:e})}}get color(){return this._color}set color(e){(0,w.Ht)(e,this._color)||((0,L.c)(this._color,e),this._updateArrowColor())}get contrastColor(){return this._contrastColor}set contrastColor(e){(0,w.Ht)(e,this._color)||((0,L.c)(this._contrastColor,e),this._updateArrowColor())}createExternalResources(){const e=this._color,t=this._contrastColor,i=this._stripesEnabled?t:e;this._arrowMaterial=new se({outlineColor:e,stripeEvenColor:i,stripeOddColor:e,renderOccluded:this.renderOccluded,polygonOffset:!0,isDecoration:this.isDecoration}),this._handles=new D.Z,this._handles.add((0,p.watch)((()=>this.view.state.camera),(()=>{this._viewChanged()})))}destroyExternalResources(){this._arrowMaterial=null,this._handles=(0,o.SC)(this._handles)}forEachExternalMaterial(e){e(this._arrowMaterial)}createGeometries(e){if(null==this._geometry?.startRenderSpace||null==this._geometry.endRenderSpace)return;const t=this._createArrowGeometry(this._geometry.startRenderSpace,this._geometry.endRenderSpace,this._origin,this._geometry);t.transformation=this._originTransform,e.addGeometry(t),this._viewChanged()}_createArrowGeometry(e,t,i,r){const s=this.view,o=s.renderCoordsHelper,n=[],a=[],l=(e,t)=>{const r=G.WM.get();(0,x.d)(r,e,i),n.push(r),a.push(t)};if("euclidean"===r.type){r.eval(.5,this._arrowCenter);const i=G.WM.get();if(o.worldUpAtPosition(this._arrowCenter,i),function(e,t,i){const r=(0,x.a)(ge,t,e),s=(0,x.e)(ge,r,i);return 0===(0,x.H)(s)}(e,t,i)){const{heading:t,tilt:r}=s.camera,{direction:o}=(0,j.kE)(s,e,t,r,me);(0,x.c)(i,o)}l(e,i),l(t,i)}else{r.eval(.5,this._arrowCenter);const e=this._arrowSubdivisions+1&-2;for(let t=0;t<e;++t){const i=t/(e-1),s=G.WM.get(),n=G.WM.get();r.eval(i,s),o.worldUpAtPosition(s,n),l(s,n)}}return(0,I.rh)(this._arrowMaterial,n,a)}_geometryChanged(){this.recreateGeometry()}_viewChanged(){if(this.view.ready&&this.attached&&null!=this._geometry){const e=this.view.state.camera.computeScreenPixelSizeAt(this._arrowCenter);this._arrowMaterial.setParameters({width:this._arrowWidth*e})}}_updateArrowColor(){if(!this.attached)return;const e=this._color,t=this._contrastColor,i=this._stripesEnabled?t:e,r=e,s=e;this._arrowMaterial.setParameters({stripeEvenColor:i,outlineColor:r,stripeOddColor:s})}}const ge=(0,T.Ue)(),me=(0,U.dp)();var ve=i(83061),ye=i(60033),be=i(66962),fe=i(27493),we=i(8108),Ce=i(60720);let Oe=class extends s.Z{get _parameters(){const e=this.view.effectiveTheme,{accentColor:t,textColor:i}=e,r=(0,w.O)(t),s=(0,w.Ch)(t,.75),o=(0,w.O)((0,w.mj)(t)),n=(0,w.mj)(i,w.K6.Low);return{accentColor:r,contrastColor:o,translucentAccentColor:s,triangleLineWidth:3,geodesicProjectionLineWidth:2,guideLineWidth:2,guideStippleLengthPixels:3,directLabelFontSize:16,horizontalLabelFontSize:12,verticalLabelFontSize:12,textColor:i,textBackgroundColor:(0,w.G)(n,.6),textCalloutColor:(0,w.G)(n,.5)}}get visible(){return this.analysisView.visible}get viewMode(){const{elevationAlignedStartPoint:e,elevationAlignedEndPoint:t}=this.analysisView;if(null==e||null==t||e.equals(t))return b.None;const i=this.analysisView.result;if(null==i)return b.Direct;if("geodesic"===this.actualVisualizedMeasurement)return this._requiresGeodesicGuideAt(this._startPosition)||this._requiresGeodesicGuideAt(this._endPosition)?b.ProjectedGeodesic:b.Direct;const{verticalDistance:r,horizontalDistance:s}=i,o=(0,u.nn)(r,"meters").value,n=(0,u.nn)(s,"meters").value;return Math.min(o/n,n/o)<this.triangleCollapseRatioThreshold?b.Direct:b.Triangle}get actualVisualizedMeasurement(){const{measurementMode:e,result:t}=this.analysisView;switch(e){case d.e.Auto:return null!=t&&(0,u.nn)(t.horizontalDistance,"meters").value>fe.Yo?"geodesic":"euclidean";case d.e.Euclidean:return"euclidean";case d.e.Geodesic:return"geodesic"}}get allowVisualElementsOrientationChange(){return null==this._triangleOrientationOverride}set allowVisualElementsOrientationChange(e){null==this._triangleOrientationOverride!==e&&(null==this._triangleOrientationOverride?this._triangleOrientationOverride=this._actualVisualElementsOrientation:this._triangleOrientationOverride=null)}get labels(){return"geodesic"===this.actualVisualizedMeasurement?{direct:null,horizontal:this._segmentLabel,vertical:this._verticalLabel}:{direct:this._segmentLabel,horizontal:this._horizontalLabel,vertical:this._verticalLabel}}constructor(e){super(e),this._segmentVisualElement=null,this._triangleVisualElement=null,this._rightAngleQuad=null,this._projectedGeodesicLine=null,this._geodesicStartHint=null,this._geodesicEndHint=null,this._segmentLabel=null,this._verticalLabel=null,this._horizontalLabel=null,this._startPosition=(0,T.Ue)(),this._endPosition=(0,T.Ue)(),this._cornerPosition=(0,T.Ue)(),this._startPositionAtSeaLevel=(0,T.Ue)(),this._endPositionAtSeaLevel=(0,T.Ue)(),this._triangleOrientationOverride=null,this.messages=null,this.loadingMessages=!0,this.visualElementOrientation=f.Auto,this.triangleCollapseRatioThreshold=.03}initialize(){const e=this._parameters,t={attached:!0,view:this.view,isDecoration:!0},{guideLineWidth:i,guideStippleLengthPixels:r,triangleLineWidth:s,geodesicProjectionLineWidth:o,directLabelFontSize:n,verticalLabelFontSize:a,horizontalLabelFontSize:l}=e;this._segmentVisualElement=new _e({...t,geometry:null,renderOccluded:F.yD.OccludeAndTransparent}),this._triangleVisualElement=new E.r({...t,width:s,renderOccluded:F.yD.OccludeAndTransparent}),this._rightAngleQuad=new ve.R({...t,renderOccluded:F.yD.OccludeAndTransparent});const c={...t,polygonOffset:!0,renderOccluded:F.yD.OccludeAndTransparent};this._projectedGeodesicLine=new E.r({...c,width:o,stipplePattern:(0,be.z5)(r)}),this._geodesicStartHint=new E.r({...c,width:i,stipplePattern:(0,be.z5)(r)}),this._geodesicEndHint=new E.r({...c,width:i,stipplePattern:(0,be.z5)(r)}),this._segmentLabel=new P.K({...t,fontSize:n}),this._verticalLabel=new P.K({...t,fontSize:a}),this._horizontalLabel=new P.K({...t,fontSize:l}),this.addHandles([(0,p.watch)((()=>{const{elevationAlignedStartPoint:e,elevationAlignedEndPoint:t}=this.analysisView,i=this.view;return{view:i,camera:i.state.camera,viewMode:this.viewMode,elevationAlignedStartPoint:e,elevationAlignedEndPoint:t,orientation:this._actualVisualElementsOrientation,visualizedMeasurement:this.actualVisualizedMeasurement,stripeLength:this._measurementArrowStripeLength}}),(e=>this._updateGeometryAndViewMode(e)),p.syncAndInitial),(0,p.watch)((()=>({visible:this.visible,viewMode:this.viewMode})),(e=>this._updateVisualElementVisibility(e)),p.syncAndInitial),(0,p.watch)((()=>({text:this._labelsText,visualizedMeasurement:this.actualVisualizedMeasurement})),(e=>this._updateLabelText(e)),p.syncAndInitial),(0,p.watch)((()=>({visible:this.visible,viewMode:this.viewMode})),(e=>this._updateLabelVisibility(e)),p.syncAndInitial),(0,p.watch)((()=>this._measurementArrowStripeLength),(e=>this._updateSegmentStripeLength(e)),p.syncAndInitial),(0,we.qe)((async()=>this._updateMessageBundle())),(0,p.watch)((()=>this._parameters),(({textBackgroundColor:e,textCalloutColor:t,textColor:i,translucentAccentColor:r,accentColor:s,contrastColor:o})=>{const{_segmentLabel:n,_verticalLabel:a,_horizontalLabel:l,_triangleVisualElement:c,_rightAngleQuad:h,_projectedGeodesicLine:d,_geodesicStartHint:u,_geodesicEndHint:p,_segmentVisualElement:_}=this;n.backgroundColor=e,n.calloutColor=t,n.textColor=i,a.backgroundColor=e,a.calloutColor=t,a.textColor=i,l.backgroundColor=e,l.calloutColor=t,l.textColor=i,c.color=r,h.color=r,d.color=r,u.color=r,p.color=r,_.color=s,_.contrastColor=o}),p.initial)]),this._updateMessageBundle()}destroy(){this._segmentVisualElement=(0,o.SC)(this._segmentVisualElement),this._triangleVisualElement=(0,o.SC)(this._triangleVisualElement),this._rightAngleQuad=(0,o.SC)(this._rightAngleQuad),this._projectedGeodesicLine=(0,o.SC)(this._projectedGeodesicLine),this._geodesicStartHint=(0,o.SC)(this._geodesicStartHint),this._geodesicEndHint=(0,o.SC)(this._geodesicEndHint),this._segmentLabel=(0,o.SC)(this._segmentLabel),this._verticalLabel=(0,o.SC)(this._verticalLabel),this._horizontalLabel=(0,o.SC)(this._horizontalLabel),this.set("view",null)}_updateVisualElementVisibility({visible:e,viewMode:t}){if(this._segmentVisualElement.visible=!1,this._triangleVisualElement.visible=!1,this._rightAngleQuad.visible=!1,this._projectedGeodesicLine.visible=!1,this._geodesicStartHint.visible=!1,this._geodesicEndHint.visible=!1,e)switch(t){case b.None:break;case b.Direct:this._segmentVisualElement.visible=!0;break;case b.Triangle:this._segmentVisualElement.visible=!0,this._triangleVisualElement.visible=!0,this._rightAngleQuad.visible=!0;break;case b.ProjectedGeodesic:this._segmentVisualElement.visible=!0,this._projectedGeodesicLine.visible=!0,this._geodesicStartHint.visible=!0,this._geodesicEndHint.visible=!0}}_updateGeometryAndViewMode({view:e,camera:t,viewMode:i,elevationAlignedStartPoint:r,elevationAlignedEndPoint:s,orientation:o,visualizedMeasurement:n,stripeLength:a}){const l=e.renderCoordsHelper;if(null==l||null==r||null==s||r.equals(s))return;let c=this._startPosition,h=this._endPosition;l.toRenderCoords(r,c),l.toRenderCoords(s,h);const d=o===f.AboveSegment?1:-1,u=d*(l.getAltitude(h)-l.getAltitude(c));u<0&&(c=this._endPosition,h=this._startPosition);const p="geodesic"===n?new ye.u(this._startPosition,this._endPosition,l.spatialReference):new ye.y(this._startPosition,this._endPosition);switch(this._segmentVisualElement.geometry=p,this._updateSegmentStripeLength(a),i){case b.Direct:this._updateSegment(p,o);break;case b.Triangle:this._updateSegmentAndTriangle({view:e,camera:t,segment:p,orientation:o,startPosition:c,endPosition:h,deltaSign:d,altitudeDelta:u});break;case b.ProjectedGeodesic:this._updateSegmentAndProjection({view:e,orientation:o,startPosition:c,endPosition:h})}}_updateSegment(e,t){this._segmentLabel.anchor=t===f.AboveSegment?"top":"bottom",this._segmentLabel.geometry={type:"segment",segment:e,sampleLocation:"center"}}_updateSegmentAndTriangle({view:{renderCoordsHelper:e},camera:t,segment:i,orientation:r,startPosition:s,endPosition:o,deltaSign:n,altitudeDelta:a}){const l=this._cornerPosition;e.worldUpAtPosition(s,l),(0,x.h)(l,l,n*Math.abs(a)),(0,x.g)(l,l,s),this._triangleVisualElement.geometry=[[[s[0],s[1],s[2]],[l[0],l[1],l[2]],[o[0],o[1],o[2]]]],this._rightAngleQuad.geometry={previous:s,center:l,next:o};const c=new ye.y(s,l),h=new ye.y(l,o),d=function(e,t,i,r,s){const o=Re,n=xe;s.projectToRenderScreen(i,o),s.projectToRenderScreen(t,n);const a={segment:"bottom",horizontal:"top",vertical:o[0]<n[0]?"left":"right"};{const r=Te,o=Ae;if((0,A.C)(e,i,s,r),(0,A.C)(e,t,s,o),(0,R.AK)(r,o)>=Se){const e=Math.sign(r[1])===Math.sign(o[1]);a.segment=e?(0,P.j)(a.vertical):a.vertical}else{const e=Pe;(0,A.C)(i,t,s,e),(0,R.AK)(e,o)>=Se&&(a.segment=Math.sign(e[0])===Math.sign(o[0])?(0,P.j)(a.horizontal):a.horizontal)}}if(r===f.BelowSegment){const e=e=>"top"===e?"bottom":"top";a.segment=e(a.segment),a.horizontal=e(a.horizontal),a.vertical=e(a.vertical)}return a}(s,o,l,r,t);this._segmentLabel.anchor=d.segment,this._segmentLabel.geometry={type:"segment",segment:i,sampleLocation:"center"},this._verticalLabel.geometry={type:"segment",segment:c,sampleLocation:"center"},this._verticalLabel.anchor=d.vertical,this._horizontalLabel.geometry={type:"segment",segment:h,sampleLocation:"center"},this._horizontalLabel.anchor=d.horizontal}_updateSegmentAndProjection({view:{renderCoordsHelper:e},orientation:t,startPosition:i,endPosition:r}){e.setAltitude(this._startPositionAtSeaLevel,0,i),e.setAltitude(this._endPositionAtSeaLevel,0,r);const s=new ye.u(this._startPositionAtSeaLevel,this._endPositionAtSeaLevel,e.spatialReference);this._projectedGeodesicLine.setGeometryFromSegment(s),this._geodesicStartHint.setGeometryFromSegment(new ye.y(this._startPositionAtSeaLevel,i)),this._geodesicEndHint.setGeometryFromSegment(new ye.y(this._endPositionAtSeaLevel,r)),this._segmentLabel.geometry={type:"segment",segment:s,sampleLocation:"center"},this._segmentLabel.anchor=t===f.AboveSegment?"top":"bottom"}_updateLabelText({text:e,visualizedMeasurement:t}){null!=e?(this._segmentLabel.text="euclidean"===t?e.directDistance:e.horizontalDistance,this._horizontalLabel.text=e.horizontalDistance,this._verticalLabel.text=e.verticalDistance):(this._segmentLabel.text=null,this._horizontalLabel.text=null,this._verticalLabel.text=null),this.notifyChange("labels")}_updateLabelVisibility({visible:e,viewMode:t}){const i=this._segmentLabel,r=this._horizontalLabel,s=this._verticalLabel;if(i.visible=!1,r.visible=!1,s.visible=!1,e)switch(t){case b.Direct:i.visible=!0;break;case b.Triangle:i.visible=!0,r.visible=!0,s.visible=!0;break;case b.ProjectedGeodesic:i.visible=!0;case b.None:}}get _labelsText(){if(this.destroyed)return null;const e=this.messages,t=this.analysisView.result;if(null==t||null==e)return null;const{directDistance:i,horizontalDistance:r,verticalDistance:s}=t,o=this.analysisView.unit,n=e=>({directDistance:"",horizontalDistance:"",verticalDistance:"",...e});switch(o){case"metric":return n({directDistance:i&&(0,O.Rd)(e,i),horizontalDistance:r&&(0,O.Rd)(e,r),verticalDistance:s&&(0,O.Wv)(e,s)});case"imperial":return n({directDistance:i&&(0,O.Ud)(e,i),horizontalDistance:r&&(0,O.Ud)(e,r),verticalDistance:s&&(0,O.Zv)(e,s)});default:return n({directDistance:i&&(0,O.VG)(e,i,o),horizontalDistance:r&&(0,O.VG)(e,r,o),verticalDistance:s&&(0,O.VG)(e,s,o)})}}_updateSegmentStripeLength(e){const t=this._segmentVisualElement;null!=e?(t.stripeLength=e,t.stripesEnabled=!0):t.stripesEnabled=!1}get _actualVisualElementsOrientation(){if(null!=this._triangleOrientationOverride)return this._triangleOrientationOverride;const e=this.visualElementOrientation;return e===f.Auto?this.view.state.camera.aboveGround?f.AboveSegment:f.BelowSegment:e}_requiresGeodesicGuideAt(e){const t=this.view;if(!t?.state)return!1;const i=t.state.camera,r=t.renderCoordsHelper;if(!r)return!1;const s=i.computeScreenPixelSizeAt(e);return r.getAltitude(e)/s>=10}get _measurementArrowStripeLength(){const{result:e,unit:t}=this.analysisView;if(null==e)return null;let i=null;const r=e.directDistance;switch(t){case"metric":i=r&&(0,u.nn)(r,"meters");break;case"imperial":i=r&&(0,u.nn)(r,(0,_.Q7)(r.value,r.unit));break;default:i=r&&(0,u.nn)(r,t)}return null==i?null:(0,C.sk)(i.value/30)*(0,_.En)(1,i.unit,"meters")}_updateMessageBundle(){this.loadingMessages=!0,(0,Ce.ME)("esri/core/t9n/Units").then((e=>{this.messages=e})).finally((()=>{this.loadingMessages=!1}))}get testData(){}};(0,r._)([(0,n.Cb)()],Oe.prototype,"_parameters",null),(0,r._)([(0,n.Cb)()],Oe.prototype,"_triangleOrientationOverride",void 0),(0,r._)([(0,n.Cb)()],Oe.prototype,"messages",void 0),(0,r._)([(0,n.Cb)()],Oe.prototype,"view",void 0),(0,r._)([(0,n.Cb)()],Oe.prototype,"analysis",void 0),(0,r._)([(0,n.Cb)()],Oe.prototype,"analysisView",void 0),(0,r._)([(0,n.Cb)()],Oe.prototype,"loadingMessages",void 0),(0,r._)([(0,n.Cb)()],Oe.prototype,"visible",null),(0,r._)([(0,n.Cb)()],Oe.prototype,"viewMode",null),(0,r._)([(0,n.Cb)()],Oe.prototype,"actualVisualizedMeasurement",null),(0,r._)([(0,n.Cb)()],Oe.prototype,"visualElementOrientation",void 0),(0,r._)([(0,n.Cb)()],Oe.prototype,"triangleCollapseRatioThreshold",void 0),(0,r._)([(0,n.Cb)()],Oe.prototype,"allowVisualElementsOrientationChange",null),(0,r._)([(0,n.Cb)()],Oe.prototype,"labels",null),(0,r._)([(0,n.Cb)()],Oe.prototype,"_labelsText",null),(0,r._)([(0,n.Cb)()],Oe.prototype,"_actualVisualElementsOrientation",null),(0,r._)([(0,n.Cb)()],Oe.prototype,"_measurementArrowStripeLength",null),Oe=(0,r._)([(0,l.j)("esri.views.3d.analysis.DirectLineMeasurement.DirectLineMeasurementVisualization")],Oe);const Se=Math.cos((0,C.Vl)(12)),Re=(0,S.J$)(),xe=(0,S.J$)(),Te=(0,S.gX)(),Ae=(0,S.gX)(),Pe=(0,S.gX)();let Ee=class extends((0,h.p)(s.Z)){constructor(e){super(e),this.type="direct-line-measurement-view-3d",this.analysis=null,this.result=null,this.measurementMode=d.e.Auto,this.elevationAlignedStartPoint=null,this.elevationAlignedEndPoint=null}initialize(){const e=this.view,t=this.analysis;this._analysisVisualization=new Oe({view:e,analysis:t,analysisView:this}),this._analysisController=new y({view:e,analysis:t,viewData:this})}destroy(){this._analysisController=(0,o.SC)(this._analysisController),this._analysisVisualization=(0,o.SC)(this._analysisVisualization)}get updating(){return!!this._analysisVisualization?.loadingMessages}get viewMode(){return this._analysisVisualization.viewMode}get actualVisualizedMeasurement(){return this._analysisVisualization.actualVisualizedMeasurement}get visualElementOrientation(){return this._analysisVisualization.visualElementOrientation}set visualElementOrientation(e){this._analysisVisualization.visualElementOrientation=e}get allowVisualElementsOrientationChange(){return this._analysisVisualization.allowVisualElementsOrientationChange}set allowVisualElementsOrientationChange(e){this._analysisVisualization.allowVisualElementsOrientationChange=e}get triangleCollapseRatioThreshold(){return this._analysisVisualization.triangleCollapseRatioThreshold}set triangleCollapseRatioThreshold(e){this._analysisVisualization.triangleCollapseRatioThreshold=e}get directLabelText(){return this._analysisVisualization.labels.direct?.text??""}get horizontalLabelText(){return this._analysisVisualization.labels.horizontal?.text??""}get verticalLabelText(){return this._analysisVisualization.labels.vertical?.text??""}get unit(){return this.analysis.unit??this._defaultUnit}get testData(){}};(0,r._)([(0,n.Cb)()],Ee.prototype,"updating",null),(0,r._)([(0,n.Cb)({readOnly:!0})],Ee.prototype,"type",void 0),(0,r._)([(0,n.Cb)({constructOnly:!0,nonNullable:!0})],Ee.prototype,"analysis",void 0),(0,r._)([(0,n.Cb)()],Ee.prototype,"result",void 0),(0,r._)([(0,n.Cb)()],Ee.prototype,"measurementMode",void 0),(0,r._)([(0,n.Cb)()],Ee.prototype,"elevationAlignedStartPoint",void 0),(0,r._)([(0,n.Cb)()],Ee.prototype,"elevationAlignedEndPoint",void 0),(0,r._)([(0,n.Cb)({readOnly:!0})],Ee.prototype,"viewMode",null),(0,r._)([(0,n.Cb)({readOnly:!0})],Ee.prototype,"actualVisualizedMeasurement",null),(0,r._)([(0,n.Cb)()],Ee.prototype,"visualElementOrientation",null),(0,r._)([(0,n.Cb)()],Ee.prototype,"allowVisualElementsOrientationChange",null),(0,r._)([(0,n.Cb)()],Ee.prototype,"triangleCollapseRatioThreshold",null),(0,r._)([(0,n.Cb)({readOnly:!0})],Ee.prototype,"directLabelText",null),(0,r._)([(0,n.Cb)({readOnly:!0})],Ee.prototype,"horizontalLabelText",null),(0,r._)([(0,n.Cb)({readOnly:!0})],Ee.prototype,"verticalLabelText",null),(0,r._)([(0,n.Cb)()],Ee.prototype,"_analysisVisualization",void 0),(0,r._)([(0,n.Cb)()],Ee.prototype,"_analysisController",void 0),(0,r._)([(0,n.Cb)()],Ee.prototype,"unit",null),(0,r._)([(0,n.Cb)(c.Y)],Ee.prototype,"_defaultUnit",void 0),Ee=(0,r._)([(0,l.j)("esri.views.3d.analysis.DirectLineMeasurementAnalysisView3D")],Ee);const De=Ee},76545:(e,t,i)=>{var r;i.d(t,{e:()=>r}),function(e){e[e.Auto=0]="Auto",e[e.Euclidean=1]="Euclidean",e[e.Geodesic=2]="Geodesic"}(r||(r={}))},28376:(e,t,i)=>{i.d(t,{G:()=>o,e:()=>n});var r=i(90472),s=i(66143);function o(e,t,i,o=!1){const n=(0,r.tryProjectWithZConversion)(e,t);return null==n?null:(n.hasZ&&!o||null==i||(n.z=(0,s.KO)(i,n)??0),n)}function n(e,t,i){i.warnOnce(`Failed to project analysis geometry (id: '${e.id}'), projection from spatial reference (wkid: '${t.wkid}') to view spatial reference is not supported. Projection may be possible after calling projection.load().`)}},468:(e,t,i)=>{i.d(t,{i:()=>b});var r=i(36663),s=i(74396),o=i(86618),n=i(81977),a=(i(39994),i(13802),i(4157),i(40266)),l=i(43977),c=i(79341),h=i(53448);class d{constructor(e){this._resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1,this._renderGroup=l.eZ.Outline}destroy(){this._destroyResources()}get resources(){return null!=this._resources?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncGeometriesToRenderer())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}get renderGroup(){return this._renderGroup}set renderGroup(e){this._renderGroup=e;const t=this._resources?.layerView;t&&(t.renderGroup=e)}recreate(){this.attached&&this._createResources()}recreateGeometry(){this._resourceFactory.recreateGeometry?null!=this._resources&&(this._ensureRenderGeometriesRemoved(),this._resourceFactory.recreateGeometry(this._resources.external),this._syncGeometriesToRenderer()):this.recreate()}_createOrDestroyResources(){this._attached?null==this._resources&&this._createResources():this._destroyResources()}_createResources(){this._destroyResources();const e=this._resourceFactory.createResources(),t=new u({view:this._resourceFactory.view,renderGroup:this._renderGroup}),i=this._resourceFactory.view.basemapTerrain?.overlayManager;this._resources={layerView:new u({view:this._resourceFactory.view,renderGroup:this._renderGroup}),external:e,geometriesAdded:!1},i&&(this._resources.drapeSourceRenderer=i.registerGeometryDrapeSource(t)),this._syncGeometriesToRenderer()}_destroyResources(){if(null==this._resources)return;this._ensureRenderGeometriesRemoved();const e=this._resourceFactory.view.basemapTerrain?.overlayManager;e&&e.unregisterDrapeSource(this._resources.layerView),this._resourceFactory.destroyResources(this._resources.external),this._resources=null}_syncGeometriesToRenderer(){this._visible?this._ensureRenderGeometriesAdded():this._ensureRenderGeometriesRemoved()}_ensureRenderGeometriesRemoved(){null!=this._resources?.drapeSourceRenderer&&this._resources.geometriesAdded&&(this._resources.drapeSourceRenderer.removeGeometries(this._resources.external.geometries,c.T.UPDATE),this._resources.geometriesAdded=!1)}_ensureRenderGeometriesAdded(){null!=this._resources?.drapeSourceRenderer&&(this._resources.geometriesAdded||(this._resources.drapeSourceRenderer.addGeometries(this._resources.external.geometries,c.T.UPDATE),this._resources.geometriesAdded=!0))}}let u=class extends(o.Z.IdentifiableMixin(s.Z)){constructor(e){super(e),this.drapeSourceType=l.Lw.Features,this.updatePolicy=h.j.SYNC,this.renderGroup=l.eZ.Outline}};(0,r._)([(0,n.Cb)({constructOnly:!0})],u.prototype,"view",void 0),(0,r._)([(0,n.Cb)({readOnly:!0})],u.prototype,"drapeSourceType",void 0),(0,r._)([(0,n.Cb)()],u.prototype,"renderGroup",void 0),u=(0,r._)([(0,a.j)("esri.views.3d.interactive.visualElements.DrapedVisualElementResources")],u);var p=i(76169),_=i(76868),g=i(95399),m=i(49394),v=i(26982);class y{constructor(e){this._resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1}destroy(){this._destroyResources()}get object(){return null!=this._resources?this._resources.object:null}get resources(){return null!=this._resources?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncVisible())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}recreate(){this.attached&&this._createResources()}recreateGeometry(){if(!this._resourceFactory.recreateGeometry)return void this.recreate();const e=this._resourceFactory.view._stage;if(null==this._resources||!e)return;const t=this._resources.object;this._resources.external.forEach((t=>{t.type!==g.U.Mesh&&t.type!==g.U.Line&&t.type!==g.U.Point||e.remove(t)})),t.removeAllGeometries(),this._resourceFactory.recreateGeometry(this._resources.external,t,this._resources.layer),this._resources.external.forEach((t=>{t.type!==g.U.Mesh&&t.type!==g.U.Line&&t.type!==g.U.Point||e.add(t)}))}_createOrDestroyResources(){this._attached?this._resources||this._createResources():this._destroyResources()}_createResources(){this._destroyResources();const e=this._resourceFactory,t=e.view,i=t._stage;if(!i)return;const r=new v.F(i,{pickable:!1,updatePolicy:h.j.SYNC}),s=new m.T({castShadow:!1}),o=e.createResources(s,r);o.forEach((e=>{i.add(e),e.type===g.U.Texture&&e.load(i.renderView.renderingContext)})),i.add(s),r.add(s);const n=e.cameraChanged,a=n?(0,_.watch)((()=>t.state.camera),(e=>n(e)),_.initial):null;this._resources={layer:r,object:s,external:o,cameraHandle:a},this._syncVisible()}_destroyResources(){if(null==this._resources)return;const e=this._resourceFactory.view._stage;e&&(e.remove(this._resources.object),this._resources.layer.destroy(),this._resources.external.forEach((t=>{e.remove(t),t.type===g.U.Texture&&t.unload()}))),this._resources.object.dispose(),this._resources.cameraHandle?.remove(),this._resourceFactory.destroyResources(this._resources.external),this._resources=null}_syncVisible(){null!=this._resources&&(this._resources.object.visible=this._visible)}}class b extends p.l{constructor(e){super(e),this._isDraped=!1,this.object3dResources=new y(this.createObject3DResourceFactory(e.view)),this.drapedResources=new d(this.createDrapedResourceFactory(e.view)),this.isDraped=e.isDraped??!1}get isDraped(){return this._isDraped}set isDraped(e){e!==this._isDraped&&(this._isDraped=e,this.object3dResources.attached=this.attached&&!e,this.drapedResources.attached=this.attached&&e)}get renderGroup(){return this.drapedResources.renderGroup}set renderGroup(e){this.drapedResources.renderGroup=e}createResources(){this.object3dResources.attached=!this._isDraped,this.drapedResources.attached=this._isDraped}destroyResources(){this.object3dResources.attached=!1,this.drapedResources.attached=!1}recreate(){this.object3dResources.recreate(),this.drapedResources.recreate()}recreateGeometry(){this.object3dResources.recreateGeometry(),this.drapedResources.recreateGeometry()}destroy(){this.object3dResources.destroy(),this.drapedResources.destroy(),super.destroy()}updateVisibility(e){this.object3dResources.visible=e,this.drapedResources.visible=e}}},37926:(e,t,i)=>{i.d(t,{r:()=>u});var r=i(32114),s=i(3308),o=i(86717),n=i(81095),a=i(52721),l=i(10449),c=i(24370),h=i(7358),d=i(65392);class u extends l._{constructor(e,t){super(e),this._hasExternalMaterial=!1,this._hasExternalMaterial=null!=t,this._material=null!=t?t:new d.U({width:1,color:(0,a.al)(1,0,1,1),stipplePreferContinuous:!0,isClosed:!1,falloff:0,innerWidth:1,hasPolygonOffset:!1,renderOccluded:h.yD.OccludeAndTransparent,isDecoration:!!e.isDecoration,writeDepth:!0}),this.applyProperties(e)}setGeometryFromPoint(e,t=1e3){const i=(0,n.Ue)();this.view.renderCoordsHelper.toRenderCoords(e,i)&&this.setGeometryFromRenderSpacePoint(i,t)}setGeometryFromRenderSpacePoint(e,t=1e3){this.geometry=[[[e[0]-t,e[1],e[2]],[e[0]+t,e[1],e[2]]],[[e[0],e[1]-t,e[2]],[e[0],e[1]+t,e[2]]],[[e[0],e[1],e[2]-t],[e[0],e[1],e[2]+t]]]}setGeometryFromExtent(e){const t=this.view.spatialReference,i=(0,n.Ue)(),r=(0,n.Ue)(),s=100,a=[];(0,o.i)(i,e[0],e[1],s),this.view.renderCoordsHelper.toRenderCoords(i,t,r),a.push([r[0],r[1],r[2]]),(0,o.i)(i,e[2],e[1],s),this.view.renderCoordsHelper.toRenderCoords(i,t,r),a.push([r[0],r[1],r[2]]),(0,o.i)(i,e[2],e[3],s),this.view.renderCoordsHelper.toRenderCoords(i,t,r),a.push([r[0],r[1],r[2]]),(0,o.i)(i,e[0],e[3],s),this.view.renderCoordsHelper.toRenderCoords(i,t,r),a.push([r[0],r[1],r[2]]),(0,o.i)(i,e[0],e[1],s),this.view.renderCoordsHelper.toRenderCoords(i,t,r),a.push([r[0],r[1],r[2]]),(0,o.i)(i,e[0],e[1],s),this.view.renderCoordsHelper.toRenderCoords(i,t,r),a.push([r[0],r[1],r[2]]),this.geometry=[a]}setGeometryFromFrustum(e){const t=[];e.lines.forEach((e=>{t.push([e.origin[0],e.origin[1],e.origin[2]]),t.push([e.endpoint[0],e.endpoint[1],e.endpoint[2]])})),this.geometry=[t]}setGeometryFromBoundedPlane(e){const t=[],i=e.origin,r=e.basis1,s=e.basis2,o=.5,a=(0,n.Ue)(),l=(0,n.Ue)(),c=(0,n.Ue)(),h=(0,n.Ue)();a[0]=i[0]-r[0]*o-s[0]*o,a[1]=i[1]-r[1]*o-s[1]*o,a[2]=i[2]-r[2]*o-s[2]*o,l[0]=i[0]-r[0]*o+s[0]*o,l[1]=i[1]-r[1]*o+s[1]*o,l[2]=i[2]-r[2]*o+s[2]*o,c[0]=i[0]+r[0]*o+s[0]*o,c[1]=i[1]+r[1]*o+s[1]*o,c[2]=i[2]+r[2]*o+s[2]*o,h[0]=i[0]+r[0]*o-s[0]*o,h[1]=i[1]+r[1]*o-s[1]*o,h[2]=i[2]+r[2]*o-s[2]*o,t.push([a[0],a[1],a[2]]),t.push([l[0],l[1],l[2]]),t.push([c[0],c[1],c[2]]),t.push([h[0],h[1],h[2]]),t.push([a[0],a[1],a[2]]),this.geometry=[t]}setGeometryFromSegment(e){const t=e.endRenderSpace;this.transform=(0,r.vc)(p,t);const{points:i}=e.createRenderGeometry(t,this.view.renderCoordsHelper);this.geometry=[i]}setGeometryFromSegments(e,t=n.AG){this.transform=(0,r.vc)(p,t),this.geometry=e.map((e=>e.createRenderGeometry(t,this.view.renderCoordsHelper).points))}getTransformedGeometry(){return null==this._geometry?null:this._geometry.map((e=>e.map((e=>(0,o.t)((0,n.Ue)(),e,this.transform)))))}get renderOccluded(){return this._material.parameters.renderOccluded}set renderOccluded(e){this._material.setParameters({renderOccluded:e})}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.recreateGeometry()}get width(){return this._material.parameters.width}set width(e){this._material.setParameters({width:e})}get color(){return this._material.parameters.color}set color(e){const t=1===e[3];this._material.setParameters({color:e,writeDepth:t})}get innerWidth(){return this._material.parameters.innerWidth}set innerWidth(e){this._material.setParameters({innerWidth:e})}get innerColor(){return this._material.parameters.innerColor}set innerColor(e){this._material.setParameters({innerColor:e})}get stipplePattern(){return this._material.parameters.stipplePattern}set stipplePattern(e){null!=this._material&&this._material.setParameters({stipplePattern:e})}get stippleOffColor(){return this._material.parameters.stippleOffColor}set stippleOffColor(e){this._material.setParameters({stippleOffColor:e})}get stipplePreferContinuous(){return this._material.parameters.stipplePreferContinuous}set stipplePreferContinuous(e){this._material.setParameters({stipplePreferContinuous:e})}get falloff(){return this._material.parameters.falloff}set falloff(e){this._material.setParameters({falloff:e})}get polygonOffset(){return this._material.parameters.hasPolygonOffset}set polygonOffset(e){this._material.setParameters({hasPolygonOffset:e})}createExternalResources(){}destroyExternalResources(){}createGeometries(e){for(const t of(0,c.c)(this.geometry)){const i=(0,c.Y)(this._material,t);e.addGeometry(i)}}forEachExternalMaterial(e){this._hasExternalMaterial||e(this._material)}}const p=(0,s.Ue)()},10449:(e,t,i)=>{i.d(t,{_:()=>c});var r=i(32114),s=i(3308),o=i(76169),n=i(49394),a=i(53448),l=i(26982);class c extends o.l{constructor(e){super(e),this._resources=null,this._transform=(0,s.Ue)()}get object(){return null!=this._resources?this._resources.object:null}get transform(){return this._transform}set transform(e){(0,r.JG)(this._transform,e),null!=this._resources&&(this._resources.object.transformation=this._transform)}recreate(){this.attached&&this.createResources()}recreateGeometry(){if(null==this._resources)return;const e=this._resources.object,t=this.view._stage;t.removeMany(e.geometries),e.removeAllGeometries(),this.createGeometries(e),e.visible=this.visible,t.addMany(e.geometries)}createResources(){this.destroyResources();const e=this.view._stage;if(!e)return;const t=new l.F(e,{pickable:!1,updatePolicy:a.j.SYNC}),i=new n.T({castShadow:!1});i.transformation=this._transform,this.createExternalResources(),this.createGeometries(i),e.addMany(i.geometries),this.forEachExternalMaterial((t=>e.add(t))),e.add(i),t.add(i),i.visible=this.visible,this._resources={layer:t,object:i}}destroyResources(){const e=this.view._stage;null!=this._resources&&e&&(e.remove(this._resources.object),this._resources.layer.destroy(),this.forEachExternalMaterial((t=>{e.remove(t)})),e.removeMany(this._resources.object.geometries),this._resources.object.dispose(),this.destroyExternalResources(),this._resources=null)}updateVisibility(e){null!=this._resources&&(this._resources.object.visible=e)}}},83061:(e,t,i)=>{i.d(t,{R:()=>C});var r=i(76868),s=i(32114),o=i(3308),n=i(86717),a=i(81095),l=i(56999),c=i(52721),h=i(68817),d=i(98196),u=i(468),p=i(26646),_=i(85799),g=i(63885),m=i(6087),v=i(7358),y=i(13304),b=i(21414),f=i(84891),w=i(65392);class C extends u.i{constructor(e){super(e),this._maxSize=0,this._position=(0,a.Ue)(),this._up=(0,a.Ue)(),this._right=(0,a.Ue)(),this._renderOccluded=v.yD.OccludeAndTransparent,this._color=(0,c.al)(1,0,0,1),this._outlineColor=(0,c.al)(0,0,0,1),this._outlineSize=0,this._size=32,this._outlineRenderOccluded=v.yD.Opaque,this.applyProperties(e)}createObject3DResourceFactory(e){return{view:e,createResources:e=>this._createObject3DResources(e),destroyResources:()=>{},cameraChanged:()=>this._updateTransformObject3D()}}createDrapedResourceFactory(e){return{view:e,createResources:()=>this._createDrapedResources(),destroyResources:O}}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateQuadMaterial())}get color(){return this._color}set color(e){(0,l.c)(this._color,e),this._updateQuadMaterial()}get outlineColor(){return this._outlineColor}set outlineColor(e){(0,l.c)(this._outlineColor,e),this._updateOutlineMaterial()}get outlineSize(){return this._outlineSize}set outlineSize(e){const t=0===this._outlineSize!=(0===e);this._outlineSize=e,t?this.recreateGeometry():this._updateOutlineMaterial()}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this._updateTransform())}get outlineRenderOccluded(){return this._outlineRenderOccluded}set outlineRenderOccluded(e){this._outlineRenderOccluded=e,this._updateOutlineMaterial()}set geometry({previous:e,center:t,next:i}){this._maxSize=Math.min((0,n.j)(t,e),(0,n.j)(t,i))/3,(0,n.n)(this._up,(0,n.d)(this._up,e,t)),(0,n.n)(this._right,(0,n.d)(this._right,i,t)),(0,n.c)(this._position,t),this.recreateGeometry()}_createObject3DResources(e){const t=new f.E(this._quadMaterialParameters),i=0===this._outlineSize?void 0:new w.U(this._outlineMaterialParameters);return this._createObject3DGeometries(e,t,i),{quadMaterial:t,outlineMaterial:i,forEach:e=>{e(t),i&&e(i)}}}_createObject3DGeometries(e,t,i){if((0,n.p)(this._up,a.AG)&&(0,n.p)(this._right,a.AG))return;const r=this._createGeometries(t,i);for(const t of r)e.addGeometry(t);this._updateTransformObject3D(e)}_createDrapedResources(){const e=new f.E(this._quadMaterialParameters),t=0===this._outlineSize?void 0:new w.U(this._outlineMaterialParameters),i=this._createGeometries(e,t).map((e=>new y.z(e)));return this._setTransformDraped(i),{quadMaterial:e,outlineMaterial:t,geometries:i,pixelRatioHandle:(0,r.watch)((()=>this.view.state.contentPixelRatio),(()=>this.drapedResources.recreateGeometry()))}}_createGeometries(e,t){const{up:i,right:r,corner:s}=this._getVertices(),o=function(e,t,i,r){return new g.Z(r,[[b.T.POSITION,new _.a([0,0,0,...t,...e,...i],[0,1,2,1,2,3],3,!0)]])}(i,r,s,e);return t?[o,(0,m.rh)(t,[i,s,r])]:[o]}_getVertices(){let e=this._up,t=this._right;const i=(0,n.g)(h.WM.get(),e,t);return this.isDraped&&(e=(0,n.c)(h.WM.get(),e),t=(0,n.c)(h.WM.get(),t),e[2]=0,t[2]=0,i[2]=0),{up:e,right:t,corner:i}}_updateTransform(){this.isDraped?this.drapedResources.recreateGeometry():this._updateTransformObject3D()}_updateTransformObject3D(e=this.object3dResources.object){if(!e)return;const t=this.view.state.camera,i=this._size*t.computeScreenPixelSizeAt(this._position),r=Math.min(this._maxSize,i);(0,s.vc)(S,this._position),(0,s.bA)(S,S,[r,r,r]),e.transformation=S}_setTransformDraped(e){if(0===e.length)return;const{view:{basemapTerrain:{overlayManager:t},state:{contentPixelRatio:i}}}=this,{_position:r,_size:o}=this,a=(0,n.c)(h.WM.get(),r);a[2]=p.gi;const l=R;l.spatialReference=t.renderer.spatialReference,l.x=a[0],l.y=a[1];const c=o*(this.view.overlayPixelSizeInMapUnits(l)*i),d=Math.min(this._maxSize,c);(0,s.vc)(S,a),(0,s.bA)(S,S,[d,d,1]);for(const t of e)t.transformation=S}get _quadMaterialParameters(){return{color:this._color,forceTransparentMode:!0,writeDepth:!1,polygonOffset:!0,renderOccluded:this._renderOccluded,isDecoration:this.isDecoration}}_updateQuadMaterial(){this.object3dResources.resources?.quadMaterial.setParameters(this._quadMaterialParameters),this.drapedResources.resources?.quadMaterial.setParameters(this._quadMaterialParameters)}get _outlineMaterialParameters(){return{color:this._outlineColor,width:this._outlineSize,renderOccluded:this._outlineRenderOccluded,isDecoration:this.isDecoration}}_updateOutlineMaterial(){this.object3dResources.resources?.outlineMaterial?.setParameters(this._outlineMaterialParameters),this.drapedResources.resources?.outlineMaterial?.setParameters(this._outlineMaterialParameters)}}function O(e){e.pixelRatioHandle.remove(),e.geometries=[]}const S=(0,o.Ue)(),R=(0,d.T)(0,0,void 0,null)},76169:(e,t,i)=>{i.d(t,{l:()=>s});i(39994);var r=i(76868);class s{get isDecoration(){return this._isDecoration}set isDecoration(e){this._isDecoration=e}constructor(e){this._isDecoration=!1,this._attached=!1,this._resourcesCreated=!1,this._visible=!0,this.view=e.view,this._handle=(0,r.watch)((()=>e.view.ready),(e=>{this._resourcesCreated&&(e?this._createResources():this._destroyResources())}))}applyProperties(e){let t=!1;for(const i in e)i in this&&("attached"===i?t=!!e[i]:this[i]=e[i]);this.attached=t}destroy(){this.attached=!1,this._handle.remove()}get attached(){return this._attached}set attached(e){e!==this._attached&&this.view._stage&&(this._attached=e,this._attached&&!this._resourcesCreated?this._createResources():!this._attached&&this._resourcesCreated&&this._destroyResources(),this.onAttachedChange(e))}onAttachedChange(e){}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this.attached&&this.updateVisibility(e))}_createResources(){this.createResources(),this._resourcesCreated=!0,this.updateVisibility(this.visible)}_destroyResources(){this.destroyResources(),this._resourcesCreated=!1}}},24370:(e,t,i)=>{i.d(t,{Y:()=>m,c:()=>b});var r=i(36531),s=i(84164),o=i(52721),n=i(69442),a=i(12487),l=i(92570),c=i(31725),h=i(35914),d=i(65684),u=i(85799),p=i(95399),_=i(63885),g=i(21414);function m(e,t,i=null){const s=[],m=t.mapPositions;!function(e,t){const{attributeData:{position:i},removeDuplicateStartEnd:r}=e,s=function(e){const t=e.length;return e[0]===e[t-3]&&e[1]===e[t-2]&&e[2]===e[t-1]}(i)&&r,o=i.length/3-(s?1:0),n=new Array(2*(o-1)),a=s?i.slice(0,-3):i;let l=0;for(let e=0;e<o-1;e++)n[l++]=e,n[l++]=e+1;t.push([g.T.POSITION,new u.a(a,n,3,s)])}(t,s);const b=s[0][1].data,f=s[0][1].indices.length,w=(0,h.LE)(f);return function(e,t,i){if(null!=e.attributeData.colorFeature)return;const r=e.attributeData.color;t.push([g.T.COLOR,new u.a(r??o.hq,i,4)])}(t,s,w),function(e,t,i){null==e.attributeData.sizeFeature&&t.push([g.T.SIZE,new u.a([e.attributeData.size??1],i,1,!0)])}(t,s,w),function(e,t,i){e.attributeData.normal&&t.push([g.T.NORMAL,new u.a(e.attributeData.normal,i,3)])}(t,s,w),function(e,t,i){null!=e.attributeData.colorFeature&&t.push([g.T.COLORFEATUREATTRIBUTE,new u.a([e.attributeData.colorFeature],i,1,!0)])}(t,s,w),function(e,t,i){null!=e.attributeData.sizeFeature&&t.push([g.T.SIZEFEATUREATTRIBUTE,new u.a([e.attributeData.sizeFeature],i,1,!0)])}(t,s,w),function(e,t,i){null!=e.attributeData.opacityFeature&&t.push([g.T.OPACITYFEATUREATTRIBUTE,new u.a([e.attributeData.opacityFeature],i,1,!0)])}(t,s,w),function(e,t,i){if(null==e.overlayInfo||e.overlayInfo.renderCoordsHelper.viewingMode!==d.JY.Global||!e.overlayInfo.spatialReference.isGeographic)return;const s=(0,l.bg)(i.length),o=(0,n.Iu)(e.overlayInfo.spatialReference);for(let e=0;e<s.length;e+=3)(0,a.gH)(i,e,s,e,o);const h=i.length/3,p=(0,c.xx)(h+1);let _=v,m=y,b=0,f=0;(0,r.t8)(_,s[f++],s[f++]),f++,p[0]=0;for(let e=1;e<h+1;++e)e===h&&(f=0),(0,r.t8)(m,s[f++],s[f++]),f++,b+=(0,r.TK)(_,m),p[e]=b,[_,m]=[m,_];t.push([g.T.DISTANCETOSTART,new u.a(p,t[0][1].indices,1,!0)])}(t,s,b),new _.Z(e,s,m,p.U.Line,i)}const v=(0,s.Ue)(),y=(0,s.Ue)();function b(e,t){if(null==e||0===e.length)return[];const i=[];return e.forEach((e=>{const r=e.length,s=(0,l.bg)(3*r);e.forEach(((e,t)=>{s[3*t]=e[0],s[3*t+1]=e[1],s[3*t+2]=e[2]}));const o={attributeData:{position:s,normal:t},removeDuplicateStartEnd:!1};i.push(o)})),i}},84891:(e,t,i)=>{i.d(t,{E:()=>D});var r=i(52721),s=i(44685),o=i(35031),n=i(43338),a=i(70984),l=i(5079),c=i(12045),h=i(46378),d=i(21414),u=i(79601),p=i(10056),_=i(67874),g=i(9969),m=i(62575),v=i(97994),y=i(79040),b=i(50152),f=i(91907),w=i(17346);class C extends m.A{constructor(e,t){super(e,t,new g.J(b.C,(()=>i.e(30886).then(i.bind(i,30886)))))}_createPipeline(e,t){const{oitPass:i,output:r,transparent:s,cullFace:n,draped:a,hasOccludees:l,polygonOffset:h,enableOffset:d}=e,u=i===v.M.NONE,p=i===v.M.FrontFace;return(0,w.sm)({blending:(0,o.c1)(r)&&s?(0,c.Wo)(i):null,culling:(0,w.zp)(n),depthTest:a?null:{func:(0,c.Bh)(i)},depthWrite:(0,c.W$)(e),drawBuffers:r===o.H_.Depth?{buffers:[f.Xg.NONE]}:(0,c.u_)(i,r),colorWrite:w.gf,stencilWrite:l?y.s3:null,stencilTest:l?t?y.eD:y.RY:null,polygonOffset:u||p?h?O:null:(0,c.je)(d)})}initializePipeline(e){return this._occludeePipelineState=this._createPipeline(e,!0),this._createPipeline(e,!1)}getPipeline(e){return e?this._occludeePipelineState:super.getPipeline()}}const O={factor:1,units:1};var S=i(36663),R=i(82082),x=i(57583),T=i(12907),A=i(22957);class P extends A.W{constructor(){super(...arguments),this.cullFace=a.Vr.None,this.hasVertexColors=!1,this.transparent=!1,this.discardInvisibleFragments=!1,this.polygonOffset=!1,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.objectAndLayerIdColorInstanced=!1,this.vvColor=!1,this.draped=!1,this.textureCoordinateType=R.I.None,this.emissionSource=x.jo.None,this.occlusionPass=!1,this.hasVvInstancing=!0,this.vvSize=!1,this.vvOpacity=!1}}(0,S._)([(0,T.o)({count:a.Vr.COUNT})],P.prototype,"cullFace",void 0),(0,S._)([(0,T.o)()],P.prototype,"hasVertexColors",void 0),(0,S._)([(0,T.o)()],P.prototype,"transparent",void 0),(0,S._)([(0,T.o)()],P.prototype,"discardInvisibleFragments",void 0),(0,S._)([(0,T.o)()],P.prototype,"polygonOffset",void 0),(0,S._)([(0,T.o)()],P.prototype,"enableOffset",void 0),(0,S._)([(0,T.o)()],P.prototype,"writeDepth",void 0),(0,S._)([(0,T.o)()],P.prototype,"hasOccludees",void 0),(0,S._)([(0,T.o)()],P.prototype,"terrainDepthTest",void 0),(0,S._)([(0,T.o)()],P.prototype,"cullAboveTerrain",void 0),(0,S._)([(0,T.o)()],P.prototype,"objectAndLayerIdColorInstanced",void 0),(0,S._)([(0,T.o)()],P.prototype,"vvColor",void 0),(0,S._)([(0,T.o)()],P.prototype,"draped",void 0);var E=i(5226);class D extends p.c{constructor(e){super(e,L),this._configuration=new P,this.supportsEdges=!0,this.produces=new Map([[h.r.OPAQUE_MATERIAL,e=>this._isOpaqueMaterialPass(e)],[h.r.OPAQUE_MATERIAL_WITHOUT_NORMALS,e=>this._isOpaqueNoSSAODepthPass(e)],[h.r.TRANSPARENT_MATERIAL,e=>(0,o.Lk)(e)&&this._transparent&&this.parameters.writeDepth],[h.r.TRANSPARENT_MATERIAL_WITHOUT_NORMALS,e=>(0,o.BX)(e)&&this._transparent&&this.parameters.writeDepth],[h.r.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,e=>(0,o.Lk)(e)&&this._transparent&&!this.parameters.writeDepth],[h.r.DRAPED_MATERIAL,e=>(0,o.xs)(e)]])}getConfiguration(e,t){return this._configuration.output=e,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasVertexColors=this.parameters.hasVertexColors&&!this.parameters.vvColor,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this._transparent,this._configuration.discardInvisibleFragments=this._transparent&&!this._isOpaquePass(e)&&this.parameters.discardInvisibleFragments,this._configuration.polygonOffset=this.parameters.polygonOffset,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=t.hasOccludees,this._configuration.oitPass=t.oitPass,this._configuration.enableOffset=t.camera.relativeElevation<c.ve,this._configuration.terrainDepthTest=t.terrainDepthTest&&(0,o.c1)(e),this._configuration.cullAboveTerrain=t.cullAboveTerrain,this._configuration.vvColor=!!this.parameters.vvColor,this._configuration.draped=this.parameters.draped,this._configuration}get visible(){return this.parameters.color[3]>=E.e}get _transparent(){return this.parameters.color[3]<1||this.parameters.forceTransparentMode}_isOpaquePass(e){return this._isOpaqueMaterialPass(e)||this._isOpaqueNoSSAODepthPass(e)}_isOpaqueMaterialPass(e){return e===o.H_.Highlight||(0,o.Lk)(e)&&!this._transparent}_isOpaqueNoSSAODepthPass(e){return(0,o.BX)(e)&&this.parameters.writeDepth&&!this._transparent}createGLMaterial(e){return new M(e)}createBufferWriter(){const e=(0,s.U$)().vec3f(d.T.POSITION);return(0,n.B)()&&e.vec4u8(d.T.OBJECTANDLAYERIDCOLOR),this.parameters.vvColor?e.f32(d.T.COLORFEATUREATTRIBUTE):e.vec4u8(d.T.COLOR),new u.G(e)}}class M extends l.Z{beginSlot(e){return this.getTechnique(C,e)}}class L extends _.n{constructor(){super(...arguments),this.color=r.AG,this.forceTransparentMode=!1,this.writeDepth=!0,this.hasVertexColors=!1,this.polygonOffset=!1,this.hasSlicePlane=!1,this.cullFace=a.Vr.None,this.draped=!1,this.discardInvisibleFragments=!1}}},65771:(e,t,i)=>{i.d(t,{Z:()=>p});var r=i(36663),s=i(30936),o=i(74396),n=i(81977),a=(i(39994),i(13802),i(4157),i(40266)),l=(i(56803),i(23569));i(22591);const c={bottom:"esri-text-overlay-item-anchor-bottom","bottom-right":"esri-text-overlay-item-anchor-bottom-right","bottom-left":"esri-text-overlay-item-anchor-bottom-left",top:"esri-text-overlay-item-anchor-top","top-right":"esri-text-overlay-item-anchor-top-right","top-left":"esri-text-overlay-item-anchor-top-left",center:"esri-text-overlay-item-anchor-center",right:"esri-text-overlay-item-anchor-right",left:"esri-text-overlay-item-anchor-left"};let h=class extends o.Z{get position(){return[this.x,this.y]}set position(e){this._set("x",e[0]),this._set("y",e[1])}get _textShadowColor(){const{textColor:e,backgroundColor:t}=this,i=t.clone();return i.a*=e.a,i}get _textShadow(){const e=this._textShadowColor.toCss(!0);return`0 0 ${this._textShadowSize}px ${e}`}get padding(){return.5*this.fontSize}get borderRadius(){return this.padding}set borderRadius(e){this._overrideIfSome("borderRadius",e)}constructor(e){super(e),this.x=0,this.y=0,this.text="-",this.fontSize=14,this.anchor="center",this.visible=!0,this.isDecoration=!0,this.backgroundColor=new s.Z([0,0,0,.6]),this.textColor=new s.Z([255,255,255]),this._textShadowSize=1}render(){return(0,l.h)("div",{classes:this._cssClasses(),styles:{left:Math.floor(this.x)+"px",top:Math.floor(this.y)+"px",visibility:this.visible?"visible":"hidden",fontSize:this.fontSize+"px",lineHeight:this.fontSize+"px",backgroundColor:this.backgroundColor.toCss(!0),color:this.textColor.toCss(!0),padding:this.padding+"px",borderRadius:this.borderRadius+"px",textShadow:this._textShadow}},[this.text])}renderCanvas(e){if(!this.visible)return;const t=e.font.replace(/^(.*?)px/,"");e.font=`${this.fontSize}px ${t}`;const{padding:i,borderRadius:r}=this,s=e.measureText(this.text).width,o=""!==this.text?this.fontSize:0,n=d[this.anchor];e.textAlign="center",e.textBaseline="middle";const a=s+2*i,l=o+2*i,c=this.x+n.x*a,h=this.y+n.y*l;this._roundedRect(e,c,h,a,l,r),e.fillStyle=this.backgroundColor.toCss(!0),e.fill();const u=this.x+(n.x+.5)*a,p=this.y+(n.y+.5)*l;this._renderTextShadow(e,this.text,u,p),e.fillStyle=this.textColor.toCss(!0),e.fillText(this.text,u,p)}_renderTextShadow(e,t,i,r){e.lineJoin="miter",e.fillStyle=`rgba(${this._textShadowColor.r}, ${this._textShadowColor.g}, ${this._textShadowColor.b}, ${1/u.length})`;const s=this._textShadowSize;for(const[o,n]of u)e.fillText(t,i+s*o,r+s*n)}_roundedRect(e,t,i,r,s,o){o=Math.min(o,s/2,r/2),e.beginPath(),e.moveTo(t,i+o),e.arcTo(t,i,t+o,i,o),e.lineTo(t+r-o,i),e.arcTo(t+r,i,t+r,i+o,o),e.lineTo(t+r,i+s-o),e.arcTo(t+r,i+s,t+r-o,i+s,o),e.lineTo(t+o,i+s),e.arcTo(t,i+s,t,i+s-o,o),e.closePath()}_cssClasses(){const e={"esri-text-overlay-item":!0};let t;for(t in c)e[c[t]]=this.anchor===t;return e}};(0,r._)([(0,n.Cb)()],h.prototype,"x",void 0),(0,r._)([(0,n.Cb)()],h.prototype,"y",void 0),(0,r._)([(0,n.Cb)()],h.prototype,"position",null),(0,r._)([(0,n.Cb)()],h.prototype,"text",void 0),(0,r._)([(0,n.Cb)()],h.prototype,"fontSize",void 0),(0,r._)([(0,n.Cb)()],h.prototype,"anchor",void 0),(0,r._)([(0,n.Cb)()],h.prototype,"visible",void 0),(0,r._)([(0,n.Cb)()],h.prototype,"isDecoration",void 0),(0,r._)([(0,n.Cb)()],h.prototype,"backgroundColor",void 0),(0,r._)([(0,n.Cb)()],h.prototype,"textColor",void 0),(0,r._)([(0,n.Cb)()],h.prototype,"_textShadowSize",void 0),(0,r._)([(0,n.Cb)()],h.prototype,"_textShadowColor",null),(0,r._)([(0,n.Cb)()],h.prototype,"_textShadow",null),(0,r._)([(0,n.Cb)()],h.prototype,"padding",null),(0,r._)([(0,n.Cb)()],h.prototype,"borderRadius",null),h=(0,r._)([(0,a.j)("esri.views.overlay.TextOverlayItem")],h);const d={bottom:{x:-.5,y:-1,textAlign:"center",textBaseline:"bottom"},"bottom-left":{x:0,y:-1,textAlign:"left",textBaseline:"bottom"},"bottom-right":{x:-1,y:-1,textAlign:"right",textBaseline:"bottom"},center:{x:-.5,y:-.5,textAlign:"center",textBaseline:"middle"},left:{x:0,y:-.5,textAlign:"left",textBaseline:"middle"},right:{x:-1,y:-.5,textAlign:"right",textBaseline:"middle"},top:{x:-.5,y:0,textAlign:"center",textBaseline:"top"},"top-left":{x:0,y:0,textAlign:"left",textBaseline:"top"},"top-right":{x:-1,y:0,textAlign:"right",textBaseline:"top"}},u=[];{const e=16;for(let t=0;t<360;t+=360/e)u.push([Math.cos(Math.PI*t/180),Math.sin(Math.PI*t/180)])}const p=h}}]);