"use strict";(self.webpackChunkarcgis_webpack01=self.webpackChunkarcgis_webpack01||[]).push([[30212],{50536:(e,t,r)=>{r.d(t,{Z:()=>f});var i=r(36663),n=r(41151),o=r(16068),s=r(82064),a=r(61681),c=r(81977),d=r(69236),l=(r(39994),r(4157),r(40266)),u=r(7283),h=r(98786),g=r(10186);let p=class extends(n.Z.ClonableMixin(s.Z)){constructor(e){super(e),this.type="plane",this.position=null,this.heading=0,this.tilt=0,this.width=10,this.height=10}equals(e){return this.heading===e.heading&&this.tilt===e.tilt&&(0,a._W)(this.position,e.position)&&this.width===e.width&&this.height===e.height}};(0,i._)([(0,c.Cb)({readOnly:!0,json:{read:!1,write:!0}})],p.prototype,"type",void 0),(0,i._)([(0,c.Cb)({type:g.Z}),(0,h.B)()],p.prototype,"position",void 0),(0,i._)([(0,c.Cb)({type:Number,nonNullable:!0,range:{min:0,max:360}}),(0,h.B)(),(0,d.p)((e=>o.BV.normalize((0,u.q9)(e),0,!0)))],p.prototype,"heading",void 0),(0,i._)([(0,c.Cb)({type:Number,nonNullable:!0,range:{min:0,max:360}}),(0,h.B)(),(0,d.p)((e=>o.BV.normalize((0,u.q9)(e),0,!0)))],p.prototype,"tilt",void 0),(0,i._)([(0,c.Cb)({type:Number,nonNullable:!0}),(0,h.B)()],p.prototype,"width",void 0),(0,i._)([(0,c.Cb)({type:Number,nonNullable:!0}),(0,h.B)()],p.prototype,"height",void 0),p=(0,i._)([(0,l.j)("esri.analysis.SlicePlane")],p);const f=p},52093:(e,t,r)=>{r.d(t,{S:()=>l,b:()=>d});var i=r(84614),n=r(63371),o=r(24603),s=r(20200),a=r(21414),c=r(9229);function d(e){const t=new c.kG,{vertex:r,fragment:d,attributes:l,varyings:u}=t;return(0,i.Sv)(r,e),l.add(a.T.POSITION,"vec3"),l.add(a.T.UV0,"vec2"),u.add("vUV","vec2"),r.main.add(s.H`vUV = uv0;
gl_Position = proj * view * vec4(position, 1.0);`),d.uniforms.add(new n.N("backgroundColor",(e=>e.backgroundColor)),new n.N("gridColor",(e=>e.gridColor)),new o.p("gridWidth",(e=>e.gridWidth))).main.add(s.H`const float LINE_WIDTH = 1.0;
vec2 uvScaled = vUV * gridWidth;
vec2 gridUV = (fract(uvScaled + 0.5) - 0.5) / (LINE_WIDTH * fwidth(uvScaled));
vec2 grid = (1.0 - step(0.5, gridUV)) * step(-0.5, gridUV);
grid.x *= step(0.5, uvScaled.x) * step(uvScaled.x, gridWidth - 0.5);
grid.y *= step(0.5, uvScaled.y) * step(uvScaled.y, gridWidth - 0.5);
float gridFade = max(grid.x, grid.y);
float gridAlpha = gridColor.a * gridFade;
fragColor =
vec4(backgroundColor.rgb * backgroundColor.a, backgroundColor.a) * (1.0 - gridAlpha) +
vec4(gridColor.rgb, 1.0) * gridAlpha;`),t}const l=Object.freeze(Object.defineProperty({__proto__:null,build:d},Symbol.toStringTag,{value:"Module"}))},6527:(e,t,r)=>{r.d(t,{o:()=>f});var i=r(30936),n=r(76868),o=r(81095),s=r(60812),a=r(22711),c=r(46707),d=r(74390),l=r(88698),u=r(6087),h=r(7358),g=r(65392),p=r(91258);class f extends c.Z{constructor(e,t){const r=(0,a.J0)(t),o=r?s.QG:s.cf,c=o*s.Mr,l=s.cf,u={renderOccluded:h.yD.OccludeAndTransparent,isDecoration:!0},p=new g.U({...u,width:o}),f=new g.U({...u,width:c}),M=new g.U({...u,width:l});super({view:e,...d.X9,...b({isCorner:r,unfocusedMaterial:p,focusedMaterial:f,outlineMaterial:M})}),this._themeHandle=(0,n.watch)((()=>e.effectiveTheme.accentColor),(e=>{const t=i.Z.toUnitRGBA(e);p.setParameters({color:t}),f.setParameters({color:t}),M.setParameters({color:t})}),n.initial)}destroy(){this._themeHandle.remove(),super.destroy()}}function b({isCorner:e,unfocusedMaterial:t,focusedMaterial:r,outlineMaterial:i}){const n=e?[(0,o.al)(1,0,0),(0,o.al)(0,0,0),(0,o.al)(0,1,0)]:[(0,o.al)(1,0,0),(0,o.al)(-1,0,0)];return{renderObjects:[new l.r((0,u.rh)(t,n),p.Q9.Unfocused|a.Sc),new l.r((0,u.rh)(r,n),p.Q9.Focused|a.Sc),new l.r((0,u.rh)(i,n),a.vc)],collisionType:{type:"line",paths:[n]},radius:e?s.Qf:s.yy,state:a.Sc}}},18114:(e,t,r)=>{r.d(t,{Z:()=>m});var i=r(30936),n=r(39043),o=r(76868),s=r(22711),a=r(46707),c=r(74390),d=r(88698),l=r(85799),u=r(63885),h=r(6087),g=r(7358),p=r(21414),f=r(90834),b=r(65392),M=r(91258);class m extends a.Z{constructor(e,t){const r=new f.j({writeDepth:!1,renderOccluded:g.yD.Opaque,isDecoration:!0}),s=c.vQ.calloutWidth,a=new b.U({width:s,renderOccluded:g.yD.OccludeAndTransparent,isDecoration:!0});super({view:e,..._({imageMaterial:r,calloutMaterial:a})}),this._currentTexture=null,this._themeHandle=(0,o.watch)((()=>e.effectiveTheme.accentColor),(e=>{const o=(0,n.G)(e,.5),s=(0,n.mj)(e),c=this._currentTexture,d=t(o,s);r.setParameters({textureId:d.texture.id}),a.setParameters({color:i.Z.toUnitRGBA(e)}),this._currentTexture=d,c?.release()}),o.initial)}destroy(){this._themeHandle.remove(),this._currentTexture?.release(),super.destroy()}}function _({imageMaterial:e,calloutMaterial:t}){const{focusMultiplier:r,calloutLength:i,discRadius:n}=c.vQ,o=n*r,a=(e,t)=>{const r=[0,1,2,2,3,0];return new u.Z(t,[[p.T.POSITION,new l.a([i-e,-e,0,i+e,-e,0,i+e,e,0,i-e,e,0],r,3,!0)],[p.T.UV0,new l.a([0,0,1,0,1,1,0,1],r,2,!0)]])},g=(0,h.rh)(t,[[0,0,0],[i-n,0,0]]),f=(0,h.rh)(t,[[0,0,0],[i-o,0,0]]),b=s.do;return{autoScaleRenderObjects:!1,collisionPriority:1,collisionType:{type:"disc",direction:[0,0,1],offset:[i,0,0]},focusMultiplier:r,radius:n,renderObjects:[new d.r(a(n,e),M.Q9.Unfocused|b),new d.r(g,M.Q9.Unfocused|b),new d.r(a(o,e),M.Q9.Focused|b),new d.r(f,M.Q9.Focused|b)],state:b}}},81829:(e,t,r)=>{r.d(t,{K:()=>v,l:()=>i});var i,n,o=r(30936),s=r(39043),a=r(76868),c=r(32114),d=r(3308),l=r(1845),u=r(86717),h=r(81095),g=r(68817),p=r(60812),f=r(22711),b=r(46707),M=r(88698),m=r(70984),_=r(6087),T=r(7358),w=r(84891),C=r(65392),O=r(91258);(n=i||(i={}))[n.CENTER_ON_CALLOUT=0]="CENTER_ON_CALLOUT",n[n.CENTER_ON_ARROW=1]="CENTER_ON_ARROW";class v extends b.Z{constructor(e,t){const r=new C.U({width:1,renderOccluded:T.yD.OccludeAndTransparent,isDecoration:!0}),i=new w.E({cullFace:m.Vr.Back,renderOccluded:T.yD.Opaque,isDecoration:!0}),n=new w.E({cullFace:m.Vr.Back,renderOccluded:T.yD.Opaque,isDecoration:!0}),c=new w.E({cullFace:m.Vr.Back,renderOccluded:T.yD.Opaque,isDecoration:!0}),d=new w.E({writeDepth:!1,cullFace:m.Vr.Front,renderOccluded:T.yD.Transparent,isDecoration:!0});super({view:e,...W({offsetMode:t,tubeMaterial:i,tipMaterial:n,capMaterial:c,outlineMaterial:d,calloutMaterial:r})}),this._themeHandle=(0,a.watch)((()=>e.effectiveTheme.accentColor),(e=>{const t=(0,s.mj)(e),a=o.Z.toUnitRGBA(e),l=o.Z.toUnitRGBA(t),u=o.Z.toUnitRGBA(o.Z.blendColors(t,e,.4)),h=o.Z.toUnitRGBA(o.Z.blendColors(t,e,.14));r.setParameters({color:a}),i.setParameters({color:h}),n.setParameters({color:l}),c.setParameters({color:u}),d.setParameters({color:a})}),a.initial)}destroy(){this._themeHandle.remove(),super.destroy()}}function W({offsetMode:e,tubeMaterial:t,tipMaterial:r,capMaterial:n,outlineMaterial:o,calloutMaterial:s}){const a=e===i.CENTER_ON_CALLOUT?p.Eu:0,c=[(0,h.al)(a,0,-24),(0,h.al)(a,0,p.C7/2)],d=function(e,t){const r=(0,u.d)((0,h.Ue)(),e[e.length-1],e[e.length-2]);(0,u.n)(r,r),(0,u.h)(r,r,p.GW),(0,u.g)(r,r,e[e.length-1]);{const t=(0,u.d)((0,h.Ue)(),e[0],e[1]);return(0,u.n)(t,t),(0,u.h)(t,t,p.GW),(0,u.g)(t,t,e[0]),[t,...e,r]}}(c),l=I({vertices:c,padding:0,materials:{tube:t,tip:r,cap:n}}),g=I({vertices:c,padding:p.K_,materials:{tube:o,tip:o,cap:o}}),b=(0,_.rh)(s,[[a,0,0],[a-p.Eu,0,0]]),m=(0,_.rh)(s,[[a,0,0],[a-p.Eu,0,0]]);return{renderObjects:[...l.normal.map((e=>new M.r(e,O.Q9.Unfocused|f.do))),...g.normal.map((e=>new M.r(e,O.Q9.Unfocused|f.do))),new M.r(b,O.Q9.Unfocused|f.do|f.Df),...l.focused.map((e=>new M.r(e,O.Q9.Focused|f.do))),...g.focused.map((e=>new M.r(e,O.Q9.Focused|f.do))),new M.r(m,O.Q9.Focused|f.do|f.Df)],autoScaleRenderObjects:!1,collisionType:{type:"line",paths:[d]},collisionPriority:1,radius:p.tv,state:f.do}}function I({vertices:e,padding:t,materials:r}){const i=i=>{const n=e.slice(),o=(0,u.d)(g.WM.get(),n[0],n[1]);(0,u.n)(o,o);const s=(0,u.d)(g.WM.get(),n[n.length-1],n[n.length-2]);if((0,u.n)(s,s),t>0){const e=(0,u.h)((0,h.Ue)(),s,-t);n[n.length-1]=(0,u.g)(e,e,n[n.length-1]);const r=(0,u.h)((0,h.Ue)(),o,-t);n[0]=(0,u.g)(r,r,n[0])}const a=i?p.XC:1,f=p.GW*a,b=p.tv*a,M=(0,c.yR)(g.MP.get());if(t>0){const e=f/4,r=(0,u.i)(g.WM.get(),0,e,0),i=1+t/e;(0,c.Iu)(M,M,r),(0,c.bA)(M,M,(0,u.i)(g.WM.get(),i,i,i)),(0,c.Iu)(M,M,(0,u.h)(r,r,-1/i))}const m=(0,c.yR)((0,d.Ue)()),T=(0,h.al)(0,1,0),w=(0,c.en)((0,d.Ue)(),(0,l.b0)(g.vD.get(),T,s));w[12]=n[n.length-1][0],w[13]=n[n.length-1][1],w[14]=n[n.length-1][2],(0,c.Jp)(w,w,M);const C=r.tube,O=function(e,t,r){const i=[],n=12;for(let t=0;t<n;t++){const r=t/n*2*Math.PI;i.push([Math.cos(r)*e,Math.sin(r)*e])}return(0,_.x2)(r,i,t,[],[],!1)}(p.sz*(i?p.L0:1)+t,n,C);O.transformation=m;const v=[O],W=r.tip,I=(0,_.QL)(W,f,b,24,!1,!1,!0);I.transformation=w,v.push(I);const E=r.cap,A=(0,_.QL)(E,f,b,24,!1,!0,!1);A.transformation=w,v.push(A);const y=(0,c.en)((0,d.Ue)(),(0,l.b0)(g.vD.get(),T,o));return y[12]=n[0][0],y[13]=n[0][1],y[14]=n[0][2],(0,c.Jp)(y,y,M),v.push(I.instantiate({transformation:y})),v.push(A.instantiate({transformation:y})),v};return{normal:i(!1),focused:i(!0)}}},39471:(e,t,r)=>{r.d(t,{CB:()=>o,bL:()=>s,ku:()=>n});var i=r(39043);const n=(0,r(52721).al)(0,0,0,.04);function o({accentColor:e}){return(0,i.Ch)(e,.5)}function s({accentColor:e}){return(0,i.Ch)(e,.7)}},60812:(e,t,r)=>{r.d(t,{AN:()=>l,C7:()=>C,Ci:()=>y,Eu:()=>w,G0:()=>g,GI:()=>s,GW:()=>T,K_:()=>O,L0:()=>c,Lf:()=>b,Mr:()=>a,P3:()=>u,QG:()=>v,Qf:()=>E,Wp:()=>h,XC:()=>d,Yn:()=>I,ZE:()=>p,ae:()=>R,cf:()=>W,fg:()=>M,sz:()=>m,tW:()=>o,tv:()=>_,v9:()=>f,yy:()=>A});var i=r(39994),n=r(19431);const o=(0,i.Z)("mac")?"Meta":"Control",s="Shift",a=2,c=1.15,d=1.15,l=2500,u=.02,h=Math.cos((0,n.Vl)(45)),g=Math.cos((0,n.Vl)(5)),p=.95,f=.3,b=2,M=1,m=3,_=11,T=22.5,w=40,C=48,O=2.25,v=4,W=1,I=.3,E=6,A=4,y=1600,R=.4},22711:(e,t,r)=>{r.d(t,{do:()=>_e,Df:()=>Ce,aZ:()=>Te,ww:()=>we,zY:()=>re,Lw:()=>ue,fT:()=>ee,R_:()=>pe,i3:()=>ge,j6:()=>K,Rd:()=>ie,TA:()=>te,J0:()=>he,lR:()=>Ee,Hq:()=>fe,m3:()=>Me,oP:()=>me,Sc:()=>We,vc:()=>Ie,Q3:()=>$,EC:()=>oe,A5:()=>se,wj:()=>ae,tF:()=>ne});var i=r(50536),n=(r(39994),r(13802)),o=r(19431),s=r(95550),a=r(32114),c=r(86717),d=r(81095),l=(r(91772),r(10186)),u=r(90472),h=r(19546),g=r(96739),p=r(69430),f=r(97537),b=r(5700),M=r(68817),m=r(39471),_=r(60812),T=r(28376),w=r(74390),C=r(37926),O=r(56999),v=r(52721),W=r(10449),I=r(6087),E=r(7358),A=r(35031),y=r(18841),R=r(5079),P=r(46378),U=r(79601),L=r(85266),N=r(10056),S=r(9969),D=r(62575),V=r(52093),Z=r(91907),G=r(86765),k=r(17346);class x extends G.K{constructor(){super(...arguments),this.backgroundColor=(0,v.al)(1,0,0,.5),this.gridColor=(0,v.al)(0,1,0,.5),this.gridWidth=4}}class H extends D.A{constructor(e,t){super(e,t,new S.J(V.S,(()=>r.e(52953).then(r.bind(r,52953)))))}initializePipeline(){return(0,k.sm)({blending:k.xW,depthTest:{func:Z.wb.LESS},colorWrite:k.gf})}}class j extends N.c{constructor(e){super(e,B),this.produces=new Map([[P.r.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,e=>(0,A.c1)(e)]])}get visible(){return!0}createGLMaterial(e){return new Q(e)}createBufferWriter(){return new U.G(L.W1)}getConfiguration(){return y.D}}class Q extends R.Z{constructor(e){super(e)}beginSlot(e){return this.getTechnique(H,e)}}class B extends x{constructor(){super(...arguments),this.renderOccluded=E.yD.Occlude,this.isDecoration=!1}}class F extends W._{constructor(e){super(e),this._material=null,this._renderOccluded=E.yD.OccludeAndTransparent,this._gridWidth=1,this._gridColor=(0,v.al)(1,0,0,1),this._backgroundColor=(0,v.al)(1,0,0,1),this.applyProperties(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}get gridWidth(){return this._gridWidth}set gridWidth(e){this._gridWidth!==e&&(this._gridWidth=e,this._updateMaterial())}get gridColor(){return this._gridColor}set gridColor(e){(0,O.c)(this._gridColor,e),this._updateMaterial()}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){(0,O.c)(this._backgroundColor,e),this._updateMaterial()}createExternalResources(){this._material=new j(this._materialParameters)}destroyExternalResources(){this._material=null}forEachExternalMaterial(e){null!=this._material&&e(this._material)}createGeometries(e){if(null!=this._material){const t=(0,I.g7)(this._material);e.addGeometry(t)}}get _materialParameters(){return{backgroundColor:this._backgroundColor,gridWidth:this._gridWidth,gridColor:this._gridColor,renderOccluded:this._renderOccluded,isDecoration:this.isDecoration}}_updateMaterial(){null!=this._material&&this._material.setParameters(this._materialParameters)}}var Y,q,X=r(43180),z=r(40460),J=r(91258);function K(e,t,r,i,n,o,s,a){return function(e,t,r,i,n,o){const s=(0,c.f)(e,t),a=M.WM.get(),d=M.WM.get();switch(i===we.HORIZONTAL_OR_VERTICAL?Math.abs(s)>_.Wp?we.HORIZONTAL:we.VERTICAL:i){case we.VERTICAL:{const i=Math.abs(s)<=_.G0?e:r.viewUp;(0,c.e)(a,i,t),(0,c.c)(d,t);break}case we.HORIZONTAL:(0,c.e)(a,r.viewUp,t),(0,c.e)(d,t,a);break;case we.TILTED:{const i=Math.abs(s)<=_.G0?t:r.viewUp;(0,c.e)(a,i,e),(0,c.e)(d,e,a);break}}const l=(0,c.e)(M.WM.get(),a,d);(0,c.f)(l,r.viewForward)>0&&(0,c.h)(d,d,-1),(0,c.n)(n,a),(0,c.n)(o,d)}(t,s.worldUpAtPosition(e,M.WM.get()),n,o,a.basis1,a.basis2),(0,c.h)(a.basis1,a.basis1,r),(0,c.h)(a.basis2,a.basis2,i),(0,c.c)(a.origin,e),(0,p.my)(a.basis2,a.basis1,a.origin,a.plane),a}function $(e,t,r,i,n,o){const s=(0,c.c)(M.WM.get(),n.origin);(0,c.g)(s,s,(0,c.h)(M.WM.get(),n.basis1,e.direction[0]<0?1:-1)),(0,c.g)(s,s,(0,c.h)(M.WM.get(),n.basis2,e.direction[1]<0?1:-1));const a=(0,c.l)(n.basis1),d=(0,c.l)(n.basis2),l=(0,c.d)(M.WM.get(),r,s),u=(0,c.d)(M.WM.get(),t,s);let h=0,p=0;if(he(e)){const t=ue(n),r=ue(o);h=a-.5*e.direction[0]*(0,c.f)(n.basis1,u)/a,p=d-.5*e.direction[1]*(0,c.f)(n.basis2,u)/d;const i=r/t;h*=i,p*=i}const f=h+.5*e.direction[0]*(0,c.f)(n.basis1,l)/a,b=p+.5*e.direction[1]*(0,c.f)(n.basis2,l)/d,m=(0,c.h)(M.WM.get(),n.basis1,f/a),T=(0,c.h)(M.WM.get(),n.basis2,b/d);(f<=0||de(o.origin,m,i)<=_.Ci)&&(0,c.c)(m,o.basis1),(b<=0||de(o.origin,T,i)<=_.Ci)&&(0,c.c)(T,o.basis2);const w=(0,c.c)(M.WM.get(),s);return(0,c.g)(w,w,(0,c.h)(M.WM.get(),m,e.direction[0]<0?-1:1)),(0,c.g)(w,w,(0,c.h)(M.WM.get(),T,e.direction[1]<0?-1:1)),(0,g.f)(w,m,T,o)}function ee(e,t){return _.ae*Math.min(t.width,t.height)*t.computeRenderPixelSizeAt(e)}function te(e,t,r,i){const n=(0,c.e)(M.WM.get(),t,r);return(0,c.e)(n,n,t),(0,p.Yq)(e,n,i)}function re(e,t){return(0,w.Aq)(e.basis1,e.basis2,e.origin,t)}function ie(e,t,r,i){const n=t.worldUpAtPosition(e.origin,M.WM.get()),o=M.WM.get();switch(r){case Te.HEADING:(0,c.c)(o,n);break;case Te.TILT:(0,c.c)(o,e.basis1)}return(0,p.Yq)(e.origin,o,i)}function ne(e,t,r,i){const n=ce(r,Y.NEGATIVE_X),o=M.MP.get();(0,a.jI)(o,t,n.edge*Math.PI/2);const l=(0,c.n)(M.WM.get(),n.basis);let u=(0,c.h)(M.WM.get(),l,n.direction*i.computeScreenPixelSizeAt(n.position)*_.Eu);(0,c.g)(u,u,n.position);const h=i.projectToRenderScreen(u,(0,s.Wv)(M.WM.get())),p=function(e,t){const[r,i,n,o]=e.viewport,s=Math.min(n,o)/16;let a=!0;return t[0]<r+s?(t[0]=r+s,a=!1):t[0]>r+n-s&&(t[0]=r+n-s,a=!1),t[1]<i+s?(t[1]=i+s,a=!1):t[1]>i+o-s&&(t[1]=i+o-s,a=!1),a}(i,h);(0,z.Bh)(i,h,Oe),(0,c.n)(Oe.direction,Oe.direction);const f=M.WM.get();!p&&(0,g.i)(r,Oe,f)&&(u=f),o[12]=0,o[13]=0,o[14]=0,e.modelTransform=o,e.renderLocation=(0,d.d9)(u),p?e.state|=Ce:e.state&=~Ce}function oe(e,t,r,i){const n=(0,c.l)(i.basis1),o=(0,c.l)(i.basis2),s=le(i),d=ue(i),l=(0,c.i)(M.WM.get(),0,0,0);(0,c.g)(l,(0,c.h)(M.WM.get(),i.basis1,t.direction[0]),(0,c.h)(M.WM.get(),i.basis2,t.direction[1])),(0,c.g)(l,i.origin,l);let u=0,h=1;if(he(t))1===t.direction[0]&&-1===t.direction[1]?u=ve:1===t.direction[0]&&1===t.direction[1]?u=Math.PI:-1===t.direction[0]&&1===t.direction[1]&&(u=3*Math.PI/2),h=d;else{const e=0!==t.direction[0]?1:2;u=1===e?ve:0,h=(1===e?o:n)-s}const g=(0,a.QO)(M.MP.get(),u);(0,a.bA)(g,g,(0,c.i)(M.WM.get(),h,h,h)),(0,a.Jp)(g,r,g),g[12]=0,g[13]=0,g[14]=0,e.modelTransform=g,e.renderLocation=l}function se(e,t,r,i){const n=i.worldUpAtPosition(r.origin,M.WM.get()),o=ce(r,Y.POSITIVE_X),s=(0,a.QO)(M.MP.get(),o.edge*Math.PI/2);(0,a.lM)(s,s,-be(r,n)),(0,a.Jp)(s,t,s),s[12]=0,s[13]=0,s[14]=0,e.modelTransform=s,e.renderLocation=o.position}function ae(e,t,r){const i=ce(r,Y.POSITIVE_Y),n=(0,a.QO)(M.MP.get(),i.edge*Math.PI/2);(0,a.lM)(n,n,ve),(0,a.Jp)(n,t,n),n[12]=0,n[13]=0,n[14]=0,e.modelTransform=n,e.renderLocation=i.position}function ce(e,t){switch(t){case Y.POSITIVE_X:return{basis:e.basis1,direction:1,position:(0,c.g)(M.WM.get(),e.origin,e.basis1),edge:t};case Y.POSITIVE_Y:return{basis:e.basis2,direction:1,position:(0,c.g)(M.WM.get(),e.origin,e.basis2),edge:t};case Y.NEGATIVE_X:return{basis:e.basis1,direction:-1,position:(0,c.d)(M.WM.get(),e.origin,e.basis1),edge:t};case Y.NEGATIVE_Y:return{basis:e.basis2,direction:-1,position:(0,c.d)(M.WM.get(),e.origin,e.basis2),edge:t}}}function de(e,t,r){const i=r.projectToRenderScreen((0,c.g)(M.WM.get(),e,t),(0,s.Wv)(M.WM.get())),n=r.projectToRenderScreen((0,c.d)(M.WM.get(),e,t),(0,s.Wv)(M.WM.get()));return(0,c.k)((0,c.d)(i,i,n))}function le(e){const t=(0,c.l)(e.basis1),r=(0,c.l)(e.basis2);return _.Yn*Math.min(t,r)}function ue(e){return le(e)}function he(e){return 0!==e.direction[0]&&0!==e.direction[1]}function ge(e){return new C.r({view:e,attached:!1,color:(0,m.bL)(e.effectiveTheme),width:_.fg,renderOccluded:E.yD.OccludeAndTransparent,geometry:[[[-1,-1,0],[1,-1,0],[1,1,0],[-1,1,0],[-1,-1,0]]],isDecoration:!0})}function pe(e){return new F({view:e,attached:!1,backgroundColor:m.ku,gridColor:(0,m.CB)(e.effectiveTheme),gridWidth:4,renderOccluded:E.yD.OccludeAndTransparent,isDecoration:!0})}function fe(e,t,r,n=new i.Z){if(null==e)return null;const{renderCoordsHelper:s}=t,a=s.fromRenderCoords(e.origin,new l.Z({spatialReference:t.spatialReference}));if(null==a)return null;const d=(0,u.tryProjectWithZConversion)(a,r);if(null==d)return null;n.position=d;const h=2*(0,c.l)(e.basis1),g=2*(0,c.l)(e.basis2),p=X.Z.renderUnitScaleFactor(t.spatialReference,r);n.width=h*p,n.height=g*p;const f=s.worldUpAtPosition(e.origin,M.WM.get());return n.tilt=(0,o.BV)(be(e,f)),n.heading=s.headingAtPosition(e.origin,e.basis1)-90,n}function be(e,t){return(0,b.cp)(t,e.basis2,e.basis1)+ve}function Me(e,t){if(null==e?.position)return null;const r=(0,T.G)(e.position,t.spatialReference,t.elevationProvider);if(null==r)return null;const i=X.Z.renderUnitScaleFactor(e.position.spatialReference,t.spatialReference),n=e.width*i,o=e.height*i;return{position:r,heading:e.heading,tilt:e.tilt,renderWidth:n,renderHeight:o}}function me(e,t,r,i=(0,g.d)()){if(null==e)return null;const s=function(e,t,r,i,s,a,d=(0,g.d)()){return a.toRenderCoords(e,d.origin)?(a.worldBasisAtPosition(d.origin,h.R.X,d.basis1),a.worldBasisAtPosition(d.origin,h.R.Y,d.basis2),(0,p.my)(d.basis2,d.basis1,d.origin,d.plane),(0,g.r)(d,-(0,o.Vl)(t),(0,g.n)(d),d),(0,g.r)(d,(0,o.Vl)(r),d.basis1,d),(0,c.h)(d.basis1,d.basis1,i/2),(0,c.h)(d.basis2,d.basis2,s/2),(0,g.u)(d),d):(n.Z.getLogger("esri.views.3d.analysis.Slice.sliceToolUtils").error(`Failed to project slice plane position, projection from ${e.spatialReference.wkid} is not supported`),null)}(e.position,e.heading,e.tilt,e.renderWidth,e.renderHeight,t.renderCoordsHelper,i);return r.tiltEnabled||null==s||function(e,t,r){const i=t.worldUpAtPosition(e.origin,M.WM.get()),n=e.basis1,o=be(e,i),s=Math.round(o/ve)*ve;(0,g.r)(e,s-o,n,r)}(s,t.renderCoordsHelper,s),s}(q=Y||(Y={}))[q.POSITIVE_X=0]="POSITIVE_X",q[q.POSITIVE_Y=1]="POSITIVE_Y",q[q.NEGATIVE_X=2]="NEGATIVE_X",q[q.NEGATIVE_Y=3]="NEGATIVE_Y";const _e=J.jg.Custom1;var Te,we;!function(e){e[e.HEADING=1]="HEADING",e[e.TILT=2]="TILT"}(Te||(Te={})),function(e){e[e.HORIZONTAL_OR_VERTICAL=0]="HORIZONTAL_OR_VERTICAL",e[e.HORIZONTAL=1]="HORIZONTAL",e[e.VERTICAL=2]="VERTICAL",e[e.TILTED=3]="TILTED"}(we||(we={}));const Ce=J.jg.Custom2,Oe=(0,f.Ue)(),ve=Math.PI/2,We=J.jg.Custom1,Ie=J.jg.Custom2;function Ee(e){return null!=("building-scene-3d"===e.type?e:null)}}}]);