"use strict";(self.webpackChunkarcgis_webpack01=self.webpackChunkarcgis_webpack01||[]).push([[62272],{36209:(t,e,r)=>{r.d(e,{A:()=>a,E:()=>o});var n=r(10186),s=r(68403);function a(t,e,r=i){return new n.Z({x:t[r.originX],y:t[r.originY],z:t[r.originZ],spatialReference:e})}function o(t,e=i){return new s.Z({translation:[t[e.translationX],-t[e.translationZ],t[e.translationY]],rotationAxis:[t[e.rotationX],-t[e.rotationZ],t[e.rotationY]],rotationAngle:t[e.rotationDeg],scale:[t[e.scaleX],t[e.scaleZ],t[e.scaleY]]})}const i={originX:"originX",originY:"originY",originZ:"originZ",translationX:"translationX",translationY:"translationY",translationZ:"translationZ",scaleX:"scaleX",scaleY:"scaleY",scaleZ:"scaleZ",rotationX:"rotationX",rotationY:"rotationY",rotationZ:"rotationZ",rotationDeg:"rotationDeg"}},84095:(t,e,r)=>{r.r(e),r.d(e,{assetMapFromAssetMapsJSON:()=>E,extractMesh:()=>g,meshFeatureSetFromJSON:()=>m});var n=r(80085),s=r(13802),a=r(86114),o=r(91772),i=r(15857),u=r(14685),l=r(57450),c=r(13449),f=r(51211),p=r(36209);function m(t,e,r){const s=r.features;r.features=[],delete r.geometryType;const a=f.Z.fromJSON(r);if(a.geometryType="mesh",!r.assetMaps)return a;const o=E(e,r.assetMaps),i=t.sourceSpatialReference??u.Z.WGS84,l=r.globalIdFieldName,{outFields:c}=t,p=null!=c&&c.length>0?(m=c.includes("*")?null:new Set(c),({attributes:t})=>{if(!t)return{};if(!m)return t;for(const e in t)m.has(e)||delete t[e];return t}):()=>({});var m;for(const t of s){const r=g(t,l,i,e,o);a.features.push(new n.Z({geometry:r,attributes:p(t)}))}return a}function g(t,e,r,n,s){const a=t.attributes[e],u=s.get(a);if(null==u||!t.geometry)return null;const c=(0,p.A)(t.attributes,r,n.transformFieldRoles),f=o.Z.fromJSON(t.geometry);f.spatialReference=r;const m=(0,p.E)(t.attributes,n.transformFieldRoles),g=r.isGeographic?"local":"georeferenced",h=function(t){const e=Array.from(t.files.values()),r=new Array;for(const t of e){if(t.status!==d.COMPLETED)return null;const e=new Array;for(const r of t.parts){if(!r)return null;e.push(new l.LL(r.url,r.hash))}r.push(new l.CP(t.name,t.mimeType,e))}return r}(u);return h?i.default.createWithExternalSource(c,h,{extent:f,transform:m,vertexSpace:g,unitConversionDisabled:!0}):i.default.createIncomplete(c,{extent:f,transform:m,vertexSpace:g})}var d,h;function E(t,e){const r=new Map;for(const n of e){const e=n.parentGlobalId;if(null==e)continue;const o=n.assetName,i=n.assetType,u=n.assetHash,l=n.assetURL,f=n.conversionStatus,p=n.seqNo,m=(0,c.d1)(i,t.supportedFormats);if(!m){s.Z.getLogger("esri.rest.support.meshFeatureSet").error("mesh-feature-set:unknown-format",`Service returned an asset of type ${i}, but it does not list it as a supported type`);continue}const g=(0,a.s1)(r,e,(()=>({files:new Map})));(0,a.s1)(g.files,o,(()=>({name:o,type:i,mimeType:m,status:Z(f),parts:[]}))).parts[p]={hash:u,url:l}}return r}function Z(t){switch(t){case"COMPLETED":case"SUBMITTED":return d.COMPLETED;case"INPROGRESS":return d.PENDING;default:return d.FAILED}}(h=d||(d={}))[h.FAILED=0]="FAILED",h[h.PENDING=1]="PENDING",h[h.COMPLETED=2]="COMPLETED"}}]);