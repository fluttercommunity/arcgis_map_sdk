"use strict";(self.webpackChunkarcgis_webpack01=self.webpackChunkarcgis_webpack01||[]).push([[2434],{6415:(e,t,i)=>{i.d(t,{I:()=>v,b:()=>x});var s=i(61681),n=i(69666),r=i(35031),a=i(5885),o=i(4731),l=i(73393),h=i(44391),d=i(32394),u=i(84614),p=i(93072),c=i(24603),_=i(23410),m=i(3961),y=i(15176),g=i(42842),f=i(21414);function x(e){const t=new m.kG,{vertex:i,fragment:x}=t;return(0,u.Sv)(i,e),t.include(o.w,e),t.attributes.add(f.T.POSITION,"vec3"),t.attributes.add(f.T.UV0,"vec2"),t.varyings.add("vpos","vec3"),e.hasMultipassTerrain&&t.varyings.add("depth","float"),i.uniforms.add(new p.A("textureCoordinateScaleFactor",(e=>(0,s.pC)(e.texture)&&(0,s.pC)(e.texture.descriptor.textureCoordinateScaleFactor)?e.texture.descriptor.textureCoordinateScaleFactor:n.O))),i.code.add(_.H`
    void main(void) {
      vpos = position;
      ${e.hasMultipassTerrain?"depth = (view * vec4(vpos, 1.0)).z;":""}
      vTexCoord = uv0 * textureCoordinateScaleFactor;
      gl_Position = transformPosition(proj, view, vpos);
    }
  `),t.include(a.f5,e),t.include(l.l,e),x.uniforms.add([new y.A("tex",(e=>e.texture)),new c.p("opacity",(e=>e.opacity))]),t.varyings.add("vTexCoord","vec2"),e.output===r.H.Alpha?x.code.add(_.H`
    void main() {
      discardBySlice(vpos);
      ${e.hasMultipassTerrain?"terrainDepthTest(gl_FragCoord, depth);":""}

      float alpha = texture2D(tex, vTexCoord).a * opacity;
      if (alpha  < ${_.H.float(h.F)}) {
        discard;
      }

      gl_FragColor = vec4(alpha);
    }
    `):(x.include(d.Y),x.code.add(_.H`
    void main() {
      discardBySlice(vpos);
      ${e.hasMultipassTerrain?"terrainDepthTest(gl_FragCoord, depth);":""}
      gl_FragColor = texture2D(tex, vTexCoord) * opacity;

      if (gl_FragColor.a < ${_.H.float(h.F)}) {
        discard;
      }

      gl_FragColor = highlightSlice(gl_FragColor, vpos);
      ${e.transparencyPassType===g.A.Color?"gl_FragColor = premultiplyAlpha(gl_FragColor);":""}
    }
    `)),t}const v=Object.freeze(Object.defineProperty({__proto__:null,build:x},Symbol.toStringTag,{value:"Module"}))},60797:(e,t,i)=>{i.d(t,{SR:()=>u,Ui:()=>d});var s=i(61681),n=i(24568),r=i(79880),a=i(38028),o=i(53736),l=i(25266),h=i(35925);function d(e){return p(e,!0)}function u(e){return p(e,!1)}function p(e,t){if((0,s.Wi)(e))return null;const i=e.spatialReference,n=(0,h.C5)(i),a="toJSON"in e?e.toJSON():e;if(!n)return a;const d=(0,h.sS)(i)?102100:4326,u=l.UZ[d].maxX,p=l.UZ[d].minX;if((0,o.wp)(a))return _(a,u,p);if((0,o.aW)(a))return a.points=a.points.map((e=>_(e,u,p))),a;if((0,o.YX)(a))return c(a,n);if((0,o.oU)(a)||(0,o.l9)(a)){const e=(0,r.$P)(v,a),i={xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3]},s=(0,l.XZ)(i.xmin,p)*(2*u),n=0===s?a:(0,l.Sy)(a,s);return i.xmin+=s,i.xmax+=s,i.xmax>u?f(n,u,t):i.xmin<p?f(n,p,t):n}return a}function c(e,t){if(!t)return e;const i=function(e,t){const i=[],{ymin:s,ymax:n,xmin:r,xmax:a}=e,o=e.xmax-e.xmin,[l,h]=t.valid,{x:d,frameId:u}=m(e.xmin,t),{x:p,frameId:c}=m(e.xmax,t),_=d===p&&o>0;if(o>2*h){const e={xmin:r<a?d:p,ymin:s,xmax:h,ymax:n},t={xmin:l,ymin:s,xmax:r<a?p:d,ymax:n},o={xmin:0,ymin:s,xmax:h,ymax:n},_={xmin:l,ymin:s,xmax:0,ymax:n},m=[],g=[];y(e,o)&&m.push(u),y(e,_)&&g.push(u),y(t,o)&&m.push(c),y(t,_)&&g.push(c);for(let e=u+1;e<c;e++)m.push(e),g.push(e);i.push(new x(e,[u]),new x(t,[c]),new x(o,m),new x(_,g))}else d>p||_?i.push(new x({xmin:d,ymin:s,xmax:h,ymax:n},[u]),new x({xmin:l,ymin:s,xmax:p,ymax:n},[c])):i.push(new x({xmin:d,ymin:s,xmax:p,ymax:n},[u]));return i}(e,t).map((e=>e.extent));return i.length<2?i[0]||e:i.length>2?(e.xmin=t.valid[0],e.xmax=t.valid[1],e):{rings:i.map((e=>[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]))}}function _(e,t,i){if(Array.isArray(e)){const s=e[0];if(s>t){const i=(0,l.XZ)(s,t);e[0]=s+i*(-2*t)}else if(s<i){const t=(0,l.XZ)(s,i);e[0]=s+t*(-2*i)}}else{const s=e.x;if(s>t){const i=(0,l.XZ)(s,t);e.x+=i*(-2*t)}else if(s<i){const t=(0,l.XZ)(s,i);e.x+=t*(-2*i)}}return e}function m(e,t){const[i,s]=t.valid,n=2*s;let r,a=0;return e>s?(r=Math.ceil(Math.abs(e-s)/n),e-=r*n,a=r):e<i&&(r=Math.ceil(Math.abs(e-i)/n),e+=r*n,a=-r),{x:e,frameId:a}}function y(e,t){const{xmin:i,ymin:s,xmax:n,ymax:r}=t;return g(e,i,s)&&g(e,i,r)&&g(e,n,r)&&g(e,n,s)}function g(e,t,i){return t>=e.xmin&&t<=e.xmax&&i>=e.ymin&&i<=e.ymax}function f(e,t,i=!0){const s=!(0,o.l9)(e);if(s&&(0,a.Zy)(e),i)return(new C).cut(e,t);const n=s?e.rings:e.paths,r=s?4:2,l=n.length,h=-2*t;for(let e=0;e<l;e++){const t=n[e];if(t&&t.length>=r){const e=[];for(const i of t)e.push([i[0]+h,i[1]]);n.push(e)}}return s?e.rings=n:e.paths=n,e}class x{constructor(e,t){this.extent=e,this.frameIds=t}}const v=(0,n.Ue)();class C{constructor(){this._linesIn=[],this._linesOut=[]}cut(e,t){let i;if(this._xCut=t,e.rings)this._closed=!0,i=e.rings,this._minPts=4;else{if(!e.paths)return null;this._closed=!1,i=e.paths,this._minPts=2}for(const e of i){if(!e||e.length<this._minPts)continue;let t=!0;for(const i of e)t?(this.moveTo(i),t=!1):this.lineTo(i);this._closed&&this.close()}this._pushLineIn(),this._pushLineOut(),i=[];for(const e of this._linesIn)e&&e.length>=this._minPts&&i.push(e);const s=-2*this._xCut;for(const e of this._linesOut)if(e&&e.length>=this._minPts){for(const t of e)t[0]+=s;i.push(e)}return this._closed?e.rings=i:e.paths=i,e}moveTo(e){this._pushLineIn(),this._pushLineOut(),this._prevSide=this._side(e[0]),this._moveTo(e[0],e[1],this._prevSide),this._prevPt=e,this._firstPt=e}lineTo(e){const t=this._side(e[0]);if(t*this._prevSide==-1){const i=this._intersect(this._prevPt,e);this._lineTo(this._xCut,i,0),this._prevSide=0,this._lineTo(e[0],e[1],t)}else this._lineTo(e[0],e[1],t);this._prevSide=t,this._prevPt=e}close(){const e=this._firstPt,t=this._prevPt;e[0]===t[0]&&e[1]===t[1]||this.lineTo(e),this._checkClosingPt(this._lineIn),this._checkClosingPt(this._lineOut)}_moveTo(e,t,i){this._closed?(this._lineIn.push([i<=0?e:this._xCut,t]),this._lineOut.push([i>=0?e:this._xCut,t])):(i<=0&&this._lineIn.push([e,t]),i>=0&&this._lineOut.push([e,t]))}_lineTo(e,t,i){this._closed?(this._addPolyVertex(this._lineIn,i<=0?e:this._xCut,t),this._addPolyVertex(this._lineOut,i>=0?e:this._xCut,t)):i<0?(0===this._prevSide&&this._pushLineOut(),this._lineIn.push([e,t])):i>0?(0===this._prevSide&&this._pushLineIn(),this._lineOut.push([e,t])):this._prevSide<0?(this._lineIn.push([e,t]),this._lineOut.push([e,t])):this._prevSide>0&&(this._lineOut.push([e,t]),this._lineIn.push([e,t]))}_addPolyVertex(e,t,i){const s=e.length;s>1&&e[s-1][0]===t&&e[s-2][0]===t?e[s-1][1]=i:e.push([t,i])}_checkClosingPt(e){const t=e.length;t>3&&e[0][0]===this._xCut&&e[t-2][0]===this._xCut&&e[1][0]===this._xCut&&(e[0][1]=e[t-2][1],e.pop())}_side(e){return e<this._xCut?-1:e>this._xCut?1:0}_intersect(e,t){const i=(this._xCut-e[0])/(t[0]-e[0]);return e[1]+i*(t[1]-e[1])}_pushLineIn(){this._lineIn&&this._lineIn.length>=this._minPts&&this._linesIn.push(this._lineIn),this._lineIn=[]}_pushLineOut(){this._lineOut&&this._lineOut.length>=this._minPts&&this._linesOut.push(this._lineOut),this._lineOut=[]}}},7014:(e,t,i)=>{i.d(t,{L:()=>p});var s=i(36663),n=i(53443),r=i(61681),a=i(81977),o=(i(7283),i(7753),i(40266)),l=i(89542),h=i(90472),d=i(24568),u=i(60797);let p=class extends n.Z{constructor(e){super(e)}get bounds(){const e=this.coords;return(0,r.Wi)(e)||(0,r.Wi)(e.extent)?null:(0,d.oJ)(e.extent)}get coords(){const e=(0,r.Wg)(this.element.georeference)?.coords;return(0,h.dz)(e,this.spatialReference).geometry}get normalizedCoords(){return l.Z.fromJSON((0,u.Ui)(this.coords))}get normalizedBounds(){const e=(0,r.pC)(this.normalizedCoords)?this.normalizedCoords.extent:null;return(0,r.pC)(e)?(0,d.oJ)(e):null}};(0,s._)([(0,a.Cb)()],p.prototype,"spatialReference",void 0),(0,s._)([(0,a.Cb)()],p.prototype,"element",void 0),(0,s._)([(0,a.Cb)()],p.prototype,"bounds",null),(0,s._)([(0,a.Cb)()],p.prototype,"coords",null),(0,s._)([(0,a.Cb)()],p.prototype,"normalizedCoords",null),(0,s._)([(0,a.Cb)()],p.prototype,"normalizedBounds",null),p=(0,s._)([(0,o.j)("esri.layers.support.MediaElementView")],p)},19654:(e,t,i)=>{i.d(t,{A:()=>d});var s=i(36663),n=i(23148),r=i(78668),a=i(76868),o=i(81977),l=(i(7283),i(7753),i(40266)),h=i(64862);const d=e=>{let t=class extends e{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(e){super.postscript(e),(0,h.qC)(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const e=new AbortController,t=e.signal;this.handles.add((0,n.kB)((()=>e.abort()))),await(0,a.N1)((()=>this.view.defaultsFromMap?.heightModelInfoReady),t),(0,r.k_)(t);const i=(0,h.Wt)(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}canResume(){const e=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return super.canResume()&&(!e||!e.minScale||!e.maxScale||e.minScale>=e.maxScale)}getSuspendInfo(){const e=super.getSuspendInfo(),t=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return t&&t.minScale&&t.maxScale&&t.minScale<t.maxScale&&(e.outsideScaleRange=!0),e}};return(0,s._)([(0,o.Cb)()],t.prototype,"view",void 0),(0,s._)([(0,o.Cb)()],t.prototype,"slicePlaneEnabled",void 0),t=(0,s._)([(0,l.j)("esri.views.3d.layers.LayerView3D")],t),t}},32434:(e,t,i)=>{i.r(t),i.d(t,{default:()=>E});var s=i(36663),n=i(23148),r=i(61681),a=i(78668),o=i(76868),l=i(81977),h=(i(7283),i(7753),i(40266)),d=i(24568),u=i(7014),p=i(43977),c=i(19654),_=i(99608),m=i(85799),y=i(70984),g=i(45467),f=i(79341),x=i(13304),v=i(44101),C=i(53448),T=i(21414),w=i(79591),S=i(26216),P=i(91907);let O=class extends((0,c.A)(S.Z)){constructor(){super(...arguments),this.type="media-3d",this.drapeSourceType=p.Lw.RasterImage,this.updatePolicy=C.j.ASYNC,this._uidToElement=new Map,this._renderedElements=new Map,this._lastDrapingExtent=null,this._update=(0,a.Ds)((async(e,t,i)=>{const s=await this._collectMediaElements(e,t,i);this._synchronizeRenderElements(s)}),0)}initialize(){this._renderer=this.view.basemapTerrain.overlayManager.registerGeometryDrapeSource(this);const e=()=>this._updateWithLastDrapingExtent();this.handles.add([(0,n.kB)((()=>this.view.basemapTerrain.overlayManager.unregisterDrapeSource(this))),(0,o.on)((()=>this.layer.effectiveSource),"change",e),(0,o.on)((()=>this.layer.effectiveSource),"refresh",e)]),this.updatingHandles.add((()=>this.suspended),e)}setDrapingExtent(e,t){this._lastDrapingExtent={overlays:e,spatialReference:t},this._updateWithLastDrapingExtent()}getHit(e){const t=this._uidToElement.get(e);return t?{type:"media",element:t,layer:this.layer}:null}_updateWithLastDrapingExtent(){if((0,r.Wi)(this._lastDrapingExtent)||this.suspended)return void(this._renderer&&this._synchronizeRenderElements(new Set));const{overlays:e,spatialReference:t}=this._lastDrapingExtent;this.updatingHandles.addPromise(this._update(e,t).catch((()=>{})))}async _collectMediaElements(e,t,i){const s=this.layer.effectiveSource;return(0,r.Wi)(s)?new Set:new Set((await Promise.all(e.map((e=>s.queryElements((0,d.HH)(e.extent,t),{signal:i}))))).flat())}_synchronizeRenderElements(e){this._synchronizeRenderElementsRemove(e),this._synchronizeRenderElementsAdd(e)}_synchronizeRenderElementsRemove(e){const t=new Set,i=[];this._renderedElements.forEach(((s,n)=>{e.has(n)||(t.add(n),(0,r.pC)(s.renderData)&&i.push(s.renderData.renderGeometry),this._removeElement(n,s))})),this._renderer.removeGeometries(i,f.T.REMOVE)}_synchronizeRenderElementsAdd(e){for(const t of e)this._renderedElements.has(t)||this._createRenderElement(t)}_removeElement(e,{renderData:t,handle:i}){this._destroyRenderData(t),this._renderedElements.delete(e),this._uidToElement.delete(e.uid),i.remove()}async _createRenderElement(e){const t=new u.L({spatialReference:this.view.spatialReference,element:e}),i={renderData:null,handle:(0,n.AL)([this.updatingHandles.add((()=>e.opacity),(e=>{(0,r.pC)(i.renderData)&&i.renderData.material.setParameters({opacity:e})})),this.updatingHandles.add((()=>t.coords),(e=>{(0,r.pC)(i.renderData)?this._updateGeometry(i,i.renderData,e):this._initializeRenderData(t,i)})),this.updatingHandles.add((()=>e.content),(()=>this._initializeRenderData(t,i))),(0,n.ed)(t)])};this._renderedElements.set(e,i),this._uidToElement.set(e.uid,e),this.updatingHandles.addPromise(e.load().catch((()=>{}))),this._initializeRenderData(t,i)}_initializeRenderData(e,t){const{coords:i,element:s}=e;if((0,r.Wi)(i)||(0,r.Wi)(s.content))return void(t.renderData=this._destroyRenderData(t.renderData));if((0,r.pC)(t.renderData))return;const n=this._createTexture(s.content);this.view._stage.add(n);const o=this.view._stage.loadImmediate(n);(0,a.y8)(o)&&this.updatingHandles.addPromise(o);const l=new w.j({initTextureTransparent:!0,textureId:n.id,opacity:s.opacity,transparent:!0}),h=this._positionVertexBufferFromCoordinates(i),d=[0,1,2,0,2,3],u=new g.Z(l,[[T.T.POSITION,new m.a(h,3,!0)],[T.T.UV0,new m.a([0,0,1,0,1,1,0,1],2,!0)]],[[T.T.POSITION,d],[T.T.UV0,d]]),p=new x.z(u,{layerUid:this.layer.uid,graphicUid:s.uid});this._renderer.addGeometries([p],f.T.ADD),t.renderData={renderGeometry:p,texture:n,material:l}}_updateGeometry(e,t,i){if((0,r.Wi)(i))return void(e.renderData=this._destroyRenderData(e.renderData));const s=this._positionVertexBufferFromCoordinates(i);t.renderGeometry.vertexAttributes.get(T.T.POSITION).data=s,this._renderer.modifyGeometries([t.renderGeometry],f.$.GEOMETRY)}_positionVertexBufferFromCoordinates(e){const[t,i,s,n]=e.rings[0];return[t[0],t[1],_.Rn,n[0],n[1],_.Rn,s[0],s[1],_.Rn,i[0],i[1],_.Rn]}_destroyRenderData(e){return(0,r.Wi)(e)||(this.view._stage.remove(e.texture),this._renderer.removeGeometries([e.renderGeometry],f.T.REMOVE),e.material.dispose()),null}_createTexture(e){const t=e instanceof HTMLImageElement?e.naturalWidth:e.width,i=e instanceof HTMLImageElement?e.naturalHeight:e.height;return new v.x(e,{wrap:{s:P.e8.CLAMP_TO_EDGE,t:P.e8.CLAMP_TO_EDGE},preMultiplyAlpha:!0,width:t,height:i,mipmap:!0,powerOfTwoResizeMode:y.CE.STRETCH,updateCallback:()=>this.view.basemapTerrain.overlayManager.setDrawTexturesDirty()})}get test(){const e=this;return{get numberOfElements(){return e._renderedElements.size}}}};(0,s._)([(0,l.Cb)({readOnly:!0})],O.prototype,"type",void 0),(0,s._)([(0,l.Cb)()],O.prototype,"layer",void 0),O=(0,s._)([(0,h.j)("esri.views.3d.layers.MediaLayerView3D")],O);const E=O},79591:(e,t,i)=>{i.d(t,{j:()=>E});var s=i(35031),n=i(70984),r=i(80776),a=i(7358),o=i(12045),l=i(46378),h=i(79601),d=i(85266),u=i(10056),p=i(36663),c=(i(23410),i(9969)),_=i(52756),m=i(67197),y=i(5474),g=i(95194),f=i(79040),x=i(42842),v=i(86942),C=i(6415),T=i(91907),w=i(17346);class S extends _.A{initializeProgram(e){return new g.$(e.rctx,S.shader.get().build(this.configuration),y.i)}_setPipelineState(e,t){const i=this.configuration,n=e===x.A.NONE,r=e===x.A.FrontFace;return(0,w.sm)({blending:i.output!==s.H.Color&&i.output!==s.H.Alpha||!i.transparent?null:n?P:(0,o.j7)(e),culling:(0,w.zp)(i.cullFace),depthTest:{func:(0,o.Bh)(e)},depthWrite:n?i.writeDepth?w.LZ:null:(0,o.K5)(e),colorWrite:w.BK,stencilWrite:i.hasOccludees?f.s3:null,stencilTest:i.hasOccludees?t?f.eD:f.RY:null,polygonOffset:n||r?null:(0,o.je)(i.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this._setPipelineState(this.configuration.transparencyPassType,!0),this._setPipelineState(this.configuration.transparencyPassType,!1)}getPipelineState(e,t){return t?this._occludeePipelineState:super.getPipelineState(e,t)}}S.shader=new c.J(C.I,(()=>i.e(7204).then(i.bind(i,47204))));const P=(0,w.if)(T.zi.ONE,T.zi.ONE_MINUS_SRC_ALPHA);class O extends v.W{constructor(){super(...arguments),this.output=s.H.Color,this.cullFace=n.Vr.None,this.hasSlicePlane=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.transparencyPassType=x.A.NONE,this.hasMultipassTerrain=!1,this.cullAboveGround=!1}}(0,p._)([(0,m.o)({count:s.H.COUNT})],O.prototype,"output",void 0),(0,p._)([(0,m.o)({count:n.Vr.COUNT})],O.prototype,"cullFace",void 0),(0,p._)([(0,m.o)()],O.prototype,"hasSlicePlane",void 0),(0,p._)([(0,m.o)()],O.prototype,"transparent",void 0),(0,p._)([(0,m.o)()],O.prototype,"enableOffset",void 0),(0,p._)([(0,m.o)()],O.prototype,"writeDepth",void 0),(0,p._)([(0,m.o)()],O.prototype,"hasOccludees",void 0),(0,p._)([(0,m.o)({count:x.A.COUNT})],O.prototype,"transparencyPassType",void 0),(0,p._)([(0,m.o)()],O.prototype,"hasMultipassTerrain",void 0),(0,p._)([(0,m.o)()],O.prototype,"cullAboveGround",void 0);class E extends u.c{constructor(e){super(e,new R),this.supportsEdges=!0,this._configuration=new O}getConfiguration(e,t){return this._configuration.output=e,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this.parameters.transparent,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=this.parameters.hasOccludees,this._configuration.transparencyPassType=t.transparencyPassType,this._configuration.enableOffset=t.camera.relativeElevation<o.ve,this._configuration.hasMultipassTerrain=t.multipassTerrain.enabled,this._configuration.cullAboveGround=t.multipassTerrain.cullAboveGround,this._configuration}requiresSlot(e,t){return(t===s.H.Color||t===s.H.Alpha||t===s.H.Highlight)&&(e===l.r.DRAPED_MATERIAL||(t===s.H.Highlight?e===l.r.OPAQUE_MATERIAL:e===(this.parameters.transparent?this.parameters.writeDepth?l.r.TRANSPARENT_MATERIAL:l.r.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL:l.r.OPAQUE_MATERIAL)))}createGLMaterial(e){return new b(e)}createBufferWriter(){return new h.G(d.W1)}}class b extends r.F{constructor(e){super({...e,...e.material.parameters})}_updateParameters(e){return this.updateTexture(this._material.parameters.textureId),this._material.setParameters(this.textureBindParameters),this.ensureTechnique(S,e)}_updateOccludeeState(e){e.hasOccludees!==this._material.parameters.hasOccludees&&(this._material.setParameters({hasOccludees:e.hasOccludees}),this._updateParameters(e))}beginSlot(e){return this._output!==s.H.Color&&this._output!==s.H.Alpha||this._updateOccludeeState(e),this._updateParameters(e)}}class R extends a.Mt{constructor(){super(...arguments),this.transparent=!1,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=n.Vr.None,this.hasOccludees=!1,this.opacity=1,this.textureId=null,this.initTextureTransparent=!0}}},26216:(e,t,i)=>{i.d(t,{Z:()=>_});var s=i(36663),n=i(53443),r=i(31355),a=i(53280),o=i(86618),l=i(13802),h=i(61681),d=i(64189),u=i(81977),p=(i(7283),i(7753),i(40266));let c=class extends((0,a.p)((0,o.IG)((0,d.v)(r.Z.EventedMixin(n.Z))))){constructor(e){super(e),this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if("layerview:create-error"!==e.name){const t=this.layer&&this.layer.id||"no id",i=this.layer&&this.layer.title||"no title";l.Z.getLogger(this.declaredClass).error("#resolve()",`Failed to resolve layer view (layer title: '${i}', id: '${t}')`,e)}}))}get fullOpacity(){return(0,h.Pt)(this.get("layer.opacity"),1)*(0,h.Pt)(this.get("parent.fullOpacity"),1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this.updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome("visible",e)}canResume(){return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready||!1}getSuspendInfo(){const e=this.parent&&this.parent.suspended?this.parent.suspendInfo:{};return this.view&&this.view.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};(0,s._)([(0,u.Cb)()],c.prototype,"fullOpacity",null),(0,s._)([(0,u.Cb)()],c.prototype,"layer",void 0),(0,s._)([(0,u.Cb)()],c.prototype,"parent",void 0),(0,s._)([(0,u.Cb)({readOnly:!0})],c.prototype,"suspended",null),(0,s._)([(0,u.Cb)({readOnly:!0})],c.prototype,"suspendInfo",null),(0,s._)([(0,u.Cb)({readOnly:!0})],c.prototype,"legendEnabled",null),(0,s._)([(0,u.Cb)({type:Boolean,readOnly:!0})],c.prototype,"updating",null),(0,s._)([(0,u.Cb)({readOnly:!0})],c.prototype,"updatingProgress",null),(0,s._)([(0,u.Cb)()],c.prototype,"visible",null),(0,s._)([(0,u.Cb)()],c.prototype,"view",void 0),c=(0,s._)([(0,p.j)("esri.views.layers.LayerView")],c);const _=c}}]);